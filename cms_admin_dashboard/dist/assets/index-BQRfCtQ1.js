(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function $p(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bh={exports:{}},ia={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function PC(){if($b)return ia;$b=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var c=null;if(a!==void 0&&(c=""+a),s.key!==void 0&&(c=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:a}}return ia.Fragment=e,ia.jsx=n,ia.jsxs=n,ia}var Kb;function FC(){return Kb||(Kb=1,bh.exports=PC()),bh.exports}var x=FC(),xh={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function $C(){if(Gb)return be;Gb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function k(M,V,ee){this.props=M,this.context=V,this.refs=C,this.updater=ee||S}k.prototype.isReactComponent={},k.prototype.setState=function(M,V){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,V,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function T(){}T.prototype=k.prototype;function j(M,V,ee){this.props=M,this.context=V,this.refs=C,this.updater=ee||S}var P=j.prototype=new T;P.constructor=j,E(P,k.prototype),P.isPureReactComponent=!0;var F=Array.isArray;function Y(){}var I={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function ae(M,V,ee){var te=ee.ref;return{$$typeof:t,type:M,key:V,ref:te!==void 0?te:null,props:ee}}function Q(M,V){return ae(M.type,V,M.props)}function re(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function ge(M){var V={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ee){return V[ee]})}var me=/\/+/g;function xe(M,V){return typeof M=="object"&&M!==null&&M.key!=null?ge(""+M.key):V.toString(36)}function Ne(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Y,Y):(M.status="pending",M.then(function(V){M.status==="pending"&&(M.status="fulfilled",M.value=V)},function(V){M.status==="pending"&&(M.status="rejected",M.reason=V)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function L(M,V,ee,te,se){var he=typeof M;(he==="undefined"||he==="boolean")&&(M=null);var Re=!1;if(M===null)Re=!0;else switch(he){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(M.$$typeof){case t:case e:Re=!0;break;case m:return Re=M._init,L(Re(M._payload),V,ee,te,se)}}if(Re)return se=se(M),Re=te===""?"."+xe(M,0):te,F(se)?(ee="",Re!=null&&(ee=Re.replace(me,"$&/")+"/"),L(se,V,ee,"",function(fl){return fl})):se!=null&&(re(se)&&(se=Q(se,ee+(se.key==null||M&&M.key===se.key?"":(""+se.key).replace(me,"$&/")+"/")+Re)),V.push(se)),1;Re=0;var _t=te===""?".":te+":";if(F(M))for(var st=0;st<M.length;st++)te=M[st],he=_t+xe(te,st),Re+=L(te,V,ee,he,se);else if(st=v(M),typeof st=="function")for(M=st.call(M),st=0;!(te=M.next()).done;)te=te.value,he=_t+xe(te,st++),Re+=L(te,V,ee,he,se);else if(he==="object"){if(typeof M.then=="function")return L(Ne(M),V,ee,te,se);throw V=String(M),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Re}function J(M,V,ee){if(M==null)return M;var te=[],se=0;return L(M,te,"","",function(he){return V.call(ee,he,se++)}),te}function q(M){if(M._status===-1){var V=M._result;V=V(),V.then(function(ee){(M._status===0||M._status===-1)&&(M._status=1,M._result=ee)},function(ee){(M._status===0||M._status===-1)&&(M._status=2,M._result=ee)}),M._status===-1&&(M._status=0,M._result=V)}if(M._status===1)return M._result.default;throw M._result}var W=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ce={map:J,forEach:function(M,V,ee){J(M,function(){V.apply(this,arguments)},ee)},count:function(M){var V=0;return J(M,function(){V++}),V},toArray:function(M){return J(M,function(V){return V})||[]},only:function(M){if(!re(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return be.Activity=y,be.Children=ce,be.Component=k,be.Fragment=n,be.Profiler=s,be.PureComponent=j,be.StrictMode=r,be.Suspense=d,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,be.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},be.cache=function(M){return function(){return M.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(M,V,ee){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var te=E({},M.props),se=M.key;if(V!=null)for(he in V.key!==void 0&&(se=""+V.key),V)!ne.call(V,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&V.ref===void 0||(te[he]=V[he]);var he=arguments.length-2;if(he===1)te.children=ee;else if(1<he){for(var Re=Array(he),_t=0;_t<he;_t++)Re[_t]=arguments[_t+2];te.children=Re}return ae(M.type,se,te)},be.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:a,_context:M},M},be.createElement=function(M,V,ee){var te,se={},he=null;if(V!=null)for(te in V.key!==void 0&&(he=""+V.key),V)ne.call(V,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(se[te]=V[te]);var Re=arguments.length-2;if(Re===1)se.children=ee;else if(1<Re){for(var _t=Array(Re),st=0;st<Re;st++)_t[st]=arguments[st+2];se.children=_t}if(M&&M.defaultProps)for(te in Re=M.defaultProps,Re)se[te]===void 0&&(se[te]=Re[te]);return ae(M,he,se)},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:u,render:M}},be.isValidElement=re,be.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:q}},be.memo=function(M,V){return{$$typeof:h,type:M,compare:V===void 0?null:V}},be.startTransition=function(M){var V=I.T,ee={};I.T=ee;try{var te=M(),se=I.S;se!==null&&se(ee,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Y,W)}catch(he){W(he)}finally{V!==null&&ee.types!==null&&(V.types=ee.types),I.T=V}},be.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},be.use=function(M){return I.H.use(M)},be.useActionState=function(M,V,ee){return I.H.useActionState(M,V,ee)},be.useCallback=function(M,V){return I.H.useCallback(M,V)},be.useContext=function(M){return I.H.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M,V){return I.H.useDeferredValue(M,V)},be.useEffect=function(M,V){return I.H.useEffect(M,V)},be.useEffectEvent=function(M){return I.H.useEffectEvent(M)},be.useId=function(){return I.H.useId()},be.useImperativeHandle=function(M,V,ee){return I.H.useImperativeHandle(M,V,ee)},be.useInsertionEffect=function(M,V){return I.H.useInsertionEffect(M,V)},be.useLayoutEffect=function(M,V){return I.H.useLayoutEffect(M,V)},be.useMemo=function(M,V){return I.H.useMemo(M,V)},be.useOptimistic=function(M,V){return I.H.useOptimistic(M,V)},be.useReducer=function(M,V,ee){return I.H.useReducer(M,V,ee)},be.useRef=function(M){return I.H.useRef(M)},be.useState=function(M){return I.H.useState(M)},be.useSyncExternalStore=function(M,V,ee){return I.H.useSyncExternalStore(M,V,ee)},be.useTransition=function(){return I.H.useTransition()},be.version="19.2.0",be}var Yb;function La(){return Yb||(Yb=1,xh.exports=$C()),xh.exports}var A=La();const Bt=$p(A);var vh={exports:{}},sa={},Sh={exports:{}},wh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function KC(){return Jb||(Jb=1,(function(t){function e(L,J){var q=L.length;L.push(J);e:for(;0<q;){var W=q-1>>>1,ce=L[W];if(0<s(ce,J))L[W]=J,L[q]=ce,q=W;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var J=L[0],q=L.pop();if(q!==J){L[0]=q;e:for(var W=0,ce=L.length,M=ce>>>1;W<M;){var V=2*(W+1)-1,ee=L[V],te=V+1,se=L[te];if(0>s(ee,q))te<ce&&0>s(se,ee)?(L[W]=se,L[te]=q,W=te):(L[W]=ee,L[V]=q,W=V);else if(te<ce&&0>s(se,q))L[W]=se,L[te]=q,W=te;else break e}}return J}function s(L,J){var q=L.sortIndex-J.sortIndex;return q!==0?q:L.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],h=[],m=1,y=null,b=3,v=!1,S=!1,E=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function P(L){for(var J=n(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=L)r(h),J.sortIndex=J.expirationTime,e(d,J);else break;J=n(h)}}function F(L){if(E=!1,P(L),!S)if(n(d)!==null)S=!0,Y||(Y=!0,ge());else{var J=n(h);J!==null&&Ne(F,J.startTime-L)}}var Y=!1,I=-1,ne=5,ae=-1;function Q(){return C?!0:!(t.unstable_now()-ae<ne)}function re(){if(C=!1,Y){var L=t.unstable_now();ae=L;var J=!0;try{e:{S=!1,E&&(E=!1,T(I),I=-1),v=!0;var q=b;try{t:{for(P(L),y=n(d);y!==null&&!(y.expirationTime>L&&Q());){var W=y.callback;if(typeof W=="function"){y.callback=null,b=y.priorityLevel;var ce=W(y.expirationTime<=L);if(L=t.unstable_now(),typeof ce=="function"){y.callback=ce,P(L),J=!0;break t}y===n(d)&&r(d),P(L)}else r(d);y=n(d)}if(y!==null)J=!0;else{var M=n(h);M!==null&&Ne(F,M.startTime-L),J=!1}}break e}finally{y=null,b=q,v=!1}J=void 0}}finally{J?ge():Y=!1}}}var ge;if(typeof j=="function")ge=function(){j(re)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,xe=me.port2;me.port1.onmessage=re,ge=function(){xe.postMessage(null)}}else ge=function(){k(re,0)};function Ne(L,J){I=k(function(){L(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(L){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var q=b;b=J;try{return L()}finally{b=q}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(L,J){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var q=b;b=L;try{return J()}finally{b=q}},t.unstable_scheduleCallback=function(L,J,q){var W=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?W+q:W):q=W,L){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=q+ce,L={id:m++,callback:J,priorityLevel:L,startTime:q,expirationTime:ce,sortIndex:-1},q>W?(L.sortIndex=q,e(h,L),n(d)===null&&L===n(h)&&(E?(T(I),I=-1):E=!0,Ne(F,q-W))):(L.sortIndex=ce,e(d,L),S||v||(S=!0,Y||(Y=!0,ge()))),L},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(L){var J=b;return function(){var q=b;b=J;try{return L.apply(this,arguments)}finally{b=q}}}})(wh)),wh}var Xb;function GC(){return Xb||(Xb=1,Sh.exports=KC()),Sh.exports}var Eh={exports:{}},Mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb;function YC(){if(Qb)return Mt;Qb=1;var t=La();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mt.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,m)},Mt.flushSync=function(d){var h=c.T,m=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=h,r.p=m,r.d.f()}},Mt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Mt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Mt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=u(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:v}):m==="script"&&r.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Mt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Mt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=u(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Mt.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Mt.requestFormReset=function(d){r.d.r(d)},Mt.unstable_batchedUpdates=function(d,h){return d(h)},Mt.useFormState=function(d,h,m){return c.H.useFormState(d,h,m)},Mt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Mt.version="19.2.0",Mt}var Zb;function Qx(){if(Zb)return Eh.exports;Zb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Eh.exports=YC(),Eh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function JC(){if(Wb)return sa;Wb=1;var t=GC(),e=La(),n=Qx();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)l+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var l=i,o=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(o=l.return),i=l.return;while(i)}return l.tag===3?o:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function u(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(a(i)!==i)throw Error(r(188))}function h(i){var l=i.alternate;if(!l){if(l=a(i),l===null)throw Error(r(188));return l!==i?null:i}for(var o=i,f=l;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(f=p.return,f!==null){o=f;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return d(p),i;if(g===f)return d(p),l;g=g.sibling}throw Error(r(188))}if(o.return!==f.return)o=p,f=g;else{for(var w=!1,N=p.child;N;){if(N===o){w=!0,o=p,f=g;break}if(N===f){w=!0,f=p,o=g;break}N=N.sibling}if(!w){for(N=g.child;N;){if(N===o){w=!0,o=g,f=p;break}if(N===f){w=!0,f=g,o=p;break}N=N.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==f)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:l}function m(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=m(i),l!==null)return l;i=i.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),j=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var me=Symbol.for("react.client.reference");function xe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===me?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case Y:return"SuspenseList";case ae:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case j:return i.displayName||"Context";case T:return(i._context.displayName||"Context")+".Consumer";case P:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return l=i.displayName||null,l!==null?l:xe(i.type)||"Memo";case ne:l=i._payload,i=i._init;try{return xe(i(l))}catch{}}return null}var Ne=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},W=[],ce=-1;function M(i){return{current:i}}function V(i){0>ce||(i.current=W[ce],W[ce]=null,ce--)}function ee(i,l){ce++,W[ce]=i.current,i.current=l}var te=M(null),se=M(null),he=M(null),Re=M(null);function _t(i,l){switch(ee(he,l),ee(se,i),ee(te,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?pb(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=pb(l),i=mb(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}V(te),ee(te,i)}function st(){V(te),V(se),V(he)}function fl(i){i.memoizedState!==null&&ee(Re,i);var l=te.current,o=mb(l,i.type);l!==o&&(ee(se,i),ee(te,o))}function Ja(i){se.current===i&&(V(te),V(se)),Re.current===i&&(V(Re),ea._currentValue=q)}var Wu,Fm;function gi(i){if(Wu===void 0)try{throw Error()}catch(o){var l=o.stack.trim().match(/\n( *(at )?)/);Wu=l&&l[1]||"",Fm=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wu+i+Fm}var ef=!1;function tf(i,l){if(!i||ef)return"";ef=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(U){var B=U}Reflect.construct(i,[],G)}else{try{G.call()}catch(U){B=U}i.call(G.prototype)}}else{try{throw Error()}catch(U){B=U}(G=i())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(U){if(U&&B&&typeof U.stack=="string")return[U.stack,B.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=f.DetermineComponentFrameRoot(),w=g[0],N=g[1];if(w&&N){var O=w.split(`
`),z=N.split(`
`);for(p=f=0;f<O.length&&!O[f].includes("DetermineComponentFrameRoot");)f++;for(;p<z.length&&!z[p].includes("DetermineComponentFrameRoot");)p++;if(f===O.length||p===z.length)for(f=O.length-1,p=z.length-1;1<=f&&0<=p&&O[f]!==z[p];)p--;for(;1<=f&&0<=p;f--,p--)if(O[f]!==z[p]){if(f!==1||p!==1)do if(f--,p--,0>p||O[f]!==z[p]){var $=`
`+O[f].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=f&&0<=p);break}}}finally{ef=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?gi(o):""}function vw(i,l){switch(i.tag){case 26:case 27:case 5:return gi(i.type);case 16:return gi("Lazy");case 13:return i.child!==l&&l!==null?gi("Suspense Fallback"):gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return tf(i.type,!1);case 11:return tf(i.type.render,!1);case 1:return tf(i.type,!0);case 31:return gi("Activity");default:return""}}function $m(i){try{var l="",o=null;do l+=vw(i,o),o=i,i=i.return;while(i);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var nf=Object.prototype.hasOwnProperty,rf=t.unstable_scheduleCallback,sf=t.unstable_cancelCallback,Sw=t.unstable_shouldYield,ww=t.unstable_requestPaint,Wt=t.unstable_now,Ew=t.unstable_getCurrentPriorityLevel,Km=t.unstable_ImmediatePriority,Gm=t.unstable_UserBlockingPriority,Xa=t.unstable_NormalPriority,Cw=t.unstable_LowPriority,Ym=t.unstable_IdlePriority,Nw=t.log,Tw=t.unstable_setDisableYieldValue,dl=null,en=null;function Tr(i){if(typeof Nw=="function"&&Tw(i),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(dl,i)}catch{}}var tn=Math.clz32?Math.clz32:Mw,kw=Math.log,Aw=Math.LN2;function Mw(i){return i>>>=0,i===0?32:31-(kw(i)/Aw|0)|0}var Qa=256,Za=262144,Wa=4194304;function yi(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function eo(i,l,o){var f=i.pendingLanes;if(f===0)return 0;var p=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var N=f&134217727;return N!==0?(f=N&~g,f!==0?p=yi(f):(w&=N,w!==0?p=yi(w):o||(o=N&~i,o!==0&&(p=yi(o))))):(N=f&~g,N!==0?p=yi(N):w!==0?p=yi(w):o||(o=f&~i,o!==0&&(p=yi(o)))),p===0?0:l!==0&&l!==p&&(l&g)===0&&(g=p&-p,o=l&-l,g>=o||g===32&&(o&4194048)!==0)?l:p}function hl(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function Ow(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jm(){var i=Wa;return Wa<<=1,(Wa&62914560)===0&&(Wa=4194304),i}function lf(i){for(var l=[],o=0;31>o;o++)l.push(i);return l}function pl(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Rw(i,l,o,f,p,g){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var N=i.entanglements,O=i.expirationTimes,z=i.hiddenUpdates;for(o=w&~o;0<o;){var $=31-tn(o),G=1<<$;N[$]=0,O[$]=-1;var B=z[$];if(B!==null)for(z[$]=null,$=0;$<B.length;$++){var U=B[$];U!==null&&(U.lane&=-536870913)}o&=~G}f!==0&&Xm(i,f,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~l))}function Xm(i,l,o){i.pendingLanes|=l,i.suspendedLanes&=~l;var f=31-tn(l);i.entangledLanes|=l,i.entanglements[f]=i.entanglements[f]|1073741824|o&261930}function Qm(i,l){var o=i.entangledLanes|=l;for(i=i.entanglements;o;){var f=31-tn(o),p=1<<f;p&l|i[f]&l&&(i[f]|=l),o&=~p}}function Zm(i,l){var o=l&-l;return o=(o&42)!==0?1:af(o),(o&(i.suspendedLanes|l))!==0?0:o}function af(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function of(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Wm(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:Hb(i.type))}function eg(i,l){var o=J.p;try{return J.p=i,l()}finally{J.p=o}}var kr=Math.random().toString(36).slice(2),St="__reactFiber$"+kr,It="__reactProps$"+kr,rs="__reactContainer$"+kr,cf="__reactEvents$"+kr,jw="__reactListeners$"+kr,Dw="__reactHandles$"+kr,tg="__reactResources$"+kr,ml="__reactMarker$"+kr;function uf(i){delete i[St],delete i[It],delete i[cf],delete i[jw],delete i[Dw]}function is(i){var l=i[St];if(l)return l;for(var o=i.parentNode;o;){if(l=o[rs]||o[St]){if(o=l.alternate,l.child!==null||o!==null&&o.child!==null)for(i=wb(i);i!==null;){if(o=i[St])return o;i=wb(i)}return l}i=o,o=i.parentNode}return null}function ss(i){if(i=i[St]||i[rs]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function gl(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function ls(i){var l=i[tg];return l||(l=i[tg]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function mt(i){i[ml]=!0}var ng=new Set,rg={};function bi(i,l){as(i,l),as(i+"Capture",l)}function as(i,l){for(rg[i]=l,i=0;i<l.length;i++)ng.add(l[i])}var _w=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ig={},sg={};function zw(i){return nf.call(sg,i)?!0:nf.call(ig,i)?!1:_w.test(i)?sg[i]=!0:(ig[i]=!0,!1)}function to(i,l,o){if(zw(l))if(o===null)i.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+o)}}function no(i,l,o){if(o===null)i.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+o)}}function Xn(i,l,o,f){if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(l,o,""+f)}}function hn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function lg(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Lw(i,l,o){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var p=f.get,g=f.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(i,l,{enumerable:f.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function ff(i){if(!i._valueTracker){var l=lg(i)?"checked":"value";i._valueTracker=Lw(i,l,""+i[l])}}function ag(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var o=l.getValue(),f="";return i&&(f=lg(i)?i.checked?"true":"false":i.value),i=f,i!==o?(l.setValue(i),!0):!1}function ro(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Bw=/[\n"\\]/g;function pn(i){return i.replace(Bw,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function df(i,l,o,f,p,g,w,N){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),l!=null?w==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+hn(l)):i.value!==""+hn(l)&&(i.value=""+hn(l)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),l!=null?hf(i,w,hn(l)):o!=null?hf(i,w,hn(o)):f!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+hn(N):i.removeAttribute("name")}function og(i,l,o,f,p,g,w,N){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),l!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||l!=null)){ff(i);return}o=o!=null?""+hn(o):"",l=l!=null?""+hn(l):o,N||l===i.value||(i.value=l),i.defaultValue=l}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=N?i.checked:!!f,i.defaultChecked=!!f,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),ff(i)}function hf(i,l,o){l==="number"&&ro(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function cs(i,l,o,f){if(i=i.options,l){l={};for(var p=0;p<o.length;p++)l["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=l.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&f&&(i[o].defaultSelected=!0)}else{for(o=""+hn(o),l=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}l!==null||i[p].disabled||(l=i[p])}l!==null&&(l.selected=!0)}}function cg(i,l,o){if(l!=null&&(l=""+hn(l),l!==i.value&&(i.value=l),o==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=o!=null?""+hn(o):""}function ug(i,l,o,f){if(l==null){if(f!=null){if(o!=null)throw Error(r(92));if(Ne(f)){if(1<f.length)throw Error(r(93));f=f[0]}o=f}o==null&&(o=""),l=o}o=hn(l),i.defaultValue=o,f=i.textContent,f===o&&f!==""&&f!==null&&(i.value=f),ff(i)}function us(i,l){if(l){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=l;return}}i.textContent=l}var Hw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fg(i,l,o){var f=l.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?f?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":f?i.setProperty(l,o):typeof o!="number"||o===0||Hw.has(l)?l==="float"?i.cssFloat=o:i[l]=(""+o).trim():i[l]=o+"px"}function dg(i,l,o){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,o!=null){for(var f in o)!o.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var p in l)f=l[p],l.hasOwnProperty(p)&&o[p]!==f&&fg(i,p,f)}else for(var g in l)l.hasOwnProperty(g)&&fg(i,g,l[g])}function pf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(i){return Vw.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Qn(){}var mf=null;function gf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var fs=null,ds=null;function hg(i){var l=ss(i);if(l&&(i=l.stateNode)){var o=i[It]||null;e:switch(i=l.stateNode,l.type){case"input":if(df(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),l=o.name,o.type==="radio"&&l!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+l)+'"][type="radio"]'),l=0;l<o.length;l++){var f=o[l];if(f!==i&&f.form===i.form){var p=f[It]||null;if(!p)throw Error(r(90));df(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(l=0;l<o.length;l++)f=o[l],f.form===i.form&&ag(f)}break e;case"textarea":cg(i,o.value,o.defaultValue);break e;case"select":l=o.value,l!=null&&cs(i,!!o.multiple,l,!1)}}}var yf=!1;function pg(i,l,o){if(yf)return i(l,o);yf=!0;try{var f=i(l);return f}finally{if(yf=!1,(fs!==null||ds!==null)&&(Ko(),fs&&(l=fs,i=ds,ds=fs=null,hg(l),i)))for(l=0;l<i.length;l++)hg(i[l])}}function yl(i,l){var o=i.stateNode;if(o===null)return null;var f=o[It]||null;if(f===null)return null;o=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,l,typeof o));return o}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=!1;if(Zn)try{var bl={};Object.defineProperty(bl,"passive",{get:function(){bf=!0}}),window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{bf=!1}var Ar=null,xf=null,so=null;function mg(){if(so)return so;var i,l=xf,o=l.length,f,p="value"in Ar?Ar.value:Ar.textContent,g=p.length;for(i=0;i<o&&l[i]===p[i];i++);var w=o-i;for(f=1;f<=w&&l[o-f]===p[g-f];f++);return so=p.slice(i,1<f?1-f:void 0)}function lo(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ao(){return!0}function gg(){return!1}function qt(i){function l(o,f,p,g,w){this._reactName=o,this._targetInst=p,this.type=f,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(o=i[N],this[N]=o?o(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ao:gg,this.isPropagationStopped=gg,this}return y(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ao)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ao)},persist:function(){},isPersistent:ao}),l}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=qt(xi),xl=y({},xi,{view:0,detail:0}),Iw=qt(xl),vf,Sf,vl,co=y({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ef,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vl&&(vl&&i.type==="mousemove"?(vf=i.screenX-vl.screenX,Sf=i.screenY-vl.screenY):Sf=vf=0,vl=i),vf)},movementY:function(i){return"movementY"in i?i.movementY:Sf}}),yg=qt(co),qw=y({},co,{dataTransfer:0}),Pw=qt(qw),Fw=y({},xl,{relatedTarget:0}),wf=qt(Fw),$w=y({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Kw=qt($w),Gw=y({},xi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Yw=qt(Gw),Jw=y({},xi,{data:0}),bg=qt(Jw),Xw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ww(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Zw[i])?!!l[i]:!1}function Ef(){return Ww}var eE=y({},xl,{key:function(i){if(i.key){var l=Xw[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=lo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qw[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ef,charCode:function(i){return i.type==="keypress"?lo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?lo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tE=qt(eE),nE=y({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xg=qt(nE),rE=y({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ef}),iE=qt(rE),sE=y({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),lE=qt(sE),aE=y({},co,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),oE=qt(aE),cE=y({},xi,{newState:0,oldState:0}),uE=qt(cE),fE=[9,13,27,32],Cf=Zn&&"CompositionEvent"in window,Sl=null;Zn&&"documentMode"in document&&(Sl=document.documentMode);var dE=Zn&&"TextEvent"in window&&!Sl,vg=Zn&&(!Cf||Sl&&8<Sl&&11>=Sl),Sg=" ",wg=!1;function Eg(i,l){switch(i){case"keyup":return fE.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var hs=!1;function hE(i,l){switch(i){case"compositionend":return Cg(l);case"keypress":return l.which!==32?null:(wg=!0,Sg);case"textInput":return i=l.data,i===Sg&&wg?null:i;default:return null}}function pE(i,l){if(hs)return i==="compositionend"||!Cf&&Eg(i,l)?(i=mg(),so=xf=Ar=null,hs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return vg&&l.locale!=="ko"?null:l.data;default:return null}}var mE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!mE[i.type]:l==="textarea"}function Tg(i,l,o,f){fs?ds?ds.push(f):ds=[f]:fs=f,l=Wo(l,"onChange"),0<l.length&&(o=new oo("onChange","change",null,o,f),i.push({event:o,listeners:l}))}var wl=null,El=null;function gE(i){ob(i,0)}function uo(i){var l=gl(i);if(ag(l))return i}function kg(i,l){if(i==="change")return l}var Ag=!1;if(Zn){var Nf;if(Zn){var Tf="oninput"in document;if(!Tf){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Tf=typeof Mg.oninput=="function"}Nf=Tf}else Nf=!1;Ag=Nf&&(!document.documentMode||9<document.documentMode)}function Og(){wl&&(wl.detachEvent("onpropertychange",Rg),El=wl=null)}function Rg(i){if(i.propertyName==="value"&&uo(El)){var l=[];Tg(l,El,i,gf(i)),pg(gE,l)}}function yE(i,l,o){i==="focusin"?(Og(),wl=l,El=o,wl.attachEvent("onpropertychange",Rg)):i==="focusout"&&Og()}function bE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return uo(El)}function xE(i,l){if(i==="click")return uo(l)}function vE(i,l){if(i==="input"||i==="change")return uo(l)}function SE(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var nn=typeof Object.is=="function"?Object.is:SE;function Cl(i,l){if(nn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var o=Object.keys(i),f=Object.keys(l);if(o.length!==f.length)return!1;for(f=0;f<o.length;f++){var p=o[f];if(!nf.call(l,p)||!nn(i[p],l[p]))return!1}return!0}function jg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Dg(i,l){var o=jg(i);i=0;for(var f;o;){if(o.nodeType===3){if(f=i+o.textContent.length,i<=l&&f>=l)return{node:o,offset:l-i};i=f}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jg(o)}}function _g(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?_g(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function zg(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=ro(i.document);l instanceof i.HTMLIFrameElement;){try{var o=typeof l.contentWindow.location.href=="string"}catch{o=!1}if(o)i=l.contentWindow;else break;l=ro(i.document)}return l}function kf(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var wE=Zn&&"documentMode"in document&&11>=document.documentMode,ps=null,Af=null,Nl=null,Mf=!1;function Lg(i,l,o){var f=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Mf||ps==null||ps!==ro(f)||(f=ps,"selectionStart"in f&&kf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Nl&&Cl(Nl,f)||(Nl=f,f=Wo(Af,"onSelect"),0<f.length&&(l=new oo("onSelect","select",null,l,o),i.push({event:l,listeners:f}),l.target=ps)))}function vi(i,l){var o={};return o[i.toLowerCase()]=l.toLowerCase(),o["Webkit"+i]="webkit"+l,o["Moz"+i]="moz"+l,o}var ms={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},Of={},Bg={};Zn&&(Bg=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Si(i){if(Of[i])return Of[i];if(!ms[i])return i;var l=ms[i],o;for(o in l)if(l.hasOwnProperty(o)&&o in Bg)return Of[i]=l[o];return i}var Hg=Si("animationend"),Ug=Si("animationiteration"),Vg=Si("animationstart"),EE=Si("transitionrun"),CE=Si("transitionstart"),NE=Si("transitioncancel"),Ig=Si("transitionend"),qg=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rf.push("scrollEnd");function Mn(i,l){qg.set(i,l),bi(l,[i])}var fo=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},mn=[],gs=0,jf=0;function ho(){for(var i=gs,l=jf=gs=0;l<i;){var o=mn[l];mn[l++]=null;var f=mn[l];mn[l++]=null;var p=mn[l];mn[l++]=null;var g=mn[l];if(mn[l++]=null,f!==null&&p!==null){var w=f.pending;w===null?p.next=p:(p.next=w.next,w.next=p),f.pending=p}g!==0&&Pg(o,p,g)}}function po(i,l,o,f){mn[gs++]=i,mn[gs++]=l,mn[gs++]=o,mn[gs++]=f,jf|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Df(i,l,o,f){return po(i,l,o,f),mo(i)}function wi(i,l){return po(i,null,null,l),mo(i)}function Pg(i,l,o){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o);for(var p=!1,g=i.return;g!==null;)g.childLanes|=o,f=g.alternate,f!==null&&(f.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&l!==null&&(p=31-tn(o),i=g.hiddenUpdates,f=i[p],f===null?i[p]=[l]:f.push(l),l.lane=o|536870912),g):null}function mo(i){if(50<Gl)throw Gl=0,qd=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var ys={};function TE(i,l,o,f){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(i,l,o,f){return new TE(i,l,o,f)}function _f(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Wn(i,l){var o=i.alternate;return o===null?(o=rn(i.tag,l,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=l,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,l=i.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Fg(i,l){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,l=o.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function go(i,l,o,f,p,g){var w=0;if(f=i,typeof i=="function")_f(i)&&(w=1);else if(typeof i=="string")w=RC(i,o,te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ae:return i=rn(31,o,l,p),i.elementType=ae,i.lanes=g,i;case E:return Ei(o.children,p,g,l);case C:w=8,p|=24;break;case k:return i=rn(12,o,l,p|2),i.elementType=k,i.lanes=g,i;case F:return i=rn(13,o,l,p),i.elementType=F,i.lanes=g,i;case Y:return i=rn(19,o,l,p),i.elementType=Y,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:w=10;break e;case T:w=9;break e;case P:w=11;break e;case I:w=14;break e;case ne:w=16,f=null;break e}w=29,o=Error(r(130,i===null?"null":typeof i,"")),f=null}return l=rn(w,o,l,p),l.elementType=i,l.type=f,l.lanes=g,l}function Ei(i,l,o,f){return i=rn(7,i,f,l),i.lanes=o,i}function zf(i,l,o){return i=rn(6,i,null,l),i.lanes=o,i}function $g(i){var l=rn(18,null,null,0);return l.stateNode=i,l}function Lf(i,l,o){return l=rn(4,i.children!==null?i.children:[],i.key,l),l.lanes=o,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Kg=new WeakMap;function gn(i,l){if(typeof i=="object"&&i!==null){var o=Kg.get(i);return o!==void 0?o:(l={value:i,source:l,stack:$m(l)},Kg.set(i,l),l)}return{value:i,source:l,stack:$m(l)}}var bs=[],xs=0,yo=null,Tl=0,yn=[],bn=0,Mr=null,Un=1,Vn="";function er(i,l){bs[xs++]=Tl,bs[xs++]=yo,yo=i,Tl=l}function Gg(i,l,o){yn[bn++]=Un,yn[bn++]=Vn,yn[bn++]=Mr,Mr=i;var f=Un;i=Vn;var p=32-tn(f)-1;f&=~(1<<p),o+=1;var g=32-tn(l)+p;if(30<g){var w=p-p%5;g=(f&(1<<w)-1).toString(32),f>>=w,p-=w,Un=1<<32-tn(l)+p|o<<p|f,Vn=g+i}else Un=1<<g|o<<p|f,Vn=i}function Bf(i){i.return!==null&&(er(i,1),Gg(i,1,0))}function Hf(i){for(;i===yo;)yo=bs[--xs],bs[xs]=null,Tl=bs[--xs],bs[xs]=null;for(;i===Mr;)Mr=yn[--bn],yn[bn]=null,Vn=yn[--bn],yn[bn]=null,Un=yn[--bn],yn[bn]=null}function Yg(i,l){yn[bn++]=Un,yn[bn++]=Vn,yn[bn++]=Mr,Un=l.id,Vn=l.overflow,Mr=i}var wt=null,Ke=null,je=!1,Or=null,xn=!1,Uf=Error(r(519));function Rr(i){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(gn(l,i)),Uf}function Jg(i){var l=i.stateNode,o=i.type,f=i.memoizedProps;switch(l[St]=i,l[It]=f,o){case"dialog":ke("cancel",l),ke("close",l);break;case"iframe":case"object":case"embed":ke("load",l);break;case"video":case"audio":for(o=0;o<Jl.length;o++)ke(Jl[o],l);break;case"source":ke("error",l);break;case"img":case"image":case"link":ke("error",l),ke("load",l);break;case"details":ke("toggle",l);break;case"input":ke("invalid",l),og(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":ke("invalid",l);break;case"textarea":ke("invalid",l),ug(l,f.value,f.defaultValue,f.children)}o=f.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||l.textContent===""+o||f.suppressHydrationWarning===!0||db(l.textContent,o)?(f.popover!=null&&(ke("beforetoggle",l),ke("toggle",l)),f.onScroll!=null&&ke("scroll",l),f.onScrollEnd!=null&&ke("scrollend",l),f.onClick!=null&&(l.onclick=Qn),l=!0):l=!1,l||Rr(i,!0)}function Xg(i){for(wt=i.return;wt;)switch(wt.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:wt=wt.return}}function vs(i){if(i!==wt)return!1;if(!je)return Xg(i),je=!0,!1;var l=i.tag,o;if((o=l!==3&&l!==27)&&((o=l===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||rh(i.type,i.memoizedProps)),o=!o),o&&Ke&&Rr(i),Xg(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ke=Sb(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ke=Sb(i)}else l===27?(l=Ke,$r(i.type)?(i=oh,oh=null,Ke=i):Ke=l):Ke=wt?Sn(i.stateNode.nextSibling):null;return!0}function Ci(){Ke=wt=null,je=!1}function Vf(){var i=Or;return i!==null&&(Kt===null?Kt=i:Kt.push.apply(Kt,i),Or=null),i}function kl(i){Or===null?Or=[i]:Or.push(i)}var If=M(null),Ni=null,tr=null;function jr(i,l,o){ee(If,l._currentValue),l._currentValue=o}function nr(i){i._currentValue=If.current,V(If)}function qf(i,l,o){for(;i!==null;){var f=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),i===o)break;i=i.return}}function Pf(i,l,o,f){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var w=p.child;g=g.firstContext;e:for(;g!==null;){var N=g;g=p;for(var O=0;O<l.length;O++)if(N.context===l[O]){g.lanes|=o,N=g.alternate,N!==null&&(N.lanes|=o),qf(g.return,o,i),f||(w=null);break e}g=N.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),qf(w,o,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Ss(i,l,o,f){i=null;for(var p=l,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var N=p.type;nn(p.pendingProps.value,w.value)||(i!==null?i.push(N):i=[N])}}else if(p===Re.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(ea):i=[ea])}p=p.return}i!==null&&Pf(l,i,o,f),l.flags|=262144}function bo(i){for(i=i.firstContext;i!==null;){if(!nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ti(i){Ni=i,tr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Et(i){return Qg(Ni,i)}function xo(i,l){return Ni===null&&Ti(i),Qg(i,l)}function Qg(i,l){var o=l._currentValue;if(l={context:l,memoizedValue:o,next:null},tr===null){if(i===null)throw Error(r(308));tr=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else tr=tr.next=l;return o}var kE=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(o,f){i.push(f)}};this.abort=function(){l.aborted=!0,i.forEach(function(o){return o()})}},AE=t.unstable_scheduleCallback,ME=t.unstable_NormalPriority,ot={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new kE,data:new Map,refCount:0}}function Al(i){i.refCount--,i.refCount===0&&AE(ME,function(){i.controller.abort()})}var Ml=null,$f=0,ws=0,Es=null;function OE(i,l){if(Ml===null){var o=Ml=[];$f=0,ws=Yd(),Es={status:"pending",value:void 0,then:function(f){o.push(f)}}}return $f++,l.then(Zg,Zg),l}function Zg(){if(--$f===0&&Ml!==null){Es!==null&&(Es.status="fulfilled");var i=Ml;Ml=null,ws=0,Es=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function RE(i,l){var o=[],f={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){f.status="fulfilled",f.value=l;for(var p=0;p<o.length;p++)(0,o[p])(l)},function(p){for(f.status="rejected",f.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),f}var Wg=L.S;L.S=function(i,l){Ly=Wt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&OE(i,l),Wg!==null&&Wg(i,l)};var ki=M(null);function Kf(){var i=ki.current;return i!==null?i:Pe.pooledCache}function vo(i,l){l===null?ee(ki,ki.current):ee(ki,l.pool)}function e0(){var i=Kf();return i===null?null:{parent:ot._currentValue,pool:i}}var Cs=Error(r(460)),Gf=Error(r(474)),So=Error(r(542)),wo={then:function(){}};function t0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function n0(i,l,o){switch(o=i[o],o===void 0?i.push(l):o!==l&&(l.then(Qn,Qn),l=o),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,i0(i),i;default:if(typeof l.status=="string")l.then(Qn,Qn);else{if(i=Pe,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(f){if(l.status==="pending"){var p=l;p.status="fulfilled",p.value=f}},function(f){if(l.status==="pending"){var p=l;p.status="rejected",p.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,i0(i),i}throw Mi=l,Cs}}function Ai(i){try{var l=i._init;return l(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Mi=o,Cs):o}}var Mi=null;function r0(){if(Mi===null)throw Error(r(459));var i=Mi;return Mi=null,i}function i0(i){if(i===Cs||i===So)throw Error(r(483))}var Ns=null,Ol=0;function Eo(i){var l=Ol;return Ol+=1,Ns===null&&(Ns=[]),n0(Ns,i,l)}function Rl(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Co(i,l){throw l.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function s0(i){function l(D,R){if(i){var _=D.deletions;_===null?(D.deletions=[R],D.flags|=16):_.push(R)}}function o(D,R){if(!i)return null;for(;R!==null;)l(D,R),R=R.sibling;return null}function f(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function p(D,R){return D=Wn(D,R),D.index=0,D.sibling=null,D}function g(D,R,_){return D.index=_,i?(_=D.alternate,_!==null?(_=_.index,_<R?(D.flags|=67108866,R):_):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function w(D){return i&&D.alternate===null&&(D.flags|=67108866),D}function N(D,R,_,K){return R===null||R.tag!==6?(R=zf(_,D.mode,K),R.return=D,R):(R=p(R,_),R.return=D,R)}function O(D,R,_,K){var ue=_.type;return ue===E?$(D,R,_.props.children,K,_.key):R!==null&&(R.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ne&&Ai(ue)===R.type)?(R=p(R,_.props),Rl(R,_),R.return=D,R):(R=go(_.type,_.key,_.props,null,D.mode,K),Rl(R,_),R.return=D,R)}function z(D,R,_,K){return R===null||R.tag!==4||R.stateNode.containerInfo!==_.containerInfo||R.stateNode.implementation!==_.implementation?(R=Lf(_,D.mode,K),R.return=D,R):(R=p(R,_.children||[]),R.return=D,R)}function $(D,R,_,K,ue){return R===null||R.tag!==7?(R=Ei(_,D.mode,K,ue),R.return=D,R):(R=p(R,_),R.return=D,R)}function G(D,R,_){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=zf(""+R,D.mode,_),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case v:return _=go(R.type,R.key,R.props,null,D.mode,_),Rl(_,R),_.return=D,_;case S:return R=Lf(R,D.mode,_),R.return=D,R;case ne:return R=Ai(R),G(D,R,_)}if(Ne(R)||ge(R))return R=Ei(R,D.mode,_,null),R.return=D,R;if(typeof R.then=="function")return G(D,Eo(R),_);if(R.$$typeof===j)return G(D,xo(D,R),_);Co(D,R)}return null}function B(D,R,_,K){var ue=R!==null?R.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return ue!==null?null:N(D,R,""+_,K);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case v:return _.key===ue?O(D,R,_,K):null;case S:return _.key===ue?z(D,R,_,K):null;case ne:return _=Ai(_),B(D,R,_,K)}if(Ne(_)||ge(_))return ue!==null?null:$(D,R,_,K,null);if(typeof _.then=="function")return B(D,R,Eo(_),K);if(_.$$typeof===j)return B(D,R,xo(D,_),K);Co(D,_)}return null}function U(D,R,_,K,ue){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return D=D.get(_)||null,N(R,D,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return D=D.get(K.key===null?_:K.key)||null,O(R,D,K,ue);case S:return D=D.get(K.key===null?_:K.key)||null,z(R,D,K,ue);case ne:return K=Ai(K),U(D,R,_,K,ue)}if(Ne(K)||ge(K))return D=D.get(_)||null,$(R,D,K,ue,null);if(typeof K.then=="function")return U(D,R,_,Eo(K),ue);if(K.$$typeof===j)return U(D,R,_,xo(R,K),ue);Co(R,K)}return null}function le(D,R,_,K){for(var ue=null,_e=null,oe=R,we=R=0,Oe=null;oe!==null&&we<_.length;we++){oe.index>we?(Oe=oe,oe=null):Oe=oe.sibling;var ze=B(D,oe,_[we],K);if(ze===null){oe===null&&(oe=Oe);break}i&&oe&&ze.alternate===null&&l(D,oe),R=g(ze,R,we),_e===null?ue=ze:_e.sibling=ze,_e=ze,oe=Oe}if(we===_.length)return o(D,oe),je&&er(D,we),ue;if(oe===null){for(;we<_.length;we++)oe=G(D,_[we],K),oe!==null&&(R=g(oe,R,we),_e===null?ue=oe:_e.sibling=oe,_e=oe);return je&&er(D,we),ue}for(oe=f(oe);we<_.length;we++)Oe=U(oe,D,we,_[we],K),Oe!==null&&(i&&Oe.alternate!==null&&oe.delete(Oe.key===null?we:Oe.key),R=g(Oe,R,we),_e===null?ue=Oe:_e.sibling=Oe,_e=Oe);return i&&oe.forEach(function(Xr){return l(D,Xr)}),je&&er(D,we),ue}function pe(D,R,_,K){if(_==null)throw Error(r(151));for(var ue=null,_e=null,oe=R,we=R=0,Oe=null,ze=_.next();oe!==null&&!ze.done;we++,ze=_.next()){oe.index>we?(Oe=oe,oe=null):Oe=oe.sibling;var Xr=B(D,oe,ze.value,K);if(Xr===null){oe===null&&(oe=Oe);break}i&&oe&&Xr.alternate===null&&l(D,oe),R=g(Xr,R,we),_e===null?ue=Xr:_e.sibling=Xr,_e=Xr,oe=Oe}if(ze.done)return o(D,oe),je&&er(D,we),ue;if(oe===null){for(;!ze.done;we++,ze=_.next())ze=G(D,ze.value,K),ze!==null&&(R=g(ze,R,we),_e===null?ue=ze:_e.sibling=ze,_e=ze);return je&&er(D,we),ue}for(oe=f(oe);!ze.done;we++,ze=_.next())ze=U(oe,D,we,ze.value,K),ze!==null&&(i&&ze.alternate!==null&&oe.delete(ze.key===null?we:ze.key),R=g(ze,R,we),_e===null?ue=ze:_e.sibling=ze,_e=ze);return i&&oe.forEach(function(qC){return l(D,qC)}),je&&er(D,we),ue}function qe(D,R,_,K){if(typeof _=="object"&&_!==null&&_.type===E&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case v:e:{for(var ue=_.key;R!==null;){if(R.key===ue){if(ue=_.type,ue===E){if(R.tag===7){o(D,R.sibling),K=p(R,_.props.children),K.return=D,D=K;break e}}else if(R.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ne&&Ai(ue)===R.type){o(D,R.sibling),K=p(R,_.props),Rl(K,_),K.return=D,D=K;break e}o(D,R);break}else l(D,R);R=R.sibling}_.type===E?(K=Ei(_.props.children,D.mode,K,_.key),K.return=D,D=K):(K=go(_.type,_.key,_.props,null,D.mode,K),Rl(K,_),K.return=D,D=K)}return w(D);case S:e:{for(ue=_.key;R!==null;){if(R.key===ue)if(R.tag===4&&R.stateNode.containerInfo===_.containerInfo&&R.stateNode.implementation===_.implementation){o(D,R.sibling),K=p(R,_.children||[]),K.return=D,D=K;break e}else{o(D,R);break}else l(D,R);R=R.sibling}K=Lf(_,D.mode,K),K.return=D,D=K}return w(D);case ne:return _=Ai(_),qe(D,R,_,K)}if(Ne(_))return le(D,R,_,K);if(ge(_)){if(ue=ge(_),typeof ue!="function")throw Error(r(150));return _=ue.call(_),pe(D,R,_,K)}if(typeof _.then=="function")return qe(D,R,Eo(_),K);if(_.$$typeof===j)return qe(D,R,xo(D,_),K);Co(D,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,R!==null&&R.tag===6?(o(D,R.sibling),K=p(R,_),K.return=D,D=K):(o(D,R),K=zf(_,D.mode,K),K.return=D,D=K),w(D)):o(D,R)}return function(D,R,_,K){try{Ol=0;var ue=qe(D,R,_,K);return Ns=null,ue}catch(oe){if(oe===Cs||oe===So)throw oe;var _e=rn(29,oe,null,D.mode);return _e.lanes=K,_e.return=D,_e}finally{}}}var Oi=s0(!0),l0=s0(!1),Dr=!1;function Yf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jf(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function _r(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zr(i,l,o){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Le&2)!==0){var p=f.pending;return p===null?l.next=l:(l.next=p.next,p.next=l),f.pending=l,l=mo(i),Pg(i,null,o),l}return po(i,f,l,o),mo(i)}function jl(i,l,o){if(l=l.updateQueue,l!==null&&(l=l.shared,(o&4194048)!==0)){var f=l.lanes;f&=i.pendingLanes,o|=f,l.lanes=o,Qm(i,o)}}function Xf(i,l){var o=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,o===f)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?p=g=l:g=g.next=l}else p=g=l;o={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:f.shared,callbacks:f.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=l:i.next=l,o.lastBaseUpdate=l}var Qf=!1;function Dl(){if(Qf){var i=Es;if(i!==null)throw i}}function _l(i,l,o,f){Qf=!1;var p=i.updateQueue;Dr=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var O=N,z=O.next;O.next=null,w===null?g=z:w.next=z,w=O;var $=i.alternate;$!==null&&($=$.updateQueue,N=$.lastBaseUpdate,N!==w&&(N===null?$.firstBaseUpdate=z:N.next=z,$.lastBaseUpdate=O))}if(g!==null){var G=p.baseState;w=0,$=z=O=null,N=g;do{var B=N.lane&-536870913,U=B!==N.lane;if(U?(Me&B)===B:(f&B)===B){B!==0&&B===ws&&(Qf=!0),$!==null&&($=$.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var le=i,pe=N;B=l;var qe=o;switch(pe.tag){case 1:if(le=pe.payload,typeof le=="function"){G=le.call(qe,G,B);break e}G=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=pe.payload,B=typeof le=="function"?le.call(qe,G,B):le,B==null)break e;G=y({},G,B);break e;case 2:Dr=!0}}B=N.callback,B!==null&&(i.flags|=64,U&&(i.flags|=8192),U=p.callbacks,U===null?p.callbacks=[B]:U.push(B))}else U={lane:B,tag:N.tag,payload:N.payload,callback:N.callback,next:null},$===null?(z=$=U,O=G):$=$.next=U,w|=B;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;U=N,N=U.next,U.next=null,p.lastBaseUpdate=U,p.shared.pending=null}}while(!0);$===null&&(O=G),p.baseState=O,p.firstBaseUpdate=z,p.lastBaseUpdate=$,g===null&&(p.shared.lanes=0),Vr|=w,i.lanes=w,i.memoizedState=G}}function a0(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function o0(i,l){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)a0(o[i],l)}var Ts=M(null),No=M(0);function c0(i,l){i=fr,ee(No,i),ee(Ts,l),fr=i|l.baseLanes}function Zf(){ee(No,fr),ee(Ts,Ts.current)}function Wf(){fr=No.current,V(Ts),V(No)}var sn=M(null),vn=null;function Lr(i){var l=i.alternate;ee(lt,lt.current&1),ee(sn,i),vn===null&&(l===null||Ts.current!==null||l.memoizedState!==null)&&(vn=i)}function ed(i){ee(lt,lt.current),ee(sn,i),vn===null&&(vn=i)}function u0(i){i.tag===22?(ee(lt,lt.current),ee(sn,i),vn===null&&(vn=i)):Br()}function Br(){ee(lt,lt.current),ee(sn,sn.current)}function ln(i){V(sn),vn===i&&(vn=null),V(lt)}var lt=M(0);function To(i){for(var l=i;l!==null;){if(l.tag===13){var o=l.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||lh(o)||ah(o)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var rr=0,ve=null,Ve=null,ct=null,ko=!1,ks=!1,Ri=!1,Ao=0,zl=0,As=null,jE=0;function Ze(){throw Error(r(321))}function td(i,l){if(l===null)return!1;for(var o=0;o<l.length&&o<i.length;o++)if(!nn(i[o],l[o]))return!1;return!0}function nd(i,l,o,f,p,g){return rr=g,ve=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,L.H=i===null||i.memoizedState===null?G0:yd,Ri=!1,g=o(f,p),Ri=!1,ks&&(g=d0(l,o,f,p)),f0(i),g}function f0(i){L.H=Hl;var l=Ve!==null&&Ve.next!==null;if(rr=0,ct=Ve=ve=null,ko=!1,zl=0,As=null,l)throw Error(r(300));i===null||ut||(i=i.dependencies,i!==null&&bo(i)&&(ut=!0))}function d0(i,l,o,f){ve=i;var p=0;do{if(ks&&(As=null),zl=0,ks=!1,25<=p)throw Error(r(301));if(p+=1,ct=Ve=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}L.H=Y0,g=l(o,f)}while(ks);return g}function DE(){var i=L.H,l=i.useState()[0];return l=typeof l.then=="function"?Ll(l):l,i=i.useState()[0],(Ve!==null?Ve.memoizedState:null)!==i&&(ve.flags|=1024),l}function rd(){var i=Ao!==0;return Ao=0,i}function id(i,l,o){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~o}function sd(i){if(ko){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}ko=!1}rr=0,ct=Ve=ve=null,ks=!1,zl=Ao=0,As=null}function zt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?ve.memoizedState=ct=i:ct=ct.next=i,ct}function at(){if(Ve===null){var i=ve.alternate;i=i!==null?i.memoizedState:null}else i=Ve.next;var l=ct===null?ve.memoizedState:ct.next;if(l!==null)ct=l,Ve=i;else{if(i===null)throw ve.alternate===null?Error(r(467)):Error(r(310));Ve=i,i={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},ct===null?ve.memoizedState=ct=i:ct=ct.next=i}return ct}function Mo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(i){var l=zl;return zl+=1,As===null&&(As=[]),i=n0(As,i,l),l=ve,(ct===null?l.memoizedState:ct.next)===null&&(l=l.alternate,L.H=l===null||l.memoizedState===null?G0:yd),i}function Oo(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ll(i);if(i.$$typeof===j)return Et(i)}throw Error(r(438,String(i)))}function ld(i){var l=null,o=ve.updateQueue;if(o!==null&&(l=o.memoCache),l==null){var f=ve.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(p){return p.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),o===null&&(o=Mo(),ve.updateQueue=o),o.memoCache=l,o=l.data[l.index],o===void 0)for(o=l.data[l.index]=Array(i),f=0;f<i;f++)o[f]=Q;return l.index++,o}function ir(i,l){return typeof l=="function"?l(i):l}function Ro(i){var l=at();return ad(l,Ve,i)}function ad(i,l,o){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var p=i.baseQueue,g=f.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}l.baseQueue=p=g,f.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{l=p.next;var N=w=null,O=null,z=l,$=!1;do{var G=z.lane&-536870913;if(G!==z.lane?(Me&G)===G:(rr&G)===G){var B=z.revertLane;if(B===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),G===ws&&($=!0);else if((rr&B)===B){z=z.next,B===ws&&($=!0);continue}else G={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},O===null?(N=O=G,w=g):O=O.next=G,ve.lanes|=B,Vr|=B;G=z.action,Ri&&o(g,G),g=z.hasEagerState?z.eagerState:o(g,G)}else B={lane:G,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},O===null?(N=O=B,w=g):O=O.next=B,ve.lanes|=G,Vr|=G;z=z.next}while(z!==null&&z!==l);if(O===null?w=g:O.next=N,!nn(g,i.memoizedState)&&(ut=!0,$&&(o=Es,o!==null)))throw o;i.memoizedState=g,i.baseState=w,i.baseQueue=O,f.lastRenderedState=g}return p===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function od(i){var l=at(),o=l.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var f=o.dispatch,p=o.pending,g=l.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do g=i(g,w.action),w=w.next;while(w!==p);nn(g,l.memoizedState)||(ut=!0),l.memoizedState=g,l.baseQueue===null&&(l.baseState=g),o.lastRenderedState=g}return[g,f]}function h0(i,l,o){var f=ve,p=at(),g=je;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=l();var w=!nn((Ve||p).memoizedState,o);if(w&&(p.memoizedState=o,ut=!0),p=p.queue,fd(g0.bind(null,f,p,i),[i]),p.getSnapshot!==l||w||ct!==null&&ct.memoizedState.tag&1){if(f.flags|=2048,Ms(9,{destroy:void 0},m0.bind(null,f,p,o,l),null),Pe===null)throw Error(r(349));g||(rr&127)!==0||p0(f,l,o)}return o}function p0(i,l,o){i.flags|=16384,i={getSnapshot:l,value:o},l=ve.updateQueue,l===null?(l=Mo(),ve.updateQueue=l,l.stores=[i]):(o=l.stores,o===null?l.stores=[i]:o.push(i))}function m0(i,l,o,f){l.value=o,l.getSnapshot=f,y0(l)&&b0(i)}function g0(i,l,o){return o(function(){y0(l)&&b0(i)})}function y0(i){var l=i.getSnapshot;i=i.value;try{var o=l();return!nn(i,o)}catch{return!0}}function b0(i){var l=wi(i,2);l!==null&&Gt(l,i,2)}function cd(i){var l=zt();if(typeof i=="function"){var o=i;if(i=o(),Ri){Tr(!0);try{o()}finally{Tr(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:i},l}function x0(i,l,o,f){return i.baseState=o,ad(i,Ve,typeof f=="function"?f:ir)}function _E(i,l,o,f,p){if(_o(i))throw Error(r(485));if(i=l.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};L.T!==null?o(!0):g.isTransition=!1,f(g),o=l.pending,o===null?(g.next=l.pending=g,v0(l,g)):(g.next=o.next,l.pending=o.next=g)}}function v0(i,l){var o=l.action,f=l.payload,p=i.state;if(l.isTransition){var g=L.T,w={};L.T=w;try{var N=o(p,f),O=L.S;O!==null&&O(w,N),S0(i,l,N)}catch(z){ud(i,l,z)}finally{g!==null&&w.types!==null&&(g.types=w.types),L.T=g}}else try{g=o(p,f),S0(i,l,g)}catch(z){ud(i,l,z)}}function S0(i,l,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(f){w0(i,l,f)},function(f){return ud(i,l,f)}):w0(i,l,o)}function w0(i,l,o){l.status="fulfilled",l.value=o,E0(l),i.state=o,l=i.pending,l!==null&&(o=l.next,o===l?i.pending=null:(o=o.next,l.next=o,v0(i,o)))}function ud(i,l,o){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=o,E0(l),l=l.next;while(l!==f)}i.action=null}function E0(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function C0(i,l){return l}function N0(i,l){if(je){var o=Pe.formState;if(o!==null){e:{var f=ve;if(je){if(Ke){t:{for(var p=Ke,g=xn;p.nodeType!==8;){if(!g){p=null;break t}if(p=Sn(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Ke=Sn(p.nextSibling),f=p.data==="F!";break e}}Rr(f)}f=!1}f&&(l=o[0])}}return o=zt(),o.memoizedState=o.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C0,lastRenderedState:l},o.queue=f,o=F0.bind(null,ve,f),f.dispatch=o,f=cd(!1),g=gd.bind(null,ve,!1,f.queue),f=zt(),p={state:l,dispatch:null,action:i,pending:null},f.queue=p,o=_E.bind(null,ve,p,g,o),p.dispatch=o,f.memoizedState=i,[l,o,!1]}function T0(i){var l=at();return k0(l,Ve,i)}function k0(i,l,o){if(l=ad(i,l,C0)[0],i=Ro(ir)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=Ll(l)}catch(w){throw w===Cs?So:w}else f=l;l=at();var p=l.queue,g=p.dispatch;return o!==l.memoizedState&&(ve.flags|=2048,Ms(9,{destroy:void 0},zE.bind(null,p,o),null)),[f,g,i]}function zE(i,l){i.action=l}function A0(i){var l=at(),o=Ve;if(o!==null)return k0(l,o,i);at(),l=l.memoizedState,o=at();var f=o.queue.dispatch;return o.memoizedState=i,[l,f,!1]}function Ms(i,l,o,f){return i={tag:i,create:o,deps:f,inst:l,next:null},l=ve.updateQueue,l===null&&(l=Mo(),ve.updateQueue=l),o=l.lastEffect,o===null?l.lastEffect=i.next=i:(f=o.next,o.next=i,i.next=f,l.lastEffect=i),i}function M0(){return at().memoizedState}function jo(i,l,o,f){var p=zt();ve.flags|=i,p.memoizedState=Ms(1|l,{destroy:void 0},o,f===void 0?null:f)}function Do(i,l,o,f){var p=at();f=f===void 0?null:f;var g=p.memoizedState.inst;Ve!==null&&f!==null&&td(f,Ve.memoizedState.deps)?p.memoizedState=Ms(l,g,o,f):(ve.flags|=i,p.memoizedState=Ms(1|l,g,o,f))}function O0(i,l){jo(8390656,8,i,l)}function fd(i,l){Do(2048,8,i,l)}function LE(i){ve.flags|=4;var l=ve.updateQueue;if(l===null)l=Mo(),ve.updateQueue=l,l.events=[i];else{var o=l.events;o===null?l.events=[i]:o.push(i)}}function R0(i){var l=at().memoizedState;return LE({ref:l,nextImpl:i}),function(){if((Le&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function j0(i,l){return Do(4,2,i,l)}function D0(i,l){return Do(4,4,i,l)}function _0(i,l){if(typeof l=="function"){i=i();var o=l(i);return function(){typeof o=="function"?o():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function z0(i,l,o){o=o!=null?o.concat([i]):null,Do(4,4,_0.bind(null,l,i),o)}function dd(){}function L0(i,l){var o=at();l=l===void 0?null:l;var f=o.memoizedState;return l!==null&&td(l,f[1])?f[0]:(o.memoizedState=[i,l],i)}function B0(i,l){var o=at();l=l===void 0?null:l;var f=o.memoizedState;if(l!==null&&td(l,f[1]))return f[0];if(f=i(),Ri){Tr(!0);try{i()}finally{Tr(!1)}}return o.memoizedState=[f,l],f}function hd(i,l,o){return o===void 0||(rr&1073741824)!==0&&(Me&261930)===0?i.memoizedState=l:(i.memoizedState=o,i=Hy(),ve.lanes|=i,Vr|=i,o)}function H0(i,l,o,f){return nn(o,l)?o:Ts.current!==null?(i=hd(i,o,f),nn(i,l)||(ut=!0),i):(rr&42)===0||(rr&1073741824)!==0&&(Me&261930)===0?(ut=!0,i.memoizedState=o):(i=Hy(),ve.lanes|=i,Vr|=i,l)}function U0(i,l,o,f,p){var g=J.p;J.p=g!==0&&8>g?g:8;var w=L.T,N={};L.T=N,gd(i,!1,l,o);try{var O=p(),z=L.S;if(z!==null&&z(N,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=RE(O,f);Bl(i,l,$,cn(i))}else Bl(i,l,f,cn(i))}catch(G){Bl(i,l,{then:function(){},status:"rejected",reason:G},cn())}finally{J.p=g,w!==null&&N.types!==null&&(w.types=N.types),L.T=w}}function BE(){}function pd(i,l,o,f){if(i.tag!==5)throw Error(r(476));var p=V0(i).queue;U0(i,p,l,q,o===null?BE:function(){return I0(i),o(f)})}function V0(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:q},next:null};var o={};return l.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:o},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function I0(i){var l=V0(i);l.next===null&&(l=i.alternate.memoizedState),Bl(i,l.next.queue,{},cn())}function md(){return Et(ea)}function q0(){return at().memoizedState}function P0(){return at().memoizedState}function HE(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var o=cn();i=_r(o);var f=zr(l,i,o);f!==null&&(Gt(f,l,o),jl(f,l,o)),l={cache:Ff()},i.payload=l;return}l=l.return}}function UE(i,l,o){var f=cn();o={lane:f,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},_o(i)?$0(l,o):(o=Df(i,l,o,f),o!==null&&(Gt(o,i,f),K0(o,l,f)))}function F0(i,l,o){var f=cn();Bl(i,l,o,f)}function Bl(i,l,o,f){var p={lane:f,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(_o(i))$0(l,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=l.lastRenderedReducer,g!==null))try{var w=l.lastRenderedState,N=g(w,o);if(p.hasEagerState=!0,p.eagerState=N,nn(N,w))return po(i,l,p,0),Pe===null&&ho(),!1}catch{}finally{}if(o=Df(i,l,p,f),o!==null)return Gt(o,i,f),K0(o,l,f),!0}return!1}function gd(i,l,o,f){if(f={lane:2,revertLane:Yd(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},_o(i)){if(l)throw Error(r(479))}else l=Df(i,o,f,2),l!==null&&Gt(l,i,2)}function _o(i){var l=i.alternate;return i===ve||l!==null&&l===ve}function $0(i,l){ks=ko=!0;var o=i.pending;o===null?l.next=l:(l.next=o.next,o.next=l),i.pending=l}function K0(i,l,o){if((o&4194048)!==0){var f=l.lanes;f&=i.pendingLanes,o|=f,l.lanes=o,Qm(i,o)}}var Hl={readContext:Et,use:Oo,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};Hl.useEffectEvent=Ze;var G0={readContext:Et,use:Oo,useCallback:function(i,l){return zt().memoizedState=[i,l===void 0?null:l],i},useContext:Et,useEffect:O0,useImperativeHandle:function(i,l,o){o=o!=null?o.concat([i]):null,jo(4194308,4,_0.bind(null,l,i),o)},useLayoutEffect:function(i,l){return jo(4194308,4,i,l)},useInsertionEffect:function(i,l){jo(4,2,i,l)},useMemo:function(i,l){var o=zt();l=l===void 0?null:l;var f=i();if(Ri){Tr(!0);try{i()}finally{Tr(!1)}}return o.memoizedState=[f,l],f},useReducer:function(i,l,o){var f=zt();if(o!==void 0){var p=o(l);if(Ri){Tr(!0);try{o(l)}finally{Tr(!1)}}}else p=l;return f.memoizedState=f.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},f.queue=i,i=i.dispatch=UE.bind(null,ve,i),[f.memoizedState,i]},useRef:function(i){var l=zt();return i={current:i},l.memoizedState=i},useState:function(i){i=cd(i);var l=i.queue,o=F0.bind(null,ve,l);return l.dispatch=o,[i.memoizedState,o]},useDebugValue:dd,useDeferredValue:function(i,l){var o=zt();return hd(o,i,l)},useTransition:function(){var i=cd(!1);return i=U0.bind(null,ve,i.queue,!0,!1),zt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,o){var f=ve,p=zt();if(je){if(o===void 0)throw Error(r(407));o=o()}else{if(o=l(),Pe===null)throw Error(r(349));(Me&127)!==0||p0(f,l,o)}p.memoizedState=o;var g={value:o,getSnapshot:l};return p.queue=g,O0(g0.bind(null,f,g,i),[i]),f.flags|=2048,Ms(9,{destroy:void 0},m0.bind(null,f,g,o,l),null),o},useId:function(){var i=zt(),l=Pe.identifierPrefix;if(je){var o=Vn,f=Un;o=(f&~(1<<32-tn(f)-1)).toString(32)+o,l="_"+l+"R_"+o,o=Ao++,0<o&&(l+="H"+o.toString(32)),l+="_"}else o=jE++,l="_"+l+"r_"+o.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:md,useFormState:N0,useActionState:N0,useOptimistic:function(i){var l=zt();l.memoizedState=l.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=o,l=gd.bind(null,ve,!0,o),o.dispatch=l,[i,l]},useMemoCache:ld,useCacheRefresh:function(){return zt().memoizedState=HE.bind(null,ve)},useEffectEvent:function(i){var l=zt(),o={impl:i};return l.memoizedState=o,function(){if((Le&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},yd={readContext:Et,use:Oo,useCallback:L0,useContext:Et,useEffect:fd,useImperativeHandle:z0,useInsertionEffect:j0,useLayoutEffect:D0,useMemo:B0,useReducer:Ro,useRef:M0,useState:function(){return Ro(ir)},useDebugValue:dd,useDeferredValue:function(i,l){var o=at();return H0(o,Ve.memoizedState,i,l)},useTransition:function(){var i=Ro(ir)[0],l=at().memoizedState;return[typeof i=="boolean"?i:Ll(i),l]},useSyncExternalStore:h0,useId:q0,useHostTransitionStatus:md,useFormState:T0,useActionState:T0,useOptimistic:function(i,l){var o=at();return x0(o,Ve,i,l)},useMemoCache:ld,useCacheRefresh:P0};yd.useEffectEvent=R0;var Y0={readContext:Et,use:Oo,useCallback:L0,useContext:Et,useEffect:fd,useImperativeHandle:z0,useInsertionEffect:j0,useLayoutEffect:D0,useMemo:B0,useReducer:od,useRef:M0,useState:function(){return od(ir)},useDebugValue:dd,useDeferredValue:function(i,l){var o=at();return Ve===null?hd(o,i,l):H0(o,Ve.memoizedState,i,l)},useTransition:function(){var i=od(ir)[0],l=at().memoizedState;return[typeof i=="boolean"?i:Ll(i),l]},useSyncExternalStore:h0,useId:q0,useHostTransitionStatus:md,useFormState:A0,useActionState:A0,useOptimistic:function(i,l){var o=at();return Ve!==null?x0(o,Ve,i,l):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:ld,useCacheRefresh:P0};Y0.useEffectEvent=R0;function bd(i,l,o,f){l=i.memoizedState,o=o(f,l),o=o==null?l:y({},l,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var xd={enqueueSetState:function(i,l,o){i=i._reactInternals;var f=cn(),p=_r(f);p.payload=l,o!=null&&(p.callback=o),l=zr(i,p,f),l!==null&&(Gt(l,i,f),jl(l,i,f))},enqueueReplaceState:function(i,l,o){i=i._reactInternals;var f=cn(),p=_r(f);p.tag=1,p.payload=l,o!=null&&(p.callback=o),l=zr(i,p,f),l!==null&&(Gt(l,i,f),jl(l,i,f))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var o=cn(),f=_r(o);f.tag=2,l!=null&&(f.callback=l),l=zr(i,f,o),l!==null&&(Gt(l,i,o),jl(l,i,o))}};function J0(i,l,o,f,p,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,g,w):l.prototype&&l.prototype.isPureReactComponent?!Cl(o,f)||!Cl(p,g):!0}function X0(i,l,o,f){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(o,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(o,f),l.state!==i&&xd.enqueueReplaceState(l,l.state,null)}function ji(i,l){var o=l;if("ref"in l){o={};for(var f in l)f!=="ref"&&(o[f]=l[f])}if(i=i.defaultProps){o===l&&(o=y({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function Q0(i){fo(i)}function Z0(i){console.error(i)}function W0(i){fo(i)}function zo(i,l){try{var o=i.onUncaughtError;o(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function ey(i,l,o){try{var f=i.onCaughtError;f(o.value,{componentStack:o.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function vd(i,l,o){return o=_r(o),o.tag=3,o.payload={element:null},o.callback=function(){zo(i,l)},o}function ty(i){return i=_r(i),i.tag=3,i}function ny(i,l,o,f){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=f.value;i.payload=function(){return p(g)},i.callback=function(){ey(l,o,f)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){ey(l,o,f),typeof p!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var N=f.stack;this.componentDidCatch(f.value,{componentStack:N!==null?N:""})})}function VE(i,l,o,f,p){if(o.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=o.alternate,l!==null&&Ss(l,o,p,!0),o=sn.current,o!==null){switch(o.tag){case 31:case 13:return vn===null?Go():o.alternate===null&&We===0&&(We=3),o.flags&=-257,o.flags|=65536,o.lanes=p,f===wo?o.flags|=16384:(l=o.updateQueue,l===null?o.updateQueue=new Set([f]):l.add(f),$d(i,f,p)),!1;case 22:return o.flags|=65536,f===wo?o.flags|=16384:(l=o.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},o.updateQueue=l):(o=l.retryQueue,o===null?l.retryQueue=new Set([f]):o.add(f)),$d(i,f,p)),!1}throw Error(r(435,o.tag))}return $d(i,f,p),Go(),!1}if(je)return l=sn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=p,f!==Uf&&(i=Error(r(422),{cause:f}),kl(gn(i,o)))):(f!==Uf&&(l=Error(r(423),{cause:f}),kl(gn(l,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,f=gn(f,o),p=vd(i.stateNode,f,p),Xf(i,p),We!==4&&(We=2)),!1;var g=Error(r(520),{cause:f});if(g=gn(g,o),Kl===null?Kl=[g]:Kl.push(g),We!==4&&(We=2),l===null)return!0;f=gn(f,o),o=l;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=vd(o.stateNode,f,i),Xf(o,i),!1;case 1:if(l=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ir===null||!Ir.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=ty(p),ny(p,i,o,f),Xf(o,p),!1}o=o.return}while(o!==null);return!1}var Sd=Error(r(461)),ut=!1;function Ct(i,l,o,f){l.child=i===null?l0(l,null,o,f):Oi(l,i.child,o,f)}function ry(i,l,o,f,p){o=o.render;var g=l.ref;if("ref"in f){var w={};for(var N in f)N!=="ref"&&(w[N]=f[N])}else w=f;return Ti(l),f=nd(i,l,o,w,g,p),N=rd(),i!==null&&!ut?(id(i,l,p),sr(i,l,p)):(je&&N&&Bf(l),l.flags|=1,Ct(i,l,f,p),l.child)}function iy(i,l,o,f,p){if(i===null){var g=o.type;return typeof g=="function"&&!_f(g)&&g.defaultProps===void 0&&o.compare===null?(l.tag=15,l.type=g,sy(i,l,g,f,p)):(i=go(o.type,null,f,l,l.mode,p),i.ref=l.ref,i.return=l,l.child=i)}if(g=i.child,!Md(i,p)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:Cl,o(w,f)&&i.ref===l.ref)return sr(i,l,p)}return l.flags|=1,i=Wn(g,f),i.ref=l.ref,i.return=l,l.child=i}function sy(i,l,o,f,p){if(i!==null){var g=i.memoizedProps;if(Cl(g,f)&&i.ref===l.ref)if(ut=!1,l.pendingProps=f=g,Md(i,p))(i.flags&131072)!==0&&(ut=!0);else return l.lanes=i.lanes,sr(i,l,p)}return wd(i,l,o,f,p)}function ly(i,l,o,f){var p=f.children,g=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((l.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(f=l.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;f=p&~g}else f=0,l.child=null;return ay(i,l,g,o,f)}if((o&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&vo(l,g!==null?g.cachePool:null),g!==null?c0(l,g):Zf(),u0(l);else return f=l.lanes=536870912,ay(i,l,g!==null?g.baseLanes|o:o,o,f)}else g!==null?(vo(l,g.cachePool),c0(l,g),Br(),l.memoizedState=null):(i!==null&&vo(l,null),Zf(),Br());return Ct(i,l,p,o),l.child}function Ul(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function ay(i,l,o,f,p){var g=Kf();return g=g===null?null:{parent:ot._currentValue,pool:g},l.memoizedState={baseLanes:o,cachePool:g},i!==null&&vo(l,null),Zf(),u0(l),i!==null&&Ss(i,l,f,!0),l.childLanes=p,null}function Lo(i,l){return l=Ho({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function oy(i,l,o){return Oi(l,i.child,null,o),i=Lo(l,l.pendingProps),i.flags|=2,ln(l),l.memoizedState=null,i}function IE(i,l,o){var f=l.pendingProps,p=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(je){if(f.mode==="hidden")return i=Lo(l,f),l.lanes=536870912,Ul(null,i);if(ed(l),(i=Ke)?(i=vb(i,xn),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Mr!==null?{id:Un,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},o=$g(i),o.return=l,l.child=o,wt=l,Ke=null)):i=null,i===null)throw Rr(l);return l.lanes=536870912,null}return Lo(l,f)}var g=i.memoizedState;if(g!==null){var w=g.dehydrated;if(ed(l),p)if(l.flags&256)l.flags&=-257,l=oy(i,l,o);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(r(558));else if(ut||Ss(i,l,o,!1),p=(o&i.childLanes)!==0,ut||p){if(f=Pe,f!==null&&(w=Zm(f,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,wi(i,w),Gt(f,i,w),Sd;Go(),l=oy(i,l,o)}else i=g.treeContext,Ke=Sn(w.nextSibling),wt=l,je=!0,Or=null,xn=!1,i!==null&&Yg(l,i),l=Lo(l,f),l.flags|=4096;return l}return i=Wn(i.child,{mode:f.mode,children:f.children}),i.ref=l.ref,l.child=i,i.return=l,i}function Bo(i,l){var o=l.ref;if(o===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(l.flags|=4194816)}}function wd(i,l,o,f,p){return Ti(l),o=nd(i,l,o,f,void 0,p),f=rd(),i!==null&&!ut?(id(i,l,p),sr(i,l,p)):(je&&f&&Bf(l),l.flags|=1,Ct(i,l,o,p),l.child)}function cy(i,l,o,f,p,g){return Ti(l),l.updateQueue=null,o=d0(l,f,o,p),f0(i),f=rd(),i!==null&&!ut?(id(i,l,g),sr(i,l,g)):(je&&f&&Bf(l),l.flags|=1,Ct(i,l,o,g),l.child)}function uy(i,l,o,f,p){if(Ti(l),l.stateNode===null){var g=ys,w=o.contextType;typeof w=="object"&&w!==null&&(g=Et(w)),g=new o(f,g),l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=xd,l.stateNode=g,g._reactInternals=l,g=l.stateNode,g.props=f,g.state=l.memoizedState,g.refs={},Yf(l),w=o.contextType,g.context=typeof w=="object"&&w!==null?Et(w):ys,g.state=l.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(bd(l,o,w,f),g.state=l.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&xd.enqueueReplaceState(g,g.state,null),_l(l,f,g,p),Dl(),g.state=l.memoizedState),typeof g.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(i===null){g=l.stateNode;var N=l.memoizedProps,O=ji(o,N);g.props=O;var z=g.context,$=o.contextType;w=ys,typeof $=="object"&&$!==null&&(w=Et($));var G=o.getDerivedStateFromProps;$=typeof G=="function"||typeof g.getSnapshotBeforeUpdate=="function",N=l.pendingProps!==N,$||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N||z!==w)&&X0(l,g,f,w),Dr=!1;var B=l.memoizedState;g.state=B,_l(l,f,g,p),Dl(),z=l.memoizedState,N||B!==z||Dr?(typeof G=="function"&&(bd(l,o,G,f),z=l.memoizedState),(O=Dr||J0(l,o,O,f,B,z,w))?($||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(l.flags|=4194308)):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=z),g.props=f,g.state=z,g.context=w,f=O):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{g=l.stateNode,Jf(i,l),w=l.memoizedProps,$=ji(o,w),g.props=$,G=l.pendingProps,B=g.context,z=o.contextType,O=ys,typeof z=="object"&&z!==null&&(O=Et(z)),N=o.getDerivedStateFromProps,(z=typeof N=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==G||B!==O)&&X0(l,g,f,O),Dr=!1,B=l.memoizedState,g.state=B,_l(l,f,g,p),Dl();var U=l.memoizedState;w!==G||B!==U||Dr||i!==null&&i.dependencies!==null&&bo(i.dependencies)?(typeof N=="function"&&(bd(l,o,N,f),U=l.memoizedState),($=Dr||J0(l,o,$,f,B,U,O)||i!==null&&i.dependencies!==null&&bo(i.dependencies))?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(f,U,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(f,U,O)),typeof g.componentDidUpdate=="function"&&(l.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&B===i.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&B===i.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=U),g.props=f,g.state=U,g.context=O,f=$):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&B===i.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&B===i.memoizedState||(l.flags|=1024),f=!1)}return g=f,Bo(i,l),f=(l.flags&128)!==0,g||f?(g=l.stateNode,o=f&&typeof o.getDerivedStateFromError!="function"?null:g.render(),l.flags|=1,i!==null&&f?(l.child=Oi(l,i.child,null,p),l.child=Oi(l,null,o,p)):Ct(i,l,o,p),l.memoizedState=g.state,i=l.child):i=sr(i,l,p),i}function fy(i,l,o,f){return Ci(),l.flags|=256,Ct(i,l,o,f),l.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cd(i){return{baseLanes:i,cachePool:e0()}}function Nd(i,l,o){return i=i!==null?i.childLanes&~o:0,l&&(i|=on),i}function dy(i,l,o){var f=l.pendingProps,p=!1,g=(l.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:(lt.current&2)!==0),w&&(p=!0,l.flags&=-129),w=(l.flags&32)!==0,l.flags&=-33,i===null){if(je){if(p?Lr(l):Br(),(i=Ke)?(i=vb(i,xn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Mr!==null?{id:Un,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},o=$g(i),o.return=l,l.child=o,wt=l,Ke=null)):i=null,i===null)throw Rr(l);return ah(i)?l.lanes=32:l.lanes=536870912,null}var N=f.children;return f=f.fallback,p?(Br(),p=l.mode,N=Ho({mode:"hidden",children:N},p),f=Ei(f,p,o,null),N.return=l,f.return=l,N.sibling=f,l.child=N,f=l.child,f.memoizedState=Cd(o),f.childLanes=Nd(i,w,o),l.memoizedState=Ed,Ul(null,f)):(Lr(l),Td(l,N))}var O=i.memoizedState;if(O!==null&&(N=O.dehydrated,N!==null)){if(g)l.flags&256?(Lr(l),l.flags&=-257,l=kd(i,l,o)):l.memoizedState!==null?(Br(),l.child=i.child,l.flags|=128,l=null):(Br(),N=f.fallback,p=l.mode,f=Ho({mode:"visible",children:f.children},p),N=Ei(N,p,o,null),N.flags|=2,f.return=l,N.return=l,f.sibling=N,l.child=f,Oi(l,i.child,null,o),f=l.child,f.memoizedState=Cd(o),f.childLanes=Nd(i,w,o),l.memoizedState=Ed,l=Ul(null,f));else if(Lr(l),ah(N)){if(w=N.nextSibling&&N.nextSibling.dataset,w)var z=w.dgst;w=z,f=Error(r(419)),f.stack="",f.digest=w,kl({value:f,source:null,stack:null}),l=kd(i,l,o)}else if(ut||Ss(i,l,o,!1),w=(o&i.childLanes)!==0,ut||w){if(w=Pe,w!==null&&(f=Zm(w,o),f!==0&&f!==O.retryLane))throw O.retryLane=f,wi(i,f),Gt(w,i,f),Sd;lh(N)||Go(),l=kd(i,l,o)}else lh(N)?(l.flags|=192,l.child=i.child,l=null):(i=O.treeContext,Ke=Sn(N.nextSibling),wt=l,je=!0,Or=null,xn=!1,i!==null&&Yg(l,i),l=Td(l,f.children),l.flags|=4096);return l}return p?(Br(),N=f.fallback,p=l.mode,O=i.child,z=O.sibling,f=Wn(O,{mode:"hidden",children:f.children}),f.subtreeFlags=O.subtreeFlags&65011712,z!==null?N=Wn(z,N):(N=Ei(N,p,o,null),N.flags|=2),N.return=l,f.return=l,f.sibling=N,l.child=f,Ul(null,f),f=l.child,N=i.child.memoizedState,N===null?N=Cd(o):(p=N.cachePool,p!==null?(O=ot._currentValue,p=p.parent!==O?{parent:O,pool:O}:p):p=e0(),N={baseLanes:N.baseLanes|o,cachePool:p}),f.memoizedState=N,f.childLanes=Nd(i,w,o),l.memoizedState=Ed,Ul(i.child,f)):(Lr(l),o=i.child,i=o.sibling,o=Wn(o,{mode:"visible",children:f.children}),o.return=l,o.sibling=null,i!==null&&(w=l.deletions,w===null?(l.deletions=[i],l.flags|=16):w.push(i)),l.child=o,l.memoizedState=null,o)}function Td(i,l){return l=Ho({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Ho(i,l){return i=rn(22,i,null,l),i.lanes=0,i}function kd(i,l,o){return Oi(l,i.child,null,o),i=Td(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function hy(i,l,o){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l),qf(i.return,l,o)}function Ad(i,l,o,f,p,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:o,tailMode:p,treeForkCount:g}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=o,w.tailMode=p,w.treeForkCount=g)}function py(i,l,o){var f=l.pendingProps,p=f.revealOrder,g=f.tail;f=f.children;var w=lt.current,N=(w&2)!==0;if(N?(w=w&1|2,l.flags|=128):w&=1,ee(lt,w),Ct(i,l,f,o),f=je?Tl:0,!N&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&hy(i,o,l);else if(i.tag===19)hy(i,o,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=l.child,p=null;o!==null;)i=o.alternate,i!==null&&To(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=l.child,l.child=null):(p=o.sibling,o.sibling=null),Ad(l,!1,p,o,g,f);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=l.child,l.child=null;p!==null;){if(i=p.alternate,i!==null&&To(i)===null){l.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}Ad(l,!0,o,null,g,f);break;case"together":Ad(l,!1,null,null,void 0,f);break;default:l.memoizedState=null}return l.child}function sr(i,l,o){if(i!==null&&(l.dependencies=i.dependencies),Vr|=l.lanes,(o&l.childLanes)===0)if(i!==null){if(Ss(i,l,o,!1),(o&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,o=Wn(i,i.pendingProps),l.child=o,o.return=l;i.sibling!==null;)i=i.sibling,o=o.sibling=Wn(i,i.pendingProps),o.return=l;o.sibling=null}return l.child}function Md(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&bo(i)))}function qE(i,l,o){switch(l.tag){case 3:_t(l,l.stateNode.containerInfo),jr(l,ot,i.memoizedState.cache),Ci();break;case 27:case 5:fl(l);break;case 4:_t(l,l.stateNode.containerInfo);break;case 10:jr(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,ed(l),null;break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(Lr(l),l.flags|=128,null):(o&l.child.childLanes)!==0?dy(i,l,o):(Lr(l),i=sr(i,l,o),i!==null?i.sibling:null);Lr(l);break;case 19:var p=(i.flags&128)!==0;if(f=(o&l.childLanes)!==0,f||(Ss(i,l,o,!1),f=(o&l.childLanes)!==0),p){if(f)return py(i,l,o);l.flags|=128}if(p=l.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ee(lt,lt.current),f)break;return null;case 22:return l.lanes=0,ly(i,l,o,l.pendingProps);case 24:jr(l,ot,i.memoizedState.cache)}return sr(i,l,o)}function my(i,l,o){if(i!==null)if(i.memoizedProps!==l.pendingProps)ut=!0;else{if(!Md(i,o)&&(l.flags&128)===0)return ut=!1,qE(i,l,o);ut=(i.flags&131072)!==0}else ut=!1,je&&(l.flags&1048576)!==0&&Gg(l,Tl,l.index);switch(l.lanes=0,l.tag){case 16:e:{var f=l.pendingProps;if(i=Ai(l.elementType),l.type=i,typeof i=="function")_f(i)?(f=ji(i,f),l.tag=1,l=uy(null,l,i,f,o)):(l.tag=0,l=wd(null,l,i,f,o));else{if(i!=null){var p=i.$$typeof;if(p===P){l.tag=11,l=ry(null,l,i,f,o);break e}else if(p===I){l.tag=14,l=iy(null,l,i,f,o);break e}}throw l=xe(i)||i,Error(r(306,l,""))}}return l;case 0:return wd(i,l,l.type,l.pendingProps,o);case 1:return f=l.type,p=ji(f,l.pendingProps),uy(i,l,f,p,o);case 3:e:{if(_t(l,l.stateNode.containerInfo),i===null)throw Error(r(387));f=l.pendingProps;var g=l.memoizedState;p=g.element,Jf(i,l),_l(l,f,null,o);var w=l.memoizedState;if(f=w.cache,jr(l,ot,f),f!==g.cache&&Pf(l,[ot],o,!0),Dl(),f=w.element,g.isDehydrated)if(g={element:f,isDehydrated:!1,cache:w.cache},l.updateQueue.baseState=g,l.memoizedState=g,l.flags&256){l=fy(i,l,f,o);break e}else if(f!==p){p=gn(Error(r(424)),l),kl(p),l=fy(i,l,f,o);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ke=Sn(i.firstChild),wt=l,je=!0,Or=null,xn=!0,o=l0(l,null,f,o),l.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ci(),f===p){l=sr(i,l,o);break e}Ct(i,l,f,o)}l=l.child}return l;case 26:return Bo(i,l),i===null?(o=Tb(l.type,null,l.pendingProps,null))?l.memoizedState=o:je||(o=l.type,i=l.pendingProps,f=ec(he.current).createElement(o),f[St]=l,f[It]=i,Nt(f,o,i),mt(f),l.stateNode=f):l.memoizedState=Tb(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return fl(l),i===null&&je&&(f=l.stateNode=Eb(l.type,l.pendingProps,he.current),wt=l,xn=!0,p=Ke,$r(l.type)?(oh=p,Ke=Sn(f.firstChild)):Ke=p),Ct(i,l,l.pendingProps.children,o),Bo(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&je&&((p=f=Ke)&&(f=bC(f,l.type,l.pendingProps,xn),f!==null?(l.stateNode=f,wt=l,Ke=Sn(f.firstChild),xn=!1,p=!0):p=!1),p||Rr(l)),fl(l),p=l.type,g=l.pendingProps,w=i!==null?i.memoizedProps:null,f=g.children,rh(p,g)?f=null:w!==null&&rh(p,w)&&(l.flags|=32),l.memoizedState!==null&&(p=nd(i,l,DE,null,null,o),ea._currentValue=p),Bo(i,l),Ct(i,l,f,o),l.child;case 6:return i===null&&je&&((i=o=Ke)&&(o=xC(o,l.pendingProps,xn),o!==null?(l.stateNode=o,wt=l,Ke=null,i=!0):i=!1),i||Rr(l)),null;case 13:return dy(i,l,o);case 4:return _t(l,l.stateNode.containerInfo),f=l.pendingProps,i===null?l.child=Oi(l,null,f,o):Ct(i,l,f,o),l.child;case 11:return ry(i,l,l.type,l.pendingProps,o);case 7:return Ct(i,l,l.pendingProps,o),l.child;case 8:return Ct(i,l,l.pendingProps.children,o),l.child;case 12:return Ct(i,l,l.pendingProps.children,o),l.child;case 10:return f=l.pendingProps,jr(l,l.type,f.value),Ct(i,l,f.children,o),l.child;case 9:return p=l.type._context,f=l.pendingProps.children,Ti(l),p=Et(p),f=f(p),l.flags|=1,Ct(i,l,f,o),l.child;case 14:return iy(i,l,l.type,l.pendingProps,o);case 15:return sy(i,l,l.type,l.pendingProps,o);case 19:return py(i,l,o);case 31:return IE(i,l,o);case 22:return ly(i,l,o,l.pendingProps);case 24:return Ti(l),f=Et(ot),i===null?(p=Kf(),p===null&&(p=Pe,g=Ff(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),l.memoizedState={parent:f,cache:p},Yf(l),jr(l,ot,p)):((i.lanes&o)!==0&&(Jf(i,l),_l(l,null,null,o),Dl()),p=i.memoizedState,g=l.memoizedState,p.parent!==f?(p={parent:f,cache:f},l.memoizedState=p,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=p),jr(l,ot,f)):(f=g.cache,jr(l,ot,f),f!==p.cache&&Pf(l,[ot],o,!0))),Ct(i,l,l.pendingProps.children,o),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function lr(i){i.flags|=4}function Od(i,l,o,f,p){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(qy())i.flags|=8192;else throw Mi=wo,Gf}else i.flags&=-16777217}function gy(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Rb(l))if(qy())i.flags|=8192;else throw Mi=wo,Gf}function Uo(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?Jm():536870912,i.lanes|=l,Ds|=l)}function Vl(i,l){if(!je)switch(i.tailMode){case"hidden":l=i.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Ge(i){var l=i.alternate!==null&&i.alternate.child===i.child,o=0,f=0;if(l)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=o,l}function PE(i,l,o){var f=l.pendingProps;switch(Hf(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(l),null;case 1:return Ge(l),null;case 3:return o=l.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),nr(ot),st(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(vs(l)?lr(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Vf())),Ge(l),null;case 26:var p=l.type,g=l.memoizedState;return i===null?(lr(l),g!==null?(Ge(l),gy(l,g)):(Ge(l),Od(l,p,null,f,o))):g?g!==i.memoizedState?(lr(l),Ge(l),gy(l,g)):(Ge(l),l.flags&=-16777217):(i=i.memoizedProps,i!==f&&lr(l),Ge(l),Od(l,p,i,f,o)),null;case 27:if(Ja(l),o=he.current,p=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==f&&lr(l);else{if(!f){if(l.stateNode===null)throw Error(r(166));return Ge(l),null}i=te.current,vs(l)?Jg(l):(i=Eb(p,f,o),l.stateNode=i,lr(l))}return Ge(l),null;case 5:if(Ja(l),p=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==f&&lr(l);else{if(!f){if(l.stateNode===null)throw Error(r(166));return Ge(l),null}if(g=te.current,vs(l))Jg(l);else{var w=ec(he.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof f.is=="string"?w.createElement("select",{is:f.is}):w.createElement("select"),f.multiple?g.multiple=!0:f.size&&(g.size=f.size);break;default:g=typeof f.is=="string"?w.createElement(p,{is:f.is}):w.createElement(p)}}g[St]=l,g[It]=f;e:for(w=l.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===l)break e;for(;w.sibling===null;){if(w.return===null||w.return===l)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}l.stateNode=g;e:switch(Nt(g,p,f),p){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&lr(l)}}return Ge(l),Od(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,o),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==f&&lr(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(r(166));if(i=he.current,vs(l)){if(i=l.stateNode,o=l.memoizedProps,f=null,p=wt,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}i[St]=l,i=!!(i.nodeValue===o||f!==null&&f.suppressHydrationWarning===!0||db(i.nodeValue,o)),i||Rr(l,!0)}else i=ec(i).createTextNode(f),i[St]=l,l.stateNode=i}return Ge(l),null;case 31:if(o=l.memoizedState,i===null||i.memoizedState!==null){if(f=vs(l),o!==null){if(i===null){if(!f)throw Error(r(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[St]=l}else Ci(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ge(l),i=!1}else o=Vf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return l.flags&256?(ln(l),l):(ln(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Ge(l),null;case 13:if(f=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=vs(l),f!==null&&f.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=l.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[St]=l}else Ci(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ge(l),p=!1}else p=Vf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return l.flags&256?(ln(l),l):(ln(l),null)}return ln(l),(l.flags&128)!==0?(l.lanes=o,l):(o=f!==null,i=i!==null&&i.memoizedState!==null,o&&(f=l.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool),g=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),g!==p&&(f.flags|=2048)),o!==i&&o&&(l.child.flags|=8192),Uo(l,l.updateQueue),Ge(l),null);case 4:return st(),i===null&&Zd(l.stateNode.containerInfo),Ge(l),null;case 10:return nr(l.type),Ge(l),null;case 19:if(V(lt),f=l.memoizedState,f===null)return Ge(l),null;if(p=(l.flags&128)!==0,g=f.rendering,g===null)if(p)Vl(f,!1);else{if(We!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(g=To(i),g!==null){for(l.flags|=128,Vl(f,!1),i=g.updateQueue,l.updateQueue=i,Uo(l,i),l.subtreeFlags=0,i=o,o=l.child;o!==null;)Fg(o,i),o=o.sibling;return ee(lt,lt.current&1|2),je&&er(l,f.treeForkCount),l.child}i=i.sibling}f.tail!==null&&Wt()>Fo&&(l.flags|=128,p=!0,Vl(f,!1),l.lanes=4194304)}else{if(!p)if(i=To(g),i!==null){if(l.flags|=128,p=!0,i=i.updateQueue,l.updateQueue=i,Uo(l,i),Vl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!je)return Ge(l),null}else 2*Wt()-f.renderingStartTime>Fo&&o!==536870912&&(l.flags|=128,p=!0,Vl(f,!1),l.lanes=4194304);f.isBackwards?(g.sibling=l.child,l.child=g):(i=f.last,i!==null?i.sibling=g:l.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Wt(),i.sibling=null,o=lt.current,ee(lt,p?o&1|2:o&1),je&&er(l,f.treeForkCount),i):(Ge(l),null);case 22:case 23:return ln(l),Wf(),f=l.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(o&536870912)!==0&&(l.flags&128)===0&&(Ge(l),l.subtreeFlags&6&&(l.flags|=8192)):Ge(l),o=l.updateQueue,o!==null&&Uo(l,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==o&&(l.flags|=2048),i!==null&&V(ki),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),l.memoizedState.cache!==o&&(l.flags|=2048),nr(ot),Ge(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function FE(i,l){switch(Hf(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return nr(ot),st(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Ja(l),null;case 31:if(l.memoizedState!==null){if(ln(l),l.alternate===null)throw Error(r(340));Ci()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(ln(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ci()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return V(lt),null;case 4:return st(),null;case 10:return nr(l.type),null;case 22:case 23:return ln(l),Wf(),i!==null&&V(ki),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return nr(ot),null;case 25:return null;default:return null}}function yy(i,l){switch(Hf(l),l.tag){case 3:nr(ot),st();break;case 26:case 27:case 5:Ja(l);break;case 4:st();break;case 31:l.memoizedState!==null&&ln(l);break;case 13:ln(l);break;case 19:V(lt);break;case 10:nr(l.type);break;case 22:case 23:ln(l),Wf(),i!==null&&V(ki);break;case 24:nr(ot)}}function Il(i,l){try{var o=l.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var p=f.next;o=p;do{if((o.tag&i)===i){f=void 0;var g=o.create,w=o.inst;f=g(),w.destroy=f}o=o.next}while(o!==p)}}catch(N){He(l,l.return,N)}}function Hr(i,l,o){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var g=p.next;f=g;do{if((f.tag&i)===i){var w=f.inst,N=w.destroy;if(N!==void 0){w.destroy=void 0,p=l;var O=o,z=N;try{z()}catch($){He(p,O,$)}}}f=f.next}while(f!==g)}}catch($){He(l,l.return,$)}}function by(i){var l=i.updateQueue;if(l!==null){var o=i.stateNode;try{o0(l,o)}catch(f){He(i,i.return,f)}}}function xy(i,l,o){o.props=ji(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(f){He(i,l,f)}}function ql(i,l){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof o=="function"?i.refCleanup=o(f):o.current=f}}catch(p){He(i,l,p)}}function In(i,l){var o=i.ref,f=i.refCleanup;if(o!==null)if(typeof f=="function")try{f()}catch(p){He(i,l,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){He(i,l,p)}else o.current=null}function vy(i){var l=i.type,o=i.memoizedProps,f=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":o.autoFocus&&f.focus();break e;case"img":o.src?f.src=o.src:o.srcSet&&(f.srcset=o.srcSet)}}catch(p){He(i,i.return,p)}}function Rd(i,l,o){try{var f=i.stateNode;dC(f,i.type,o,l),f[It]=l}catch(p){He(i,i.return,p)}}function Sy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&$r(i.type)||i.tag===4}function jd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Sy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&$r(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Dd(i,l,o){var f=i.tag;if(f===5||f===6)i=i.stateNode,l?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,l):(l=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.appendChild(i),o=o._reactRootContainer,o!=null||l.onclick!==null||(l.onclick=Qn));else if(f!==4&&(f===27&&$r(i.type)&&(o=i.stateNode,l=null),i=i.child,i!==null))for(Dd(i,l,o),i=i.sibling;i!==null;)Dd(i,l,o),i=i.sibling}function Vo(i,l,o){var f=i.tag;if(f===5||f===6)i=i.stateNode,l?o.insertBefore(i,l):o.appendChild(i);else if(f!==4&&(f===27&&$r(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Vo(i,l,o),i=i.sibling;i!==null;)Vo(i,l,o),i=i.sibling}function wy(i){var l=i.stateNode,o=i.memoizedProps;try{for(var f=i.type,p=l.attributes;p.length;)l.removeAttributeNode(p[0]);Nt(l,f,o),l[St]=i,l[It]=o}catch(g){He(i,i.return,g)}}var ar=!1,ft=!1,_d=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,gt=null;function $E(i,l){if(i=i.containerInfo,th=ac,i=zg(i),kf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var f=o.getSelection&&o.getSelection();if(f&&f.rangeCount!==0){o=f.anchorNode;var p=f.anchorOffset,g=f.focusNode;f=f.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,N=-1,O=-1,z=0,$=0,G=i,B=null;t:for(;;){for(var U;G!==o||p!==0&&G.nodeType!==3||(N=w+p),G!==g||f!==0&&G.nodeType!==3||(O=w+f),G.nodeType===3&&(w+=G.nodeValue.length),(U=G.firstChild)!==null;)B=G,G=U;for(;;){if(G===i)break t;if(B===o&&++z===p&&(N=w),B===g&&++$===f&&(O=w),(U=G.nextSibling)!==null)break;G=B,B=G.parentNode}G=U}o=N===-1||O===-1?null:{start:N,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(nh={focusedElem:i,selectionRange:o},ac=!1,gt=l;gt!==null;)if(l=gt,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,gt=i;else for(;gt!==null;){switch(l=gt,g=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=l,p=g.memoizedProps,g=g.memoizedState,f=o.stateNode;try{var le=ji(o.type,p);i=f.getSnapshotBeforeUpdate(le,g),f.__reactInternalSnapshotBeforeUpdate=i}catch(pe){He(o,o.return,pe)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,o=i.nodeType,o===9)sh(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":sh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,gt=i;break}gt=l.return}}function Cy(i,l,o){var f=o.flags;switch(o.tag){case 0:case 11:case 15:cr(i,o),f&4&&Il(5,o);break;case 1:if(cr(i,o),f&4)if(i=o.stateNode,l===null)try{i.componentDidMount()}catch(w){He(o,o.return,w)}else{var p=ji(o.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(p,l,i.__reactInternalSnapshotBeforeUpdate)}catch(w){He(o,o.return,w)}}f&64&&by(o),f&512&&ql(o,o.return);break;case 3:if(cr(i,o),f&64&&(i=o.updateQueue,i!==null)){if(l=null,o.child!==null)switch(o.child.tag){case 27:case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}try{o0(i,l)}catch(w){He(o,o.return,w)}}break;case 27:l===null&&f&4&&wy(o);case 26:case 5:cr(i,o),l===null&&f&4&&vy(o),f&512&&ql(o,o.return);break;case 12:cr(i,o);break;case 31:cr(i,o),f&4&&ky(i,o);break;case 13:cr(i,o),f&4&&Ay(i,o),f&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=eC.bind(null,o),vC(i,o))));break;case 22:if(f=o.memoizedState!==null||ar,!f){l=l!==null&&l.memoizedState!==null||ft,p=ar;var g=ft;ar=f,(ft=l)&&!g?ur(i,o,(o.subtreeFlags&8772)!==0):cr(i,o),ar=p,ft=g}break;case 30:break;default:cr(i,o)}}function Ny(i){var l=i.alternate;l!==null&&(i.alternate=null,Ny(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&uf(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Je=null,Pt=!1;function or(i,l,o){for(o=o.child;o!==null;)Ty(i,l,o),o=o.sibling}function Ty(i,l,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(dl,o)}catch{}switch(o.tag){case 26:ft||In(o,l),or(i,l,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ft||In(o,l);var f=Je,p=Pt;$r(o.type)&&(Je=o.stateNode,Pt=!1),or(i,l,o),Ql(o.stateNode),Je=f,Pt=p;break;case 5:ft||In(o,l);case 6:if(f=Je,p=Pt,Je=null,or(i,l,o),Je=f,Pt=p,Je!==null)if(Pt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(o.stateNode)}catch(g){He(o,l,g)}else try{Je.removeChild(o.stateNode)}catch(g){He(o,l,g)}break;case 18:Je!==null&&(Pt?(i=Je,bb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Is(i)):bb(Je,o.stateNode));break;case 4:f=Je,p=Pt,Je=o.stateNode.containerInfo,Pt=!0,or(i,l,o),Je=f,Pt=p;break;case 0:case 11:case 14:case 15:Hr(2,o,l),ft||Hr(4,o,l),or(i,l,o);break;case 1:ft||(In(o,l),f=o.stateNode,typeof f.componentWillUnmount=="function"&&xy(o,l,f)),or(i,l,o);break;case 21:or(i,l,o);break;case 22:ft=(f=ft)||o.memoizedState!==null,or(i,l,o),ft=f;break;default:or(i,l,o)}}function ky(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Is(i)}catch(o){He(l,l.return,o)}}}function Ay(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Is(i)}catch(o){He(l,l.return,o)}}function KE(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new Ey),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new Ey),l;default:throw Error(r(435,i.tag))}}function Io(i,l){var o=KE(i);l.forEach(function(f){if(!o.has(f)){o.add(f);var p=tC.bind(null,i,f);f.then(p,p)}})}function Ft(i,l){var o=l.deletions;if(o!==null)for(var f=0;f<o.length;f++){var p=o[f],g=i,w=l,N=w;e:for(;N!==null;){switch(N.tag){case 27:if($r(N.type)){Je=N.stateNode,Pt=!1;break e}break;case 5:Je=N.stateNode,Pt=!1;break e;case 3:case 4:Je=N.stateNode.containerInfo,Pt=!0;break e}N=N.return}if(Je===null)throw Error(r(160));Ty(g,w,p),Je=null,Pt=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)My(l,i),l=l.sibling}var On=null;function My(i,l){var o=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ft(l,i),$t(i),f&4&&(Hr(3,i,i.return),Il(3,i),Hr(5,i,i.return));break;case 1:Ft(l,i),$t(i),f&512&&(ft||o===null||In(o,o.return)),f&64&&ar&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?f:o.concat(f))));break;case 26:var p=On;if(Ft(l,i),$t(i),f&512&&(ft||o===null||In(o,o.return)),f&4){var g=o!==null?o.memoizedState:null;if(f=i.memoizedState,o===null)if(f===null)if(i.stateNode===null){e:{f=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ml]||g[St]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(f),p.head.insertBefore(g,p.querySelector("head > title"))),Nt(g,f,o),g[St]=i,mt(g),f=g;break e;case"link":var w=Mb("link","href",p).get(f+(o.href||""));if(w){for(var N=0;N<w.length;N++)if(g=w[N],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(N,1);break t}}g=p.createElement(f),Nt(g,f,o),p.head.appendChild(g);break;case"meta":if(w=Mb("meta","content",p).get(f+(o.content||""))){for(N=0;N<w.length;N++)if(g=w[N],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(N,1);break t}}g=p.createElement(f),Nt(g,f,o),p.head.appendChild(g);break;default:throw Error(r(468,f))}g[St]=i,mt(g),f=g}i.stateNode=f}else Ob(p,i.type,i.stateNode);else i.stateNode=Ab(p,f,i.memoizedProps);else g!==f?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,f===null?Ob(p,i.type,i.stateNode):Ab(p,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Rd(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ft(l,i),$t(i),f&512&&(ft||o===null||In(o,o.return)),o!==null&&f&4&&Rd(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ft(l,i),$t(i),f&512&&(ft||o===null||In(o,o.return)),i.flags&32){p=i.stateNode;try{us(p,"")}catch(le){He(i,i.return,le)}}f&4&&i.stateNode!=null&&(p=i.memoizedProps,Rd(i,p,o!==null?o.memoizedProps:p)),f&1024&&(_d=!0);break;case 6:if(Ft(l,i),$t(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,o=i.stateNode;try{o.nodeValue=f}catch(le){He(i,i.return,le)}}break;case 3:if(rc=null,p=On,On=tc(l.containerInfo),Ft(l,i),On=p,$t(i),f&4&&o!==null&&o.memoizedState.isDehydrated)try{Is(l.containerInfo)}catch(le){He(i,i.return,le)}_d&&(_d=!1,Oy(i));break;case 4:f=On,On=tc(i.stateNode.containerInfo),Ft(l,i),$t(i),On=f;break;case 12:Ft(l,i),$t(i);break;case 31:Ft(l,i),$t(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Io(i,f)));break;case 13:Ft(l,i),$t(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Po=Wt()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Io(i,f)));break;case 22:p=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,z=ar,$=ft;if(ar=z||p,ft=$||O,Ft(l,i),ft=$,ar=z,$t(i),f&8192)e:for(l=i.stateNode,l._visibility=p?l._visibility&-2:l._visibility|1,p&&(o===null||O||ar||ft||Di(i)),o=null,l=i;;){if(l.tag===5||l.tag===26){if(o===null){O=o=l;try{if(g=O.stateNode,p)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{N=O.stateNode;var G=O.memoizedProps.style,B=G!=null&&G.hasOwnProperty("display")?G.display:null;N.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){He(O,O.return,le)}}}else if(l.tag===6){if(o===null){O=l;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(le){He(O,O.return,le)}}}else if(l.tag===18){if(o===null){O=l;try{var U=O.stateNode;p?xb(U,!0):xb(O.stateNode,!1)}catch(le){He(O,O.return,le)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;o===l&&(o=null),l=l.return}o===l&&(o=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=i.updateQueue,f!==null&&(o=f.retryQueue,o!==null&&(f.retryQueue=null,Io(i,o))));break;case 19:Ft(l,i),$t(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Io(i,f)));break;case 30:break;case 21:break;default:Ft(l,i),$t(i)}}function $t(i){var l=i.flags;if(l&2){try{for(var o,f=i.return;f!==null;){if(Sy(f)){o=f;break}f=f.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,g=jd(i);Vo(i,g,p);break;case 5:var w=o.stateNode;o.flags&32&&(us(w,""),o.flags&=-33);var N=jd(i);Vo(i,N,w);break;case 3:case 4:var O=o.stateNode.containerInfo,z=jd(i);Dd(i,z,O);break;default:throw Error(r(161))}}catch($){He(i,i.return,$)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Oy(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;Oy(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function cr(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Cy(i,l.alternate,l),l=l.sibling}function Di(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:Hr(4,l,l.return),Di(l);break;case 1:In(l,l.return);var o=l.stateNode;typeof o.componentWillUnmount=="function"&&xy(l,l.return,o),Di(l);break;case 27:Ql(l.stateNode);case 26:case 5:In(l,l.return),Di(l);break;case 22:l.memoizedState===null&&Di(l);break;case 30:Di(l);break;default:Di(l)}i=i.sibling}}function ur(i,l,o){for(o=o&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,p=i,g=l,w=g.flags;switch(g.tag){case 0:case 11:case 15:ur(p,g,o),Il(4,g);break;case 1:if(ur(p,g,o),f=g,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(z){He(f,f.return,z)}if(f=g,p=f.updateQueue,p!==null){var N=f.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)a0(O[p],N)}catch(z){He(f,f.return,z)}}o&&w&64&&by(g),ql(g,g.return);break;case 27:wy(g);case 26:case 5:ur(p,g,o),o&&f===null&&w&4&&vy(g),ql(g,g.return);break;case 12:ur(p,g,o);break;case 31:ur(p,g,o),o&&w&4&&ky(p,g);break;case 13:ur(p,g,o),o&&w&4&&Ay(p,g);break;case 22:g.memoizedState===null&&ur(p,g,o),ql(g,g.return);break;case 30:break;default:ur(p,g,o)}l=l.sibling}}function zd(i,l){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Al(o))}function Ld(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Al(i))}function Rn(i,l,o,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Ry(i,l,o,f),l=l.sibling}function Ry(i,l,o,f){var p=l.flags;switch(l.tag){case 0:case 11:case 15:Rn(i,l,o,f),p&2048&&Il(9,l);break;case 1:Rn(i,l,o,f);break;case 3:Rn(i,l,o,f),p&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Al(i)));break;case 12:if(p&2048){Rn(i,l,o,f),i=l.stateNode;try{var g=l.memoizedProps,w=g.id,N=g.onPostCommit;typeof N=="function"&&N(w,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){He(l,l.return,O)}}else Rn(i,l,o,f);break;case 31:Rn(i,l,o,f);break;case 13:Rn(i,l,o,f);break;case 23:break;case 22:g=l.stateNode,w=l.alternate,l.memoizedState!==null?g._visibility&2?Rn(i,l,o,f):Pl(i,l):g._visibility&2?Rn(i,l,o,f):(g._visibility|=2,Os(i,l,o,f,(l.subtreeFlags&10256)!==0||!1)),p&2048&&zd(w,l);break;case 24:Rn(i,l,o,f),p&2048&&Ld(l.alternate,l);break;default:Rn(i,l,o,f)}}function Os(i,l,o,f,p){for(p=p&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var g=i,w=l,N=o,O=f,z=w.flags;switch(w.tag){case 0:case 11:case 15:Os(g,w,N,O,p),Il(8,w);break;case 23:break;case 22:var $=w.stateNode;w.memoizedState!==null?$._visibility&2?Os(g,w,N,O,p):Pl(g,w):($._visibility|=2,Os(g,w,N,O,p)),p&&z&2048&&zd(w.alternate,w);break;case 24:Os(g,w,N,O,p),p&&z&2048&&Ld(w.alternate,w);break;default:Os(g,w,N,O,p)}l=l.sibling}}function Pl(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var o=i,f=l,p=f.flags;switch(f.tag){case 22:Pl(o,f),p&2048&&zd(f.alternate,f);break;case 24:Pl(o,f),p&2048&&Ld(f.alternate,f);break;default:Pl(o,f)}l=l.sibling}}var Fl=8192;function Rs(i,l,o){if(i.subtreeFlags&Fl)for(i=i.child;i!==null;)jy(i,l,o),i=i.sibling}function jy(i,l,o){switch(i.tag){case 26:Rs(i,l,o),i.flags&Fl&&i.memoizedState!==null&&jC(o,On,i.memoizedState,i.memoizedProps);break;case 5:Rs(i,l,o);break;case 3:case 4:var f=On;On=tc(i.stateNode.containerInfo),Rs(i,l,o),On=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=Fl,Fl=16777216,Rs(i,l,o),Fl=f):Rs(i,l,o));break;default:Rs(i,l,o)}}function Dy(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function $l(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var f=l[o];gt=f,zy(f,i)}Dy(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_y(i),i=i.sibling}function _y(i){switch(i.tag){case 0:case 11:case 15:$l(i),i.flags&2048&&Hr(9,i,i.return);break;case 3:$l(i);break;case 12:$l(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,qo(i)):$l(i);break;default:$l(i)}}function qo(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var f=l[o];gt=f,zy(f,i)}Dy(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:Hr(8,l,l.return),qo(l);break;case 22:o=l.stateNode,o._visibility&2&&(o._visibility&=-3,qo(l));break;default:qo(l)}i=i.sibling}}function zy(i,l){for(;gt!==null;){var o=gt;switch(o.tag){case 0:case 11:case 15:Hr(8,o,l);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var f=o.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Al(o.memoizedState.cache)}if(f=o.child,f!==null)f.return=o,gt=f;else e:for(o=i;gt!==null;){f=gt;var p=f.sibling,g=f.return;if(Ny(f),f===o){gt=null;break e}if(p!==null){p.return=g,gt=p;break e}gt=g}}}var GE={getCacheForType:function(i){var l=Et(ot),o=l.data.get(i);return o===void 0&&(o=i(),l.data.set(i,o)),o},cacheSignal:function(){return Et(ot).controller.signal}},YE=typeof WeakMap=="function"?WeakMap:Map,Le=0,Pe=null,Te=null,Me=0,Be=0,an=null,Ur=!1,js=!1,Bd=!1,fr=0,We=0,Vr=0,_i=0,Hd=0,on=0,Ds=0,Kl=null,Kt=null,Ud=!1,Po=0,Ly=0,Fo=1/0,$o=null,Ir=null,pt=0,qr=null,_s=null,dr=0,Vd=0,Id=null,By=null,Gl=0,qd=null;function cn(){return(Le&2)!==0&&Me!==0?Me&-Me:L.T!==null?Yd():Wm()}function Hy(){if(on===0)if((Me&536870912)===0||je){var i=Za;Za<<=1,(Za&3932160)===0&&(Za=262144),on=i}else on=536870912;return i=sn.current,i!==null&&(i.flags|=32),on}function Gt(i,l,o){(i===Pe&&(Be===2||Be===9)||i.cancelPendingCommit!==null)&&(zs(i,0),Pr(i,Me,on,!1)),pl(i,o),((Le&2)===0||i!==Pe)&&(i===Pe&&((Le&2)===0&&(_i|=o),We===4&&Pr(i,Me,on,!1)),qn(i))}function Uy(i,l,o){if((Le&6)!==0)throw Error(r(327));var f=!o&&(l&127)===0&&(l&i.expiredLanes)===0||hl(i,l),p=f?QE(i,l):Fd(i,l,!0),g=f;do{if(p===0){js&&!f&&Pr(i,l,0,!1);break}else{if(o=i.current.alternate,g&&!JE(o)){p=Fd(i,l,!1),g=!1;continue}if(p===2){if(g=l,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){l=w;e:{var N=i;p=Kl;var O=N.current.memoizedState.isDehydrated;if(O&&(zs(N,w).flags|=256),w=Fd(N,w,!1),w!==2){if(Bd&&!O){N.errorRecoveryDisabledLanes|=g,_i|=g,p=4;break e}g=Kt,Kt=p,g!==null&&(Kt===null?Kt=g:Kt.push.apply(Kt,g))}p=w}if(g=!1,p!==2)continue}}if(p===1){zs(i,0),Pr(i,l,0,!0);break}e:{switch(f=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Pr(f,l,on,!Ur);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(p=Po+300-Wt(),10<p)){if(Pr(f,l,on,!Ur),eo(f,0,!0)!==0)break e;dr=l,f.timeoutHandle=gb(Vy.bind(null,f,o,Kt,$o,Ud,l,on,_i,Ds,Ur,g,"Throttled",-0,0),p);break e}Vy(f,o,Kt,$o,Ud,l,on,_i,Ds,Ur,g,null,-0,0)}}break}while(!0);qn(i)}function Vy(i,l,o,f,p,g,w,N,O,z,$,G,B,U){if(i.timeoutHandle=-1,G=l.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},jy(l,g,G);var le=(g&62914560)===g?Po-Wt():(g&4194048)===g?Ly-Wt():0;if(le=DC(G,le),le!==null){dr=g,i.cancelPendingCommit=le(Yy.bind(null,i,l,g,o,f,p,w,N,O,$,G,null,B,U)),Pr(i,g,w,!z);return}}Yy(i,l,g,o,f,p,w,N,O)}function JE(i){for(var l=i;;){var o=l.tag;if((o===0||o===11||o===15)&&l.flags&16384&&(o=l.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var f=0;f<o.length;f++){var p=o[f],g=p.getSnapshot;p=p.value;try{if(!nn(g(),p))return!1}catch{return!1}}if(o=l.child,l.subtreeFlags&16384&&o!==null)o.return=l,l=o;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Pr(i,l,o,f){l&=~Hd,l&=~_i,i.suspendedLanes|=l,i.pingedLanes&=~l,f&&(i.warmLanes|=l),f=i.expirationTimes;for(var p=l;0<p;){var g=31-tn(p),w=1<<g;f[g]=-1,p&=~w}o!==0&&Xm(i,o,l)}function Ko(){return(Le&6)===0?(Yl(0),!1):!0}function Pd(){if(Te!==null){if(Be===0)var i=Te.return;else i=Te,tr=Ni=null,sd(i),Ns=null,Ol=0,i=Te;for(;i!==null;)yy(i.alternate,i),i=i.return;Te=null}}function zs(i,l){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,mC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),dr=0,Pd(),Pe=i,Te=o=Wn(i.current,null),Me=l,Be=0,an=null,Ur=!1,js=hl(i,l),Bd=!1,Ds=on=Hd=_i=Vr=We=0,Kt=Kl=null,Ud=!1,(l&8)!==0&&(l|=l&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=l;0<f;){var p=31-tn(f),g=1<<p;l|=i[p],f&=~g}return fr=l,ho(),o}function Iy(i,l){ve=null,L.H=Hl,l===Cs||l===So?(l=r0(),Be=3):l===Gf?(l=r0(),Be=4):Be=l===Sd?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,an=l,Te===null&&(We=1,zo(i,gn(l,i.current)))}function qy(){var i=sn.current;return i===null?!0:(Me&4194048)===Me?vn===null:(Me&62914560)===Me||(Me&536870912)!==0?i===vn:!1}function Py(){var i=L.H;return L.H=Hl,i===null?Hl:i}function Fy(){var i=L.A;return L.A=GE,i}function Go(){We=4,Ur||(Me&4194048)!==Me&&sn.current!==null||(js=!0),(Vr&134217727)===0&&(_i&134217727)===0||Pe===null||Pr(Pe,Me,on,!1)}function Fd(i,l,o){var f=Le;Le|=2;var p=Py(),g=Fy();(Pe!==i||Me!==l)&&($o=null,zs(i,l)),l=!1;var w=We;e:do try{if(Be!==0&&Te!==null){var N=Te,O=an;switch(Be){case 8:Pd(),w=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(l=!0);var z=Be;if(Be=0,an=null,Ls(i,N,O,z),o&&js){w=0;break e}break;default:z=Be,Be=0,an=null,Ls(i,N,O,z)}}XE(),w=We;break}catch($){Iy(i,$)}while(!0);return l&&i.shellSuspendCounter++,tr=Ni=null,Le=f,L.H=p,L.A=g,Te===null&&(Pe=null,Me=0,ho()),w}function XE(){for(;Te!==null;)$y(Te)}function QE(i,l){var o=Le;Le|=2;var f=Py(),p=Fy();Pe!==i||Me!==l?($o=null,Fo=Wt()+500,zs(i,l)):js=hl(i,l);e:do try{if(Be!==0&&Te!==null){l=Te;var g=an;t:switch(Be){case 1:Be=0,an=null,Ls(i,l,g,1);break;case 2:case 9:if(t0(g)){Be=0,an=null,Ky(l);break}l=function(){Be!==2&&Be!==9||Pe!==i||(Be=7),qn(i)},g.then(l,l);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:t0(g)?(Be=0,an=null,Ky(l)):(Be=0,an=null,Ls(i,l,g,7));break;case 5:var w=null;switch(Te.tag){case 26:w=Te.memoizedState;case 5:case 27:var N=Te;if(w?Rb(w):N.stateNode.complete){Be=0,an=null;var O=N.sibling;if(O!==null)Te=O;else{var z=N.return;z!==null?(Te=z,Yo(z)):Te=null}break t}}Be=0,an=null,Ls(i,l,g,5);break;case 6:Be=0,an=null,Ls(i,l,g,6);break;case 8:Pd(),We=6;break e;default:throw Error(r(462))}}ZE();break}catch($){Iy(i,$)}while(!0);return tr=Ni=null,L.H=f,L.A=p,Le=o,Te!==null?0:(Pe=null,Me=0,ho(),We)}function ZE(){for(;Te!==null&&!Sw();)$y(Te)}function $y(i){var l=my(i.alternate,i,fr);i.memoizedProps=i.pendingProps,l===null?Yo(i):Te=l}function Ky(i){var l=i,o=l.alternate;switch(l.tag){case 15:case 0:l=cy(o,l,l.pendingProps,l.type,void 0,Me);break;case 11:l=cy(o,l,l.pendingProps,l.type.render,l.ref,Me);break;case 5:sd(l);default:yy(o,l),l=Te=Fg(l,fr),l=my(o,l,fr)}i.memoizedProps=i.pendingProps,l===null?Yo(i):Te=l}function Ls(i,l,o,f){tr=Ni=null,sd(l),Ns=null,Ol=0;var p=l.return;try{if(VE(i,p,l,o,Me)){We=1,zo(i,gn(o,i.current)),Te=null;return}}catch(g){if(p!==null)throw Te=p,g;We=1,zo(i,gn(o,i.current)),Te=null;return}l.flags&32768?(je||f===1?i=!0:js||(Me&536870912)!==0?i=!1:(Ur=i=!0,(f===2||f===9||f===3||f===6)&&(f=sn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Gy(l,i)):Yo(l)}function Yo(i){var l=i;do{if((l.flags&32768)!==0){Gy(l,Ur);return}i=l.return;var o=PE(l.alternate,l,fr);if(o!==null){Te=o;return}if(l=l.sibling,l!==null){Te=l;return}Te=l=i}while(l!==null);We===0&&(We=5)}function Gy(i,l){do{var o=FE(i.alternate,i);if(o!==null){o.flags&=32767,Te=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!l&&(i=i.sibling,i!==null)){Te=i;return}Te=i=o}while(i!==null);We=6,Te=null}function Yy(i,l,o,f,p,g,w,N,O){i.cancelPendingCommit=null;do Jo();while(pt!==0);if((Le&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(g=l.lanes|l.childLanes,g|=jf,Rw(i,o,g,w,N,O),i===Pe&&(Te=Pe=null,Me=0),_s=l,qr=i,dr=o,Vd=g,Id=p,By=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,nC(Xa,function(){return Wy(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=L.T,L.T=null,p=J.p,J.p=2,w=Le,Le|=4;try{$E(i,l,o)}finally{Le=w,J.p=p,L.T=f}}pt=1,Jy(),Xy(),Qy()}}function Jy(){if(pt===1){pt=0;var i=qr,l=_s,o=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var f=J.p;J.p=2;var p=Le;Le|=4;try{My(l,i);var g=nh,w=zg(i.containerInfo),N=g.focusedElem,O=g.selectionRange;if(w!==N&&N&&N.ownerDocument&&_g(N.ownerDocument.documentElement,N)){if(O!==null&&kf(N)){var z=O.start,$=O.end;if($===void 0&&($=z),"selectionStart"in N)N.selectionStart=z,N.selectionEnd=Math.min($,N.value.length);else{var G=N.ownerDocument||document,B=G&&G.defaultView||window;if(B.getSelection){var U=B.getSelection(),le=N.textContent.length,pe=Math.min(O.start,le),qe=O.end===void 0?pe:Math.min(O.end,le);!U.extend&&pe>qe&&(w=qe,qe=pe,pe=w);var D=Dg(N,pe),R=Dg(N,qe);if(D&&R&&(U.rangeCount!==1||U.anchorNode!==D.node||U.anchorOffset!==D.offset||U.focusNode!==R.node||U.focusOffset!==R.offset)){var _=G.createRange();_.setStart(D.node,D.offset),U.removeAllRanges(),pe>qe?(U.addRange(_),U.extend(R.node,R.offset)):(_.setEnd(R.node,R.offset),U.addRange(_))}}}}for(G=[],U=N;U=U.parentNode;)U.nodeType===1&&G.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<G.length;N++){var K=G[N];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}ac=!!th,nh=th=null}finally{Le=p,J.p=f,L.T=o}}i.current=l,pt=2}}function Xy(){if(pt===2){pt=0;var i=qr,l=_s,o=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var f=J.p;J.p=2;var p=Le;Le|=4;try{Cy(i,l.alternate,l)}finally{Le=p,J.p=f,L.T=o}}pt=3}}function Qy(){if(pt===4||pt===3){pt=0,ww();var i=qr,l=_s,o=dr,f=By;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?pt=5:(pt=0,_s=qr=null,Zy(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ir=null),of(o),l=l.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(dl,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=L.T,p=J.p,J.p=2,L.T=null;try{for(var g=i.onRecoverableError,w=0;w<f.length;w++){var N=f[w];g(N.value,{componentStack:N.stack})}}finally{L.T=l,J.p=p}}(dr&3)!==0&&Jo(),qn(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===qd?Gl++:(Gl=0,qd=i):Gl=0,Yl(0)}}function Zy(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Al(l)))}function Jo(){return Jy(),Xy(),Qy(),Wy()}function Wy(){if(pt!==5)return!1;var i=qr,l=Vd;Vd=0;var o=of(dr),f=L.T,p=J.p;try{J.p=32>o?32:o,L.T=null,o=Id,Id=null;var g=qr,w=dr;if(pt=0,_s=qr=null,dr=0,(Le&6)!==0)throw Error(r(331));var N=Le;if(Le|=4,_y(g.current),Ry(g,g.current,w,o),Le=N,Yl(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(dl,g)}catch{}return!0}finally{J.p=p,L.T=f,Zy(i,l)}}function eb(i,l,o){l=gn(o,l),l=vd(i.stateNode,l,2),i=zr(i,l,2),i!==null&&(pl(i,2),qn(i))}function He(i,l,o){if(i.tag===3)eb(i,i,o);else for(;l!==null;){if(l.tag===3){eb(l,i,o);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ir===null||!Ir.has(f))){i=gn(o,i),o=ty(2),f=zr(l,o,2),f!==null&&(ny(o,f,l,i),pl(f,2),qn(f));break}}l=l.return}}function $d(i,l,o){var f=i.pingCache;if(f===null){f=i.pingCache=new YE;var p=new Set;f.set(l,p)}else p=f.get(l),p===void 0&&(p=new Set,f.set(l,p));p.has(o)||(Bd=!0,p.add(o),i=WE.bind(null,i,l,o),l.then(i,i))}function WE(i,l,o){var f=i.pingCache;f!==null&&f.delete(l),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Pe===i&&(Me&o)===o&&(We===4||We===3&&(Me&62914560)===Me&&300>Wt()-Po?(Le&2)===0&&zs(i,0):Hd|=o,Ds===Me&&(Ds=0)),qn(i)}function tb(i,l){l===0&&(l=Jm()),i=wi(i,l),i!==null&&(pl(i,l),qn(i))}function eC(i){var l=i.memoizedState,o=0;l!==null&&(o=l.retryLane),tb(i,o)}function tC(i,l){var o=0;switch(i.tag){case 31:case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(l),tb(i,o)}function nC(i,l){return rf(i,l)}var Xo=null,Bs=null,Kd=!1,Qo=!1,Gd=!1,Fr=0;function qn(i){i!==Bs&&i.next===null&&(Bs===null?Xo=Bs=i:Bs=Bs.next=i),Qo=!0,Kd||(Kd=!0,iC())}function Yl(i,l){if(!Gd&&Qo){Gd=!0;do for(var o=!1,f=Xo;f!==null;){if(i!==0){var p=f.pendingLanes;if(p===0)var g=0;else{var w=f.suspendedLanes,N=f.pingedLanes;g=(1<<31-tn(42|i)+1)-1,g&=p&~(w&~N),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,sb(f,g))}else g=Me,g=eo(f,f===Pe?g:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(g&3)===0||hl(f,g)||(o=!0,sb(f,g));f=f.next}while(o);Gd=!1}}function rC(){nb()}function nb(){Qo=Kd=!1;var i=0;Fr!==0&&pC()&&(i=Fr);for(var l=Wt(),o=null,f=Xo;f!==null;){var p=f.next,g=rb(f,l);g===0?(f.next=null,o===null?Xo=p:o.next=p,p===null&&(Bs=o)):(o=f,(i!==0||(g&3)!==0)&&(Qo=!0)),f=p}pt!==0&&pt!==5||Yl(i),Fr!==0&&(Fr=0)}function rb(i,l){for(var o=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-tn(g),N=1<<w,O=p[w];O===-1?((N&o)===0||(N&f)!==0)&&(p[w]=Ow(N,l)):O<=l&&(i.expiredLanes|=N),g&=~N}if(l=Pe,o=Me,o=eo(i,i===l?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,o===0||i===l&&(Be===2||Be===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&sf(f),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||hl(i,o)){if(l=o&-o,l===i.callbackPriority)return l;switch(f!==null&&sf(f),of(o)){case 2:case 8:o=Gm;break;case 32:o=Xa;break;case 268435456:o=Ym;break;default:o=Xa}return f=ib.bind(null,i),o=rf(o,f),i.callbackPriority=l,i.callbackNode=o,l}return f!==null&&f!==null&&sf(f),i.callbackPriority=2,i.callbackNode=null,2}function ib(i,l){if(pt!==0&&pt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Jo()&&i.callbackNode!==o)return null;var f=Me;return f=eo(i,i===Pe?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(Uy(i,f,l),rb(i,Wt()),i.callbackNode!=null&&i.callbackNode===o?ib.bind(null,i):null)}function sb(i,l){if(Jo())return null;Uy(i,l,!0)}function iC(){gC(function(){(Le&6)!==0?rf(Km,rC):nb()})}function Yd(){if(Fr===0){var i=ws;i===0&&(i=Qa,Qa<<=1,(Qa&261888)===0&&(Qa=256)),Fr=i}return Fr}function lb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:io(""+i)}function ab(i,l){var o=l.ownerDocument.createElement("input");return o.name=l.name,o.value=l.value,i.id&&o.setAttribute("form",i.id),l.parentNode.insertBefore(o,l),i=new FormData(i),o.parentNode.removeChild(o),i}function sC(i,l,o,f,p){if(l==="submit"&&o&&o.stateNode===p){var g=lb((p[It]||null).action),w=f.submitter;w&&(l=(l=w[It]||null)?lb(l.formAction):w.getAttribute("formAction"),l!==null&&(g=l,w=null));var N=new oo("action","action",null,f,p);i.push({event:N,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Fr!==0){var O=w?ab(p,w):new FormData(p);pd(o,{pending:!0,data:O,method:p.method,action:g},null,O)}}else typeof g=="function"&&(N.preventDefault(),O=w?ab(p,w):new FormData(p),pd(o,{pending:!0,data:O,method:p.method,action:g},g,O))},currentTarget:p}]})}}for(var Jd=0;Jd<Rf.length;Jd++){var Xd=Rf[Jd],lC=Xd.toLowerCase(),aC=Xd[0].toUpperCase()+Xd.slice(1);Mn(lC,"on"+aC)}Mn(Hg,"onAnimationEnd"),Mn(Ug,"onAnimationIteration"),Mn(Vg,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(EE,"onTransitionRun"),Mn(CE,"onTransitionStart"),Mn(NE,"onTransitionCancel"),Mn(Ig,"onTransitionEnd"),as("onMouseEnter",["mouseout","mouseover"]),as("onMouseLeave",["mouseout","mouseover"]),as("onPointerEnter",["pointerout","pointerover"]),as("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function ob(i,l){l=(l&4)!==0;for(var o=0;o<i.length;o++){var f=i[o],p=f.event;f=f.listeners;e:{var g=void 0;if(l)for(var w=f.length-1;0<=w;w--){var N=f[w],O=N.instance,z=N.currentTarget;if(N=N.listener,O!==g&&p.isPropagationStopped())break e;g=N,p.currentTarget=z;try{g(p)}catch($){fo($)}p.currentTarget=null,g=O}else for(w=0;w<f.length;w++){if(N=f[w],O=N.instance,z=N.currentTarget,N=N.listener,O!==g&&p.isPropagationStopped())break e;g=N,p.currentTarget=z;try{g(p)}catch($){fo($)}p.currentTarget=null,g=O}}}}function ke(i,l){var o=l[cf];o===void 0&&(o=l[cf]=new Set);var f=i+"__bubble";o.has(f)||(cb(l,i,2,!1),o.add(f))}function Qd(i,l,o){var f=0;l&&(f|=4),cb(o,i,f,l)}var Zo="_reactListening"+Math.random().toString(36).slice(2);function Zd(i){if(!i[Zo]){i[Zo]=!0,ng.forEach(function(o){o!=="selectionchange"&&(oC.has(o)||Qd(o,!1,i),Qd(o,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Zo]||(l[Zo]=!0,Qd("selectionchange",!1,l))}}function cb(i,l,o,f){switch(Hb(l)){case 2:var p=LC;break;case 8:p=BC;break;default:p=hh}o=p.bind(null,l,o,i),p=void 0,!bf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(l,o,{capture:!0,passive:p}):i.addEventListener(l,o,!0):p!==void 0?i.addEventListener(l,o,{passive:p}):i.addEventListener(l,o,!1)}function Wd(i,l,o,f,p){var g=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var N=f.stateNode.containerInfo;if(N===p)break;if(w===4)for(w=f.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;N!==null;){if(w=is(N),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){f=g=w;continue e}N=N.parentNode}}f=f.return}pg(function(){var z=g,$=gf(o),G=[];e:{var B=qg.get(i);if(B!==void 0){var U=oo,le=i;switch(i){case"keypress":if(lo(o)===0)break e;case"keydown":case"keyup":U=tE;break;case"focusin":le="focus",U=wf;break;case"focusout":le="blur",U=wf;break;case"beforeblur":case"afterblur":U=wf;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Pw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=iE;break;case Hg:case Ug:case Vg:U=Kw;break;case Ig:U=lE;break;case"scroll":case"scrollend":U=Iw;break;case"wheel":U=oE;break;case"copy":case"cut":case"paste":U=Yw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=xg;break;case"toggle":case"beforetoggle":U=uE}var pe=(l&4)!==0,qe=!pe&&(i==="scroll"||i==="scrollend"),D=pe?B!==null?B+"Capture":null:B;pe=[];for(var R=z,_;R!==null;){var K=R;if(_=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||_===null||D===null||(K=yl(R,D),K!=null&&pe.push(Xl(R,K,_))),qe)break;R=R.return}0<pe.length&&(B=new U(B,le,null,o,$),G.push({event:B,listeners:pe}))}}if((l&7)===0){e:{if(B=i==="mouseover"||i==="pointerover",U=i==="mouseout"||i==="pointerout",B&&o!==mf&&(le=o.relatedTarget||o.fromElement)&&(is(le)||le[rs]))break e;if((U||B)&&(B=$.window===$?$:(B=$.ownerDocument)?B.defaultView||B.parentWindow:window,U?(le=o.relatedTarget||o.toElement,U=z,le=le?is(le):null,le!==null&&(qe=a(le),pe=le.tag,le!==qe||pe!==5&&pe!==27&&pe!==6)&&(le=null)):(U=null,le=z),U!==le)){if(pe=yg,K="onMouseLeave",D="onMouseEnter",R="mouse",(i==="pointerout"||i==="pointerover")&&(pe=xg,K="onPointerLeave",D="onPointerEnter",R="pointer"),qe=U==null?B:gl(U),_=le==null?B:gl(le),B=new pe(K,R+"leave",U,o,$),B.target=qe,B.relatedTarget=_,K=null,is($)===z&&(pe=new pe(D,R+"enter",le,o,$),pe.target=_,pe.relatedTarget=qe,K=pe),qe=K,U&&le)t:{for(pe=cC,D=U,R=le,_=0,K=D;K;K=pe(K))_++;K=0;for(var ue=R;ue;ue=pe(ue))K++;for(;0<_-K;)D=pe(D),_--;for(;0<K-_;)R=pe(R),K--;for(;_--;){if(D===R||R!==null&&D===R.alternate){pe=D;break t}D=pe(D),R=pe(R)}pe=null}else pe=null;U!==null&&ub(G,B,U,pe,!1),le!==null&&qe!==null&&ub(G,qe,le,pe,!0)}}e:{if(B=z?gl(z):window,U=B.nodeName&&B.nodeName.toLowerCase(),U==="select"||U==="input"&&B.type==="file")var _e=kg;else if(Ng(B))if(Ag)_e=vE;else{_e=bE;var oe=yE}else U=B.nodeName,!U||U.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&pf(z.elementType)&&(_e=kg):_e=xE;if(_e&&(_e=_e(i,z))){Tg(G,_e,o,$);break e}oe&&oe(i,B,z),i==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&hf(B,"number",B.value)}switch(oe=z?gl(z):window,i){case"focusin":(Ng(oe)||oe.contentEditable==="true")&&(ps=oe,Af=z,Nl=null);break;case"focusout":Nl=Af=ps=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,Lg(G,o,$);break;case"selectionchange":if(wE)break;case"keydown":case"keyup":Lg(G,o,$)}var we;if(Cf)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else hs?Eg(i,o)&&(Oe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(vg&&o.locale!=="ko"&&(hs||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&hs&&(we=mg()):(Ar=$,xf="value"in Ar?Ar.value:Ar.textContent,hs=!0)),oe=Wo(z,Oe),0<oe.length&&(Oe=new bg(Oe,i,null,o,$),G.push({event:Oe,listeners:oe}),we?Oe.data=we:(we=Cg(o),we!==null&&(Oe.data=we)))),(we=dE?hE(i,o):pE(i,o))&&(Oe=Wo(z,"onBeforeInput"),0<Oe.length&&(oe=new bg("onBeforeInput","beforeinput",null,o,$),G.push({event:oe,listeners:Oe}),oe.data=we)),sC(G,i,z,o,$)}ob(G,l)})}function Xl(i,l,o){return{instance:i,listener:l,currentTarget:o}}function Wo(i,l){for(var o=l+"Capture",f=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=yl(i,o),p!=null&&f.unshift(Xl(i,p,g)),p=yl(i,l),p!=null&&f.push(Xl(i,p,g))),i.tag===3)return f;i=i.return}return[]}function cC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ub(i,l,o,f,p){for(var g=l._reactName,w=[];o!==null&&o!==f;){var N=o,O=N.alternate,z=N.stateNode;if(N=N.tag,O!==null&&O===f)break;N!==5&&N!==26&&N!==27||z===null||(O=z,p?(z=yl(o,g),z!=null&&w.unshift(Xl(o,z,O))):p||(z=yl(o,g),z!=null&&w.push(Xl(o,z,O)))),o=o.return}w.length!==0&&i.push({event:l,listeners:w})}var uC=/\r\n?/g,fC=/\u0000|\uFFFD/g;function fb(i){return(typeof i=="string"?i:""+i).replace(uC,`
`).replace(fC,"")}function db(i,l){return l=fb(l),fb(i)===l}function Ie(i,l,o,f,p,g){switch(o){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||us(i,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&us(i,""+f);break;case"className":no(i,"class",f);break;case"tabIndex":no(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":no(i,o,f);break;case"style":dg(i,f,g);break;case"data":if(l!=="object"){no(i,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||o!=="href")){i.removeAttribute(o);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(o);break}f=io(""+f),i.setAttribute(o,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(l!=="input"&&Ie(i,l,"name",p.name,p,null),Ie(i,l,"formEncType",p.formEncType,p,null),Ie(i,l,"formMethod",p.formMethod,p,null),Ie(i,l,"formTarget",p.formTarget,p,null)):(Ie(i,l,"encType",p.encType,p,null),Ie(i,l,"method",p.method,p,null),Ie(i,l,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(o);break}f=io(""+f),i.setAttribute(o,f);break;case"onClick":f!=null&&(i.onclick=Qn);break;case"onScroll":f!=null&&ke("scroll",i);break;case"onScrollEnd":f!=null&&ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(o=f.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}o=io(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,""+f):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":f===!0?i.setAttribute(o,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,f):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(o,f):i.removeAttribute(o);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(o):i.setAttribute(o,f);break;case"popover":ke("beforetoggle",i),ke("toggle",i),to(i,"popover",f);break;case"xlinkActuate":Xn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Xn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Xn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Xn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Xn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Xn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Xn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Xn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Xn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":to(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Uw.get(o)||o,to(i,o,f))}}function eh(i,l,o,f,p,g){switch(o){case"style":dg(i,f,g);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(o=f.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof f=="string"?us(i,f):(typeof f=="number"||typeof f=="bigint")&&us(i,""+f);break;case"onScroll":f!=null&&ke("scroll",i);break;case"onScrollEnd":f!=null&&ke("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rg.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),l=o.slice(2,p?o.length-7:void 0),g=i[It]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(l,g,p),typeof f=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(l,f,p);break e}o in i?i[o]=f:f===!0?i.setAttribute(o,""):to(i,o,f)}}}function Nt(i,l,o){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",i),ke("load",i);var f=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ie(i,l,g,w,o,null)}}p&&Ie(i,l,"srcSet",o.srcSet,o,null),f&&Ie(i,l,"src",o.src,o,null);return;case"input":ke("invalid",i);var N=g=w=p=null,O=null,z=null;for(f in o)if(o.hasOwnProperty(f)){var $=o[f];if($!=null)switch(f){case"name":p=$;break;case"type":w=$;break;case"checked":O=$;break;case"defaultChecked":z=$;break;case"value":g=$;break;case"defaultValue":N=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,l));break;default:Ie(i,l,f,$,o,null)}}og(i,g,N,O,z,w,p,!1);return;case"select":ke("invalid",i),f=w=g=null;for(p in o)if(o.hasOwnProperty(p)&&(N=o[p],N!=null))switch(p){case"value":g=N;break;case"defaultValue":w=N;break;case"multiple":f=N;default:Ie(i,l,p,N,o,null)}l=g,o=w,i.multiple=!!f,l!=null?cs(i,!!f,l,!1):o!=null&&cs(i,!!f,o,!0);return;case"textarea":ke("invalid",i),g=p=f=null;for(w in o)if(o.hasOwnProperty(w)&&(N=o[w],N!=null))switch(w){case"value":f=N;break;case"defaultValue":p=N;break;case"children":g=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:Ie(i,l,w,N,o,null)}ug(i,f,p,g);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(f=o[O],f!=null))switch(O){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ie(i,l,O,f,o,null)}return;case"dialog":ke("beforetoggle",i),ke("toggle",i),ke("cancel",i),ke("close",i);break;case"iframe":case"object":ke("load",i);break;case"video":case"audio":for(f=0;f<Jl.length;f++)ke(Jl[f],i);break;case"image":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"embed":case"source":case"link":ke("error",i),ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in o)if(o.hasOwnProperty(z)&&(f=o[z],f!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ie(i,l,z,f,o,null)}return;default:if(pf(l)){for($ in o)o.hasOwnProperty($)&&(f=o[$],f!==void 0&&eh(i,l,$,f,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(f=o[N],f!=null&&Ie(i,l,N,f,o,null))}function dC(i,l,o,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,w=null,N=null,O=null,z=null,$=null;for(U in o){var G=o[U];if(o.hasOwnProperty(U)&&G!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":O=G;default:f.hasOwnProperty(U)||Ie(i,l,U,null,f,G)}}for(var B in f){var U=f[B];if(G=o[B],f.hasOwnProperty(B)&&(U!=null||G!=null))switch(B){case"type":g=U;break;case"name":p=U;break;case"checked":z=U;break;case"defaultChecked":$=U;break;case"value":w=U;break;case"defaultValue":N=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,l));break;default:U!==G&&Ie(i,l,B,U,f,G)}}df(i,w,N,O,z,$,g,p);return;case"select":U=w=N=B=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":U=O;default:f.hasOwnProperty(g)||Ie(i,l,g,null,f,O)}for(p in f)if(g=f[p],O=o[p],f.hasOwnProperty(p)&&(g!=null||O!=null))switch(p){case"value":B=g;break;case"defaultValue":N=g;break;case"multiple":w=g;default:g!==O&&Ie(i,l,p,g,f,O)}l=N,o=w,f=U,B!=null?cs(i,!!o,B,!1):!!f!=!!o&&(l!=null?cs(i,!!o,l,!0):cs(i,!!o,o?[]:"",!1));return;case"textarea":U=B=null;for(N in o)if(p=o[N],o.hasOwnProperty(N)&&p!=null&&!f.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Ie(i,l,N,null,f,p)}for(w in f)if(p=f[w],g=o[w],f.hasOwnProperty(w)&&(p!=null||g!=null))switch(w){case"value":B=p;break;case"defaultValue":U=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&Ie(i,l,w,p,f,g)}cg(i,B,U);return;case"option":for(var le in o)if(B=o[le],o.hasOwnProperty(le)&&B!=null&&!f.hasOwnProperty(le))switch(le){case"selected":i.selected=!1;break;default:Ie(i,l,le,null,f,B)}for(O in f)if(B=f[O],U=o[O],f.hasOwnProperty(O)&&B!==U&&(B!=null||U!=null))switch(O){case"selected":i.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ie(i,l,O,B,f,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in o)B=o[pe],o.hasOwnProperty(pe)&&B!=null&&!f.hasOwnProperty(pe)&&Ie(i,l,pe,null,f,B);for(z in f)if(B=f[z],U=o[z],f.hasOwnProperty(z)&&B!==U&&(B!=null||U!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,l));break;default:Ie(i,l,z,B,f,U)}return;default:if(pf(l)){for(var qe in o)B=o[qe],o.hasOwnProperty(qe)&&B!==void 0&&!f.hasOwnProperty(qe)&&eh(i,l,qe,void 0,f,B);for($ in f)B=f[$],U=o[$],!f.hasOwnProperty($)||B===U||B===void 0&&U===void 0||eh(i,l,$,B,f,U);return}}for(var D in o)B=o[D],o.hasOwnProperty(D)&&B!=null&&!f.hasOwnProperty(D)&&Ie(i,l,D,null,f,B);for(G in f)B=f[G],U=o[G],!f.hasOwnProperty(G)||B===U||B==null&&U==null||Ie(i,l,G,B,f,U)}function hb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,o=performance.getEntriesByType("resource"),f=0;f<o.length;f++){var p=o[f],g=p.transferSize,w=p.initiatorType,N=p.duration;if(g&&N&&hb(w)){for(w=0,N=p.responseEnd,f+=1;f<o.length;f++){var O=o[f],z=O.startTime;if(z>N)break;var $=O.transferSize,G=O.initiatorType;$&&hb(G)&&(O=O.responseEnd,w+=$*(O<N?1:(N-z)/(O-z)))}if(--f,l+=8*(g+w)/(p.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var th=null,nh=null;function ec(i){return i.nodeType===9?i:i.ownerDocument}function pb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mb(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function rh(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ih=null;function pC(){var i=window.event;return i&&i.type==="popstate"?i===ih?!1:(ih=i,!0):(ih=null,!1)}var gb=typeof setTimeout=="function"?setTimeout:void 0,mC=typeof clearTimeout=="function"?clearTimeout:void 0,yb=typeof Promise=="function"?Promise:void 0,gC=typeof queueMicrotask=="function"?queueMicrotask:typeof yb<"u"?function(i){return yb.resolve(null).then(i).catch(yC)}:gb;function yC(i){setTimeout(function(){throw i})}function $r(i){return i==="head"}function bb(i,l){var o=l,f=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(f===0){i.removeChild(p),Is(l);return}f--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")f++;else if(o==="html")Ql(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Ql(o);for(var g=o.firstChild;g;){var w=g.nextSibling,N=g.nodeName;g[ml]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&Ql(i.ownerDocument.body);o=p}while(o);Is(l)}function xb(i,l){var o=i;i=0;do{var f=o.nextSibling;if(o.nodeType===1?l?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(l?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=f}while(o)}function sh(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var o=l;switch(l=l.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":sh(o),uf(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function bC(i,l,o,f){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[ml])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Sn(i.nextSibling),i===null)break}return null}function xC(i,l,o){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Sn(i.nextSibling),i===null))return null;return i}function vb(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Sn(i.nextSibling),i===null))return null;return i}function lh(i){return i.data==="$?"||i.data==="$~"}function ah(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function vC(i,l){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||o.readyState!=="loading")l();else{var f=function(){l(),o.removeEventListener("DOMContentLoaded",f)};o.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Sn(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var oh=null;function Sb(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(l===0)return Sn(i.nextSibling);l--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||l++}i=i.nextSibling}return null}function wb(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(l===0)return i;l--}else o!=="/$"&&o!=="/&"||l++}i=i.previousSibling}return null}function Eb(i,l,o){switch(l=ec(o),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ql(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);uf(i)}var wn=new Map,Cb=new Set;function tc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var hr=J.d;J.d={f:SC,r:wC,D:EC,C:CC,L:NC,m:TC,X:AC,S:kC,M:MC};function SC(){var i=hr.f(),l=Ko();return i||l}function wC(i){var l=ss(i);l!==null&&l.tag===5&&l.type==="form"?I0(l):hr.r(i)}var Hs=typeof document>"u"?null:document;function Nb(i,l,o){var f=Hs;if(f&&typeof l=="string"&&l){var p=pn(l);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Cb.has(p)||(Cb.add(p),i={rel:i,crossOrigin:o,href:l},f.querySelector(p)===null&&(l=f.createElement("link"),Nt(l,"link",i),mt(l),f.head.appendChild(l)))}}function EC(i){hr.D(i),Nb("dns-prefetch",i,null)}function CC(i,l){hr.C(i,l),Nb("preconnect",i,l)}function NC(i,l,o){hr.L(i,l,o);var f=Hs;if(f&&i&&l){var p='link[rel="preload"][as="'+pn(l)+'"]';l==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+pn(o.imageSizes)+'"]')):p+='[href="'+pn(i)+'"]';var g=p;switch(l){case"style":g=Us(i);break;case"script":g=Vs(i)}wn.has(g)||(i=y({rel:"preload",href:l==="image"&&o&&o.imageSrcSet?void 0:i,as:l},o),wn.set(g,i),f.querySelector(p)!==null||l==="style"&&f.querySelector(Zl(g))||l==="script"&&f.querySelector(Wl(g))||(l=f.createElement("link"),Nt(l,"link",i),mt(l),f.head.appendChild(l)))}}function TC(i,l){hr.m(i,l);var o=Hs;if(o&&i){var f=l&&typeof l.as=="string"?l.as:"script",p='link[rel="modulepreload"][as="'+pn(f)+'"][href="'+pn(i)+'"]',g=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Vs(i)}if(!wn.has(g)&&(i=y({rel:"modulepreload",href:i},l),wn.set(g,i),o.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wl(g)))return}f=o.createElement("link"),Nt(f,"link",i),mt(f),o.head.appendChild(f)}}}function kC(i,l,o){hr.S(i,l,o);var f=Hs;if(f&&i){var p=ls(f).hoistableStyles,g=Us(i);l=l||"default";var w=p.get(g);if(!w){var N={loading:0,preload:null};if(w=f.querySelector(Zl(g)))N.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":l},o),(o=wn.get(g))&&ch(i,o);var O=w=f.createElement("link");mt(O),Nt(O,"link",i),O._p=new Promise(function(z,$){O.onload=z,O.onerror=$}),O.addEventListener("load",function(){N.loading|=1}),O.addEventListener("error",function(){N.loading|=2}),N.loading|=4,nc(w,l,f)}w={type:"stylesheet",instance:w,count:1,state:N},p.set(g,w)}}}function AC(i,l){hr.X(i,l);var o=Hs;if(o&&i){var f=ls(o).hoistableScripts,p=Vs(i),g=f.get(p);g||(g=o.querySelector(Wl(p)),g||(i=y({src:i,async:!0},l),(l=wn.get(p))&&uh(i,l),g=o.createElement("script"),mt(g),Nt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function MC(i,l){hr.M(i,l);var o=Hs;if(o&&i){var f=ls(o).hoistableScripts,p=Vs(i),g=f.get(p);g||(g=o.querySelector(Wl(p)),g||(i=y({src:i,async:!0,type:"module"},l),(l=wn.get(p))&&uh(i,l),g=o.createElement("script"),mt(g),Nt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function Tb(i,l,o,f){var p=(p=he.current)?tc(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(l=Us(o.href),o=ls(p).hoistableStyles,f=o.get(l),f||(f={type:"style",instance:null,count:0,state:null},o.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Us(o.href);var g=ls(p).hoistableStyles,w=g.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=p.querySelector(Zl(i)))&&!g._p&&(w.instance=g,w.state.loading=5),wn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},wn.set(i,o),g||OC(p,i,o,w.state))),l&&f===null)throw Error(r(528,""));return w}if(l&&f!==null)throw Error(r(529,""));return null;case"script":return l=o.async,o=o.src,typeof o=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Vs(o),o=ls(p).hoistableScripts,f=o.get(l),f||(f={type:"script",instance:null,count:0,state:null},o.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Us(i){return'href="'+pn(i)+'"'}function Zl(i){return'link[rel="stylesheet"]['+i+"]"}function kb(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function OC(i,l,o,f){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=i.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),Nt(l,"link",o),mt(l),i.head.appendChild(l))}function Vs(i){return'[src="'+pn(i)+'"]'}function Wl(i){return"script[async]"+i}function Ab(i,l,o){if(l.count++,l.instance===null)switch(l.type){case"style":var f=i.querySelector('style[data-href~="'+pn(o.href)+'"]');if(f)return l.instance=f,mt(f),f;var p=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),mt(f),Nt(f,"style",p),nc(f,o.precedence,i),l.instance=f;case"stylesheet":p=Us(o.href);var g=i.querySelector(Zl(p));if(g)return l.state.loading|=4,l.instance=g,mt(g),g;f=kb(o),(p=wn.get(p))&&ch(f,p),g=(i.ownerDocument||i).createElement("link"),mt(g);var w=g;return w._p=new Promise(function(N,O){w.onload=N,w.onerror=O}),Nt(g,"link",f),l.state.loading|=4,nc(g,o.precedence,i),l.instance=g;case"script":return g=Vs(o.src),(p=i.querySelector(Wl(g)))?(l.instance=p,mt(p),p):(f=o,(p=wn.get(g))&&(f=y({},o),uh(f,p)),i=i.ownerDocument||i,p=i.createElement("script"),mt(p),Nt(p,"link",f),i.head.appendChild(p),l.instance=p);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,nc(f,o.precedence,i));return l.instance}function nc(i,l,o){for(var f=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,g=p,w=0;w<f.length;w++){var N=f[w];if(N.dataset.precedence===l)g=N;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(l=o.nodeType===9?o.head:o,l.insertBefore(i,l.firstChild))}function ch(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function uh(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var rc=null;function Mb(i,l,o){if(rc===null){var f=new Map,p=rc=new Map;p.set(o,f)}else p=rc,f=p.get(o),f||(f=new Map,p.set(o,f));if(f.has(i))return f;for(f.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var g=o[p];if(!(g[ml]||g[St]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(l)||"";w=i+w;var N=f.get(w);N?N.push(g):f.set(w,[g])}}return f}function Ob(i,l,o){i=i.ownerDocument||i,i.head.insertBefore(o,l==="title"?i.querySelector("head > title"):null)}function RC(i,l,o){if(o===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Rb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function jC(i,l,o,f){if(o.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Us(f.href),g=l.querySelector(Zl(p));if(g){l=g._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=ic.bind(i),l.then(i,i)),o.state.loading|=4,o.instance=g,mt(g);return}g=l.ownerDocument||l,f=kb(f),(p=wn.get(p))&&ch(f,p),g=g.createElement("link"),mt(g);var w=g;w._p=new Promise(function(N,O){w.onload=N,w.onerror=O}),Nt(g,"link",f),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,l),(l=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=ic.bind(i),l.addEventListener("load",o),l.addEventListener("error",o))}}var fh=0;function DC(i,l){return i.stylesheets&&i.count===0&&lc(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var f=setTimeout(function(){if(i.stylesheets&&lc(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+l);0<i.imgBytes&&fh===0&&(fh=62500*hC());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&lc(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>fh?50:800)+l);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(p)}}:null}function ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var sc=null;function lc(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,sc=new Map,l.forEach(_C,i),sc=null,ic.call(i))}function _C(i,l){if(!(l.state.loading&4)){var o=sc.get(i);if(o)var f=o.get(null);else{o=new Map,sc.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var w=p[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),f=w)}f&&o.set(null,f)}p=l.instance,w=p.getAttribute("data-precedence"),g=o.get(w)||f,g===f&&o.set(null,p),o.set(w,p),this.count++,f=ic.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),l.state.loading|=4}}var ea={$$typeof:j,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function zC(i,l,o,f,p,g,w,N,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lf(0),this.hiddenUpdates=lf(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function jb(i,l,o,f,p,g,w,N,O,z,$,G){return i=new zC(i,l,o,w,O,z,$,G,N),l=1,g===!0&&(l|=24),g=rn(3,null,null,l),i.current=g,g.stateNode=i,l=Ff(),l.refCount++,i.pooledCache=l,l.refCount++,g.memoizedState={element:f,isDehydrated:o,cache:l},Yf(g),i}function Db(i){return i?(i=ys,i):ys}function _b(i,l,o,f,p,g){p=Db(p),f.context===null?f.context=p:f.pendingContext=p,f=_r(l),f.payload={element:o},g=g===void 0?null:g,g!==null&&(f.callback=g),o=zr(i,f,l),o!==null&&(Gt(o,i,l),jl(o,i,l))}function zb(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<l?o:l}}function dh(i,l){zb(i,l),(i=i.alternate)&&zb(i,l)}function Lb(i){if(i.tag===13||i.tag===31){var l=wi(i,67108864);l!==null&&Gt(l,i,67108864),dh(i,67108864)}}function Bb(i){if(i.tag===13||i.tag===31){var l=cn();l=af(l);var o=wi(i,l);o!==null&&Gt(o,i,l),dh(i,l)}}var ac=!0;function LC(i,l,o,f){var p=L.T;L.T=null;var g=J.p;try{J.p=2,hh(i,l,o,f)}finally{J.p=g,L.T=p}}function BC(i,l,o,f){var p=L.T;L.T=null;var g=J.p;try{J.p=8,hh(i,l,o,f)}finally{J.p=g,L.T=p}}function hh(i,l,o,f){if(ac){var p=ph(f);if(p===null)Wd(i,l,f,oc,o),Ub(i,f);else if(UC(p,i,l,o,f))f.stopPropagation();else if(Ub(i,f),l&4&&-1<HC.indexOf(i)){for(;p!==null;){var g=ss(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=yi(g.pendingLanes);if(w!==0){var N=g;for(N.pendingLanes|=2,N.entangledLanes|=2;w;){var O=1<<31-tn(w);N.entanglements[1]|=O,w&=~O}qn(g),(Le&6)===0&&(Fo=Wt()+500,Yl(0))}}break;case 31:case 13:N=wi(g,2),N!==null&&Gt(N,g,2),Ko(),dh(g,2)}if(g=ph(f),g===null&&Wd(i,l,f,oc,o),g===p)break;p=g}p!==null&&f.stopPropagation()}else Wd(i,l,f,null,o)}}function ph(i){return i=gf(i),mh(i)}var oc=null;function mh(i){if(oc=null,i=is(i),i!==null){var l=a(i);if(l===null)i=null;else{var o=l.tag;if(o===13){if(i=c(l),i!==null)return i;i=null}else if(o===31){if(i=u(l),i!==null)return i;i=null}else if(o===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return oc=i,null}function Hb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ew()){case Km:return 2;case Gm:return 8;case Xa:case Cw:return 32;case Ym:return 268435456;default:return 32}default:return 32}}var gh=!1,Kr=null,Gr=null,Yr=null,ta=new Map,na=new Map,Jr=[],HC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ub(i,l){switch(i){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":ta.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(l.pointerId)}}function ra(i,l,o,f,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:l,domEventName:o,eventSystemFlags:f,nativeEvent:g,targetContainers:[p]},l!==null&&(l=ss(l),l!==null&&Lb(l)),i):(i.eventSystemFlags|=f,l=i.targetContainers,p!==null&&l.indexOf(p)===-1&&l.push(p),i)}function UC(i,l,o,f,p){switch(l){case"focusin":return Kr=ra(Kr,i,l,o,f,p),!0;case"dragenter":return Gr=ra(Gr,i,l,o,f,p),!0;case"mouseover":return Yr=ra(Yr,i,l,o,f,p),!0;case"pointerover":var g=p.pointerId;return ta.set(g,ra(ta.get(g)||null,i,l,o,f,p)),!0;case"gotpointercapture":return g=p.pointerId,na.set(g,ra(na.get(g)||null,i,l,o,f,p)),!0}return!1}function Vb(i){var l=is(i.target);if(l!==null){var o=a(l);if(o!==null){if(l=o.tag,l===13){if(l=c(o),l!==null){i.blockedOn=l,eg(i.priority,function(){Bb(o)});return}}else if(l===31){if(l=u(o),l!==null){i.blockedOn=l,eg(i.priority,function(){Bb(o)});return}}else if(l===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function cc(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var o=ph(i.nativeEvent);if(o===null){o=i.nativeEvent;var f=new o.constructor(o.type,o);mf=f,o.target.dispatchEvent(f),mf=null}else return l=ss(o),l!==null&&Lb(l),i.blockedOn=o,!1;l.shift()}return!0}function Ib(i,l,o){cc(i)&&o.delete(l)}function VC(){gh=!1,Kr!==null&&cc(Kr)&&(Kr=null),Gr!==null&&cc(Gr)&&(Gr=null),Yr!==null&&cc(Yr)&&(Yr=null),ta.forEach(Ib),na.forEach(Ib)}function uc(i,l){i.blockedOn===l&&(i.blockedOn=null,gh||(gh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,VC)))}var fc=null;function qb(i){fc!==i&&(fc=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){fc===i&&(fc=null);for(var l=0;l<i.length;l+=3){var o=i[l],f=i[l+1],p=i[l+2];if(typeof f!="function"){if(mh(f||o)===null)continue;break}var g=ss(o);g!==null&&(i.splice(l,3),l-=3,pd(g,{pending:!0,data:p,method:o.method,action:f},f,p))}}))}function Is(i){function l(O){return uc(O,i)}Kr!==null&&uc(Kr,i),Gr!==null&&uc(Gr,i),Yr!==null&&uc(Yr,i),ta.forEach(l),na.forEach(l);for(var o=0;o<Jr.length;o++){var f=Jr[o];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Jr.length&&(o=Jr[0],o.blockedOn===null);)Vb(o),o.blockedOn===null&&Jr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(f=0;f<o.length;f+=3){var p=o[f],g=o[f+1],w=p[It]||null;if(typeof g=="function")w||qb(o);else if(w){var N=null;if(g&&g.hasAttribute("formAction")){if(p=g,w=g[It]||null)N=w.formAction;else if(mh(p)!==null)continue}else N=w.action;typeof N=="function"?o[f+1]=N:(o.splice(f,3),f-=3),qb(o)}}}function Pb(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function l(){p!==null&&(p(),p=null),f||setTimeout(o,20)}function o(){if(!f&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(o,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),p!==null&&(p(),p=null)}}}function yh(i){this._internalRoot=i}dc.prototype.render=yh.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var o=l.current,f=cn();_b(o,f,i,l,null,null)},dc.prototype.unmount=yh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;_b(i.current,2,null,i,null,null),Ko(),l[rs]=null}};function dc(i){this._internalRoot=i}dc.prototype.unstable_scheduleHydration=function(i){if(i){var l=Wm();i={blockedOn:null,target:i,priority:l};for(var o=0;o<Jr.length&&l!==0&&l<Jr[o].priority;o++);Jr.splice(o,0,i),o===0&&Vb(i)}};var Fb=e.version;if(Fb!=="19.2.0")throw Error(r(527,Fb,"19.2.0"));J.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(l),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var IC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{dl=hc.inject(IC),en=hc}catch{}}return sa.createRoot=function(i,l){if(!s(i))throw Error(r(299));var o=!1,f="",p=Q0,g=Z0,w=W0;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(g=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),l=jb(i,1,!1,null,null,o,f,null,p,g,w,Pb),i[rs]=l.current,Zd(i),new yh(l)},sa.hydrateRoot=function(i,l,o){if(!s(i))throw Error(r(299));var f=!1,p="",g=Q0,w=Z0,N=W0,O=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),l=jb(i,1,!0,l,o??null,f,p,O,g,w,N,Pb),l.context=Db(null),o=l.current,f=cn(),f=af(f),p=_r(f),p.callback=null,zr(o,p,f),o=f,l.current.lanes=o,pl(l,o),qn(l),i[rs]=l.current,Zd(i),new dc(l)},sa.version="19.2.0",sa}var e1;function XC(){if(e1)return vh.exports;e1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vh.exports=JC(),vh.exports}var QC=XC();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t1="popstate";function ZC(t={}){function e(r,s){let{pathname:a,search:c,hash:u}=r.location;return ap("",{pathname:a,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ca(s)}return eN(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WC(){return Math.random().toString(36).substring(2,10)}function n1(t,e){return{usr:t.state,key:t.key,idx:e}}function ap(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?il(e):e,state:n,key:e&&e.key||r||WC()}}function Ca({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function eN(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,c=s.history,u="POP",d=null,h=m();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function m(){return(c.state||{idx:null}).idx}function y(){u="POP";let C=m(),k=C==null?null:C-h;h=C,d&&d({action:u,location:E.location,delta:k})}function b(C,k){u="PUSH";let T=ap(E.location,C,k);h=m()+1;let j=n1(T,h),P=E.createHref(T);try{c.pushState(j,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(P)}a&&d&&d({action:u,location:E.location,delta:1})}function v(C,k){u="REPLACE";let T=ap(E.location,C,k);h=m();let j=n1(T,h),P=E.createHref(T);c.replaceState(j,"",P),a&&d&&d({action:u,location:E.location,delta:0})}function S(C){return tN(C)}let E={get action(){return u},get location(){return t(s,c)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(t1,y),d=C,()=>{s.removeEventListener(t1,y),d=null}},createHref(C){return e(s,C)},createURL:S,encodeLocation(C){let k=S(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:v,go(C){return c.go(C)}};return E}function tN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ca(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Zx(t,e,n="/"){return nN(t,e,n,!1)}function nN(t,e,n,r){let s=typeof e=="string"?il(e):e,a=Er(s.pathname||"/",n);if(a==null)return null;let c=Wx(t);rN(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let h=pN(a);u=dN(c[d],h,r)}return u}function Wx(t,e=[],n=[],r="",s=!1){let a=(c,u,d=s,h)=>{let m={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Xe(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let y=vr([r,m.relativePath]),b=n.concat(m);c.children&&c.children.length>0&&(Xe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Wx(c.children,e,b,y,d)),!(c.path==null&&!c.index)&&e.push({path:y,score:uN(y,c.index),routesMeta:b})};return t.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))a(c,u);else for(let d of ev(c.path))a(c,u,!0,d)}),e}function ev(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let c=ev(r.join("/")),u=[];return u.push(...c.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...c),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function rN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iN=/^:[\w-]+$/,sN=3,lN=2,aN=1,oN=10,cN=-2,r1=t=>t==="*";function uN(t,e){let n=t.split("/"),r=n.length;return n.some(r1)&&(r+=cN),e&&(r+=lN),n.filter(s=>!r1(s)).reduce((s,a)=>s+(iN.test(a)?sN:a===""?aN:oN),r)}function fN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function dN(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",c=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=Hc({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),b=d.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=Hc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),c.push({params:s,pathname:vr([a,y.pathname]),pathnameBase:bN(vr([a,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(a=vr([a,y.pathnameBase]))}return c}function Hc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hN(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:y},b)=>{if(m==="*"){let S=u[b]||"";c=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const v=u[b];return y&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:t}}function hN(t,e=!1,n=!0){zn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function pN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Er(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mN(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?il(t):t;return{pathname:n?n.startsWith("/")?n:gN(n,e):e,search:xN(r),hash:vN(s)}}function gN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ch(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Kp(t){let e=yN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Gp(t,e,n,r=!1){let s;typeof t=="string"?s=il(t):(s={...t},Xe(!s.pathname||!s.pathname.includes("?"),Ch("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),Ch("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),Ch("#","search","hash",s)));let a=t===""||s.pathname==="",c=a?"/":s.pathname,u;if(c==null)u=n;else{let y=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}u=y>=0?e[y]:"/"}let d=mN(s,u),h=c&&c!=="/"&&c.endsWith("/"),m=(a||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var vr=t=>t.join("/").replace(/\/\/+/g,"/"),bN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var tv=["POST","PUT","PATCH","DELETE"];new Set(tv);var wN=["GET",...tv];new Set(wN);var sl=A.createContext(null);sl.displayName="DataRouter";var Ru=A.createContext(null);Ru.displayName="DataRouterState";A.createContext(!1);var nv=A.createContext({isTransitioning:!1});nv.displayName="ViewTransition";var EN=A.createContext(new Map);EN.displayName="Fetchers";var CN=A.createContext(null);CN.displayName="Await";var Ln=A.createContext(null);Ln.displayName="Navigation";var Ba=A.createContext(null);Ba.displayName="Location";var Bn=A.createContext({outlet:null,matches:[],isDataRoute:!1});Bn.displayName="Route";var Yp=A.createContext(null);Yp.displayName="RouteError";function NN(t,{relative:e}={}){Xe(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Ln),{hash:s,pathname:a,search:c}=Ua(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:vr([n,a])),r.createHref({pathname:u,search:c,hash:s})}function ll(){return A.useContext(Ba)!=null}function Cr(){return Xe(ll(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Ba).location}var rv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iv(t){A.useContext(Ln).static||A.useLayoutEffect(t)}function Ha(){let{isDataRoute:t}=A.useContext(Bn);return t?UN():TN()}function TN(){Xe(ll(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(sl),{basename:e,navigator:n}=A.useContext(Ln),{matches:r}=A.useContext(Bn),{pathname:s}=Cr(),a=JSON.stringify(Kp(r)),c=A.useRef(!1);return iv(()=>{c.current=!0}),A.useCallback((d,h={})=>{if(zn(c.current,rv),!c.current)return;if(typeof d=="number"){n.go(d);return}let m=Gp(d,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:vr([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,s,t])}A.createContext(null);function kN(){let{matches:t}=A.useContext(Bn),e=t[t.length-1];return e?e.params:{}}function Ua(t,{relative:e}={}){let{matches:n}=A.useContext(Bn),{pathname:r}=Cr(),s=JSON.stringify(Kp(n));return A.useMemo(()=>Gp(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function AN(t,e){return sv(t,e)}function sv(t,e,n,r,s){Xe(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=A.useContext(Ln),{matches:c}=A.useContext(Bn),u=c[c.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let T=y&&y.path||"";lv(h,!y||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let b=Cr(),v;if(e){let T=typeof e=="string"?il(e):e;Xe(m==="/"||T.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=b;let S=v.pathname||"/",E=S;if(m!=="/"){let T=m.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=Zx(t,{pathname:E});zn(y||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),zn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=DN(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},d,T.params),pathname:vr([m,a.encodeLocation?a.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:vr([m,a.encodeLocation?a.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),c,n,r,s);return e&&k?A.createElement(Ba.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},k):k}function MN(){let t=HN(),e=SN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:s},n):null,c)}var ON=A.createElement(MN,null),RN=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(Bn.Provider,{value:this.props.routeContext},A.createElement(Yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jN({routeContext:t,match:e,children:n}){let r=A.useContext(sl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Bn.Provider,{value:t},n)}function DN(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=n?.errors;if(c!=null){let h=a.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);Xe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:y,errors:b}=n,v=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||v){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,m,y)=>{let b,v=!1,S=null,E=null;n&&(b=c&&m.route.id?c[m.route.id]:void 0,S=m.route.errorElement||ON,u&&(d<0&&y===0?(lv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):d===y&&(v=!0,E=m.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,y+1)),k=()=>{let T;return b?T=S:v?T=E:m.route.Component?T=A.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=h,A.createElement(jN,{match:m,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:T})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?A.createElement(RN,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):k()},null)}function Jp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _N(t){let e=A.useContext(sl);return Xe(e,Jp(t)),e}function zN(t){let e=A.useContext(Ru);return Xe(e,Jp(t)),e}function LN(t){let e=A.useContext(Bn);return Xe(e,Jp(t)),e}function Xp(t){let e=LN(t),n=e.matches[e.matches.length-1];return Xe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function BN(){return Xp("useRouteId")}function HN(){let t=A.useContext(Yp),e=zN("useRouteError"),n=Xp("useRouteError");return t!==void 0?t:e.errors?.[n]}function UN(){let{router:t}=_N("useNavigate"),e=Xp("useNavigate"),n=A.useRef(!1);return iv(()=>{n.current=!0}),A.useCallback(async(s,a={})=>{zn(n.current,rv),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var i1={};function lv(t,e,n){!e&&!i1[t]&&(i1[t]=!0,zn(!1,n))}A.memo(VN);function VN({routes:t,future:e,state:n,unstable_onError:r}){return sv(t,void 0,n,r,e)}function op({to:t,replace:e,state:n,relative:r}){Xe(ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=A.useContext(Ln);zn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=A.useContext(Bn),{pathname:c}=Cr(),u=Ha(),d=Gp(t,Kp(a),c,r==="path"),h=JSON.stringify(d);return A.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function un(t){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){Xe(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:c,navigator:s,static:a,future:{}}),[c,s,a]);typeof n=="string"&&(n=il(n));let{pathname:d="/",search:h="",hash:m="",state:y=null,key:b="default"}=n,v=A.useMemo(()=>{let S=Er(d,c);return S==null?null:{location:{pathname:S,search:h,hash:m,state:y,key:b},navigationType:r}},[c,d,h,m,y,b,r]);return zn(v!=null,`<Router basename="${c}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:A.createElement(Ln.Provider,{value:u},A.createElement(Ba.Provider,{children:e,value:v}))}function av({children:t,location:e}){return AN(cp(t),e)}function cp(t,e=[]){let n=[];return A.Children.forEach(t,(r,s)=>{if(!A.isValidElement(r))return;let a=[...e,s];if(r.type===A.Fragment){n.push.apply(n,cp(r.props.children,a));return}Xe(r.type===un,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=cp(r.props.children,a)),n.push(c)}),n}var kc="get",Ac="application/x-www-form-urlencoded";function ju(t){return t!=null&&typeof t.tagName=="string"}function qN(t){return ju(t)&&t.tagName.toLowerCase()==="button"}function PN(t){return ju(t)&&t.tagName.toLowerCase()==="form"}function FN(t){return ju(t)&&t.tagName.toLowerCase()==="input"}function $N(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KN(t,e){return t.button===0&&(!e||e==="_self")&&!$N(t)}var pc=null;function GN(){if(pc===null)try{new FormData(document.createElement("form"),0),pc=!1}catch{pc=!0}return pc}var YN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nh(t){return t!=null&&!YN.has(t)?(zn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ac}"`),null):t}function JN(t,e){let n,r,s,a,c;if(PN(t)){let u=t.getAttribute("action");r=u?Er(u,e):null,n=t.getAttribute("method")||kc,s=Nh(t.getAttribute("enctype"))||Ac,a=new FormData(t)}else if(qN(t)||FN(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?Er(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||kc,s=Nh(t.getAttribute("formenctype"))||Nh(u.getAttribute("enctype"))||Ac,a=new FormData(u,t),!GN()){let{name:h,type:m,value:y}=t;if(m==="image"){let b=h?`${h}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else h&&a.append(h,y)}}else{if(ju(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kc,r=null,s=Ac,c=t}return a&&s==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Er(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function QN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WN(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let c=await QN(a,n);return c.links?c.links():[]}return[]}));return rT(r.flat(1).filter(ZN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function s1(t,e,n,r,s,a){let c=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>c(d,h)||u(d,h)):a==="data"?e.filter((d,h)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function eT(t,e,{includeHydrateFallback:n}={}){return tT(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function tT(t){return[...new Set(t)]}function nT(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function rT(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(nT(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function ov(){let t=A.useContext(sl);return Qp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function iT(){let t=A.useContext(Ru);return Qp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Zp=A.createContext(void 0);Zp.displayName="FrameworkContext";function cv(){let t=A.useContext(Zp);return Qp(t,"You must render this element inside a <HydratedRouter> element"),t}function sT(t,e){let n=A.useContext(Zp),[r,s]=A.useState(!1),[a,c]=A.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,b=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let E=k=>{k.forEach(T=>{c(T.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[t]),A.useEffect(()=>{if(r){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[r]);let v=()=>{s(!0)},S=()=>{s(!1),c(!1)};return n?t!=="intent"?[a,b,{}]:[a,b,{onFocus:la(u,v),onBlur:la(d,S),onMouseEnter:la(h,v),onMouseLeave:la(m,S),onTouchStart:la(y,v)}]:[!1,b,{}]}function la(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function lT({page:t,...e}){let{router:n}=ov(),r=A.useMemo(()=>Zx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(oT,{page:t,matches:r,...e}):null}function aT(t){let{manifest:e,routeModules:n}=cv(),[r,s]=A.useState([]);return A.useEffect(()=>{let a=!1;return WN(t,e,n).then(c=>{a||s(c)}),()=>{a=!0}},[t,e,n]),r}function oT({page:t,matches:e,...n}){let r=Cr(),{manifest:s,routeModules:a}=cv(),{basename:c}=ov(),{loaderData:u,matches:d}=iT(),h=A.useMemo(()=>s1(t,e,d,s,r,"data"),[t,e,d,s,r]),m=A.useMemo(()=>s1(t,e,d,s,r,"assets"),[t,e,d,s,r]),y=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,E=!1;if(e.forEach(k=>{let T=s.routes[k.route.id];!T||!T.hasLoader||(!h.some(j=>j.route.id===k.route.id)&&k.route.id in u&&a[k.route.id]?.shouldRevalidate||T.hasClientLoader?E=!0:S.add(k.route.id))}),S.size===0)return[];let C=XN(t,c,"data");return E&&S.size>0&&C.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[c,u,r,s,h,e,t,a]),b=A.useMemo(()=>eT(m,s),[m,s]),v=aT(m);return A.createElement(A.Fragment,null,y.map(S=>A.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>A.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),v.map(({key:S,link:E})=>A.createElement("link",{key:S,nonce:n.nonce,...E})))}function cT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uv&&(window.__reactRouterVersion="7.9.4")}catch{}function uT({basename:t,children:e,window:n}){let r=A.useRef();r.current==null&&(r.current=ZC({window:n,v5Compat:!0}));let s=r.current,[a,c]=A.useState({action:s.action,location:s.location}),u=A.useCallback(d=>{A.startTransition(()=>c(d))},[c]);return A.useLayoutEffect(()=>s.listen(u),[s,u]),A.createElement(IN,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wp=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:c,state:u,target:d,to:h,preventScrollReset:m,viewTransition:y,...b},v){let{basename:S}=A.useContext(Ln),E=typeof h=="string"&&fv.test(h),C,k=!1;if(typeof h=="string"&&E&&(C=h,uv))try{let ae=new URL(window.location.href),Q=h.startsWith("//")?new URL(ae.protocol+h):new URL(h),re=Er(Q.pathname,S);Q.origin===ae.origin&&re!=null?h=re+Q.search+Q.hash:k=!0}catch{zn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=NN(h,{relative:s}),[j,P,F]=sT(r,b),Y=pT(h,{replace:c,state:u,target:d,preventScrollReset:m,relative:s,viewTransition:y});function I(ae){e&&e(ae),ae.defaultPrevented||Y(ae)}let ne=A.createElement("a",{...b,...F,href:C||T,onClick:k||a?e:I,ref:cT(v,P),target:d,"data-discover":!E&&n==="render"?"true":void 0});return j&&!E?A.createElement(A.Fragment,null,ne,A.createElement(lT,{page:T})):ne});Wp.displayName="Link";var fT=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:c,viewTransition:u,children:d,...h},m){let y=Ua(c,{relative:h.relative}),b=Cr(),v=A.useContext(Ru),{navigator:S,basename:E}=A.useContext(Ln),C=v!=null&&xT(y)&&u===!0,k=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,T=b.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(T=T.toLowerCase(),j=j?j.toLowerCase():null,k=k.toLowerCase()),j&&E&&(j=Er(j,E)||j);const P=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let F=T===k||!s&&T.startsWith(k)&&T.charAt(P)==="/",Y=j!=null&&(j===k||!s&&j.startsWith(k)&&j.charAt(k.length)==="/"),I={isActive:F,isPending:Y,isTransitioning:C},ne=F?e:void 0,ae;typeof r=="function"?ae=r(I):ae=[r,F?"active":null,Y?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Q=typeof a=="function"?a(I):a;return A.createElement(Wp,{...h,"aria-current":ne,className:ae,ref:m,style:Q,to:c,viewTransition:u},typeof d=="function"?d(I):d)});fT.displayName="NavLink";var dT=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:c=kc,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:y,...b},v)=>{let S=yT(),E=bT(u,{relative:h}),C=c.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&fv.test(u),T=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let P=j.nativeEvent.submitter,F=P?.getAttribute("formmethod")||c;S(P||j.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:s,state:a,relative:h,preventScrollReset:m,viewTransition:y})};return A.createElement("form",{ref:v,method:C,action:E,onSubmit:r?d:T,...b,"data-discover":!k&&t==="render"?"true":void 0})});dT.displayName="Form";function hT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dv(t){let e=A.useContext(sl);return Xe(e,hT(t)),e}function pT(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:c}={}){let u=Ha(),d=Cr(),h=Ua(t,{relative:a});return A.useCallback(m=>{if(KN(m,e)){m.preventDefault();let y=n!==void 0?n:Ca(d)===Ca(h);u(t,{replace:y,state:r,preventScrollReset:s,relative:a,viewTransition:c})}},[d,u,h,n,r,e,t,s,a,c])}var mT=0,gT=()=>`__${String(++mT)}__`;function yT(){let{router:t}=dv("useSubmit"),{basename:e}=A.useContext(Ln),n=BN();return A.useCallback(async(r,s={})=>{let{action:a,method:c,encType:u,formData:d,body:h}=JN(r,e);if(s.navigate===!1){let m=s.fetcherKey||gT();await t.fetch(m,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function bT(t,{relative:e}={}){let{basename:n}=A.useContext(Ln),r=A.useContext(Bn);Xe(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Ua(t||".",{relative:e})},c=Cr();if(t==null){a.search=c.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:vr([n,a.pathname])),Ca(a)}function xT(t,{relative:e}={}){let n=A.useContext(nv);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dv("useViewTransitionState"),s=Ua(t,{relative:e});if(!n.isTransitioning)return!1;let a=Er(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Er(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Hc(s.pathname,c)!=null||Hc(s.pathname,a)!=null}var vT=Qx();const ST=$p(vT);function hv(t,e){return function(){return t.apply(e,arguments)}}const{toString:wT}=Object.prototype,{getPrototypeOf:em}=Object,{iterator:Du,toStringTag:pv}=Symbol,_u=(t=>e=>{const n=wT.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Hn=t=>(t=t.toLowerCase(),e=>_u(e)===t),zu=t=>e=>typeof e===t,{isArray:al}=Array,Qs=zu("undefined");function Va(t){return t!==null&&!Qs(t)&&t.constructor!==null&&!Qs(t.constructor)&&Jt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const mv=Hn("ArrayBuffer");function ET(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&mv(t.buffer),e}const CT=zu("string"),Jt=zu("function"),gv=zu("number"),Ia=t=>t!==null&&typeof t=="object",NT=t=>t===!0||t===!1,Mc=t=>{if(_u(t)!=="object")return!1;const e=em(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(pv in t)&&!(Du in t)},TT=t=>{if(!Ia(t)||Va(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},kT=Hn("Date"),AT=Hn("File"),MT=Hn("Blob"),OT=Hn("FileList"),RT=t=>Ia(t)&&Jt(t.pipe),jT=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Jt(t.append)&&((e=_u(t))==="formdata"||e==="object"&&Jt(t.toString)&&t.toString()==="[object FormData]"))},DT=Hn("URLSearchParams"),[_T,zT,LT,BT]=["ReadableStream","Request","Response","Headers"].map(Hn),HT=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qa(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),al(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(Va(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),c=a.length;let u;for(r=0;r<c;r++)u=a[r],e.call(null,t[u],u,t)}}function yv(t,e){if(Va(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Bi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bv=t=>!Qs(t)&&t!==Bi;function up(){const{caseless:t,skipUndefined:e}=bv(this)&&this||{},n={},r=(s,a)=>{const c=t&&yv(n,a)||a;Mc(n[c])&&Mc(s)?n[c]=up(n[c],s):Mc(s)?n[c]=up({},s):al(s)?n[c]=s.slice():(!e||!Qs(s))&&(n[c]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&qa(arguments[s],r);return n}const UT=(t,e,n,{allOwnKeys:r}={})=>(qa(e,(s,a)=>{n&&Jt(s)?t[a]=hv(s,n):t[a]=s},{allOwnKeys:r}),t),VT=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),IT=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},qT=(t,e,n,r)=>{let s,a,c;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)c=s[a],(!r||r(c,t,e))&&!u[c]&&(e[c]=t[c],u[c]=!0);t=n!==!1&&em(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},PT=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},FT=t=>{if(!t)return null;if(al(t))return t;let e=t.length;if(!gv(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},$T=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&em(Uint8Array)),KT=(t,e)=>{const r=(t&&t[Du]).call(t);let s;for(;(s=r.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},GT=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},YT=Hn("HTMLFormElement"),JT=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),l1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),XT=Hn("RegExp"),xv=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};qa(n,(s,a)=>{let c;(c=e(s,a,t))!==!1&&(r[a]=c||s)}),Object.defineProperties(t,r)},QT=t=>{xv(t,(e,n)=>{if(Jt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Jt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ZT=(t,e)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return al(t)?r(t):r(String(t).split(e)),n},WT=()=>{},ek=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function tk(t){return!!(t&&Jt(t.append)&&t[pv]==="FormData"&&t[Du])}const nk=t=>{const e=new Array(10),n=(r,s)=>{if(Ia(r)){if(e.indexOf(r)>=0)return;if(Va(r))return r;if(!("toJSON"in r)){e[s]=r;const a=al(r)?[]:{};return qa(r,(c,u)=>{const d=n(c,s+1);!Qs(d)&&(a[u]=d)}),e[s]=void 0,a}}return r};return n(t,0)},rk=Hn("AsyncFunction"),ik=t=>t&&(Ia(t)||Jt(t))&&Jt(t.then)&&Jt(t.catch),vv=((t,e)=>t?setImmediate:e?((n,r)=>(Bi.addEventListener("message",({source:s,data:a})=>{s===Bi&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Bi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Jt(Bi.postMessage)),sk=typeof queueMicrotask<"u"?queueMicrotask.bind(Bi):typeof process<"u"&&process.nextTick||vv,lk=t=>t!=null&&Jt(t[Du]),H={isArray:al,isArrayBuffer:mv,isBuffer:Va,isFormData:jT,isArrayBufferView:ET,isString:CT,isNumber:gv,isBoolean:NT,isObject:Ia,isPlainObject:Mc,isEmptyObject:TT,isReadableStream:_T,isRequest:zT,isResponse:LT,isHeaders:BT,isUndefined:Qs,isDate:kT,isFile:AT,isBlob:MT,isRegExp:XT,isFunction:Jt,isStream:RT,isURLSearchParams:DT,isTypedArray:$T,isFileList:OT,forEach:qa,merge:up,extend:UT,trim:HT,stripBOM:VT,inherits:IT,toFlatObject:qT,kindOf:_u,kindOfTest:Hn,endsWith:PT,toArray:FT,forEachEntry:KT,matchAll:GT,isHTMLForm:YT,hasOwnProperty:l1,hasOwnProp:l1,reduceDescriptors:xv,freezeMethods:QT,toObjectSet:ZT,toCamelCase:JT,noop:WT,toFiniteNumber:ek,findKey:yv,global:Bi,isContextDefined:bv,isSpecCompliantForm:tk,toJSONObject:nk,isAsyncFn:rk,isThenable:ik,setImmediate:vv,asap:sk,isIterable:lk};function Se(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}H.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const Sv=Se.prototype,wv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{wv[t]={value:t}});Object.defineProperties(Se,wv);Object.defineProperty(Sv,"isAxiosError",{value:!0});Se.from=(t,e,n,r,s,a)=>{const c=Object.create(Sv);H.toFlatObject(t,c,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const u=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return Se.call(c,u,d,n,r,s),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",a&&Object.assign(c,a),c};const ak=null;function fp(t){return H.isPlainObject(t)||H.isArray(t)}function Ev(t){return H.endsWith(t,"[]")?t.slice(0,-2):t}function a1(t,e,n){return t?t.concat(e).map(function(s,a){return s=Ev(s),!n&&a?"["+s+"]":s}).join(n?".":""):e}function ok(t){return H.isArray(t)&&!t.some(fp)}const ck=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function Lu(t,e,n){if(!H.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,C){return!H.isUndefined(C[E])});const r=n.metaTokens,s=n.visitor||m,a=n.dots,c=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(s))throw new TypeError("visitor must be a function");function h(S){if(S===null)return"";if(H.isDate(S))return S.toISOString();if(H.isBoolean(S))return S.toString();if(!d&&H.isBlob(S))throw new Se("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(S)||H.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function m(S,E,C){let k=S;if(S&&!C&&typeof S=="object"){if(H.endsWith(E,"{}"))E=r?E:E.slice(0,-2),S=JSON.stringify(S);else if(H.isArray(S)&&ok(S)||(H.isFileList(S)||H.endsWith(E,"[]"))&&(k=H.toArray(S)))return E=Ev(E),k.forEach(function(j,P){!(H.isUndefined(j)||j===null)&&e.append(c===!0?a1([E],P,a):c===null?E:E+"[]",h(j))}),!1}return fp(S)?!0:(e.append(a1(C,E,a),h(S)),!1)}const y=[],b=Object.assign(ck,{defaultVisitor:m,convertValue:h,isVisitable:fp});function v(S,E){if(!H.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+E.join("."));y.push(S),H.forEach(S,function(k,T){(!(H.isUndefined(k)||k===null)&&s.call(e,k,H.isString(T)?T.trim():T,E,b))===!0&&v(k,E?E.concat(T):[T])}),y.pop()}}if(!H.isObject(t))throw new TypeError("data must be an object");return v(t),e}function o1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function tm(t,e){this._pairs=[],t&&Lu(t,this,e)}const Cv=tm.prototype;Cv.append=function(e,n){this._pairs.push([e,n])};Cv.toString=function(e){const n=e?function(r){return e.call(this,r,o1)}:o1;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function uk(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Nv(t,e,n){if(!e)return t;const r=n&&n.encode||uk;H.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(e,n):a=H.isURLSearchParams(e)?e.toString():new tm(e,n).toString(r),a){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class c1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Tv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fk=typeof URLSearchParams<"u"?URLSearchParams:tm,dk=typeof FormData<"u"?FormData:null,hk=typeof Blob<"u"?Blob:null,pk={isBrowser:!0,classes:{URLSearchParams:fk,FormData:dk,Blob:hk},protocols:["http","https","file","blob","url","data"]},nm=typeof window<"u"&&typeof document<"u",dp=typeof navigator=="object"&&navigator||void 0,mk=nm&&(!dp||["ReactNative","NativeScript","NS"].indexOf(dp.product)<0),gk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yk=nm&&window.location.href||"http://localhost",bk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nm,hasStandardBrowserEnv:mk,hasStandardBrowserWebWorkerEnv:gk,navigator:dp,origin:yk},Symbol.toStringTag,{value:"Module"})),Rt={...bk,...pk};function xk(t,e){return Lu(t,new Rt.classes.URLSearchParams,{visitor:function(n,r,s,a){return Rt.isNode&&H.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function vk(t){return H.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Sk(t){const e={},n=Object.keys(t);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],e[a]=t[a];return e}function kv(t){function e(n,r,s,a){let c=n[a++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),d=a>=n.length;return c=!c&&H.isArray(s)?s.length:c,d?(H.hasOwnProp(s,c)?s[c]=[s[c],r]:s[c]=r,!u):((!s[c]||!H.isObject(s[c]))&&(s[c]=[]),e(n,r,s[c],a)&&H.isArray(s[c])&&(s[c]=Sk(s[c])),!u)}if(H.isFormData(t)&&H.isFunction(t.entries)){const n={};return H.forEachEntry(t,(r,s)=>{e(vk(r),s,n,0)}),n}return null}function wk(t,e,n){if(H.isString(t))try{return(e||JSON.parse)(t),H.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Pa={transitional:Tv,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=H.isObject(e);if(a&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return s?JSON.stringify(kv(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xk(e,this.formSerializer).toString();if((u=H.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Lu(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),wk(e)):e}],transformResponse:[function(e){const n=this.transitional||Pa.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(r&&!this.responseType||s)){const c=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?Se.from(u,Se.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rt.classes.FormData,Blob:Rt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],t=>{Pa.headers[t]={}});const Ek=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ck=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(c){s=c.indexOf(":"),n=c.substring(0,s).trim().toLowerCase(),r=c.substring(s+1).trim(),!(!n||e[n]&&Ek[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},u1=Symbol("internals");function aa(t){return t&&String(t).trim().toLowerCase()}function Oc(t){return t===!1||t==null?t:H.isArray(t)?t.map(Oc):String(t)}function Nk(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Tk=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Th(t,e,n,r,s){if(H.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!H.isString(e)){if(H.isString(r))return e.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(e)}}function kk(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Ak(t,e){const n=H.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,a,c){return this[r].call(this,e,s,a,c)},configurable:!0})})}let Xt=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function a(u,d,h){const m=aa(d);if(!m)throw new Error("header name must be a non-empty string");const y=H.findKey(s,m);(!y||s[y]===void 0||h===!0||h===void 0&&s[y]!==!1)&&(s[y||d]=Oc(u))}const c=(u,d)=>H.forEach(u,(h,m)=>a(h,m,d));if(H.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(H.isString(e)&&(e=e.trim())&&!Tk(e))c(Ck(e),n);else if(H.isObject(e)&&H.isIterable(e)){let u={},d,h;for(const m of e){if(!H.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[h=m[0]]=(d=u[h])?H.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}c(u,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=aa(e),e){const r=H.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return Nk(s);if(H.isFunction(n))return n.call(this,s,r);if(H.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=aa(e),e){const r=H.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Th(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function a(c){if(c=aa(c),c){const u=H.findKey(r,c);u&&(!n||Th(r,r[u],u,n))&&(delete r[u],s=!0)}}return H.isArray(e)?e.forEach(a):a(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!e||Th(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const n=this,r={};return H.forEach(this,(s,a)=>{const c=H.findKey(r,a);if(c){n[c]=Oc(s),delete n[a];return}const u=e?kk(a):String(a).trim();u!==a&&delete n[a],n[u]=Oc(s),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return H.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&H.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[u1]=this[u1]={accessors:{}}).accessors,s=this.prototype;function a(c){const u=aa(c);r[u]||(Ak(s,c),r[u]=!0)}return H.isArray(e)?e.forEach(a):a(e),this}};Xt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Xt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});H.freezeMethods(Xt);function kh(t,e){const n=this||Pa,r=e||n,s=Xt.from(r.headers);let a=r.data;return H.forEach(t,function(u){a=u.call(n,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function Av(t){return!!(t&&t.__CANCEL__)}function ol(t,e,n){Se.call(this,t??"canceled",Se.ERR_CANCELED,e,n),this.name="CanceledError"}H.inherits(ol,Se,{__CANCEL__:!0});function Mv(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Se("Request failed with status code "+n.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Mk(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ok(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,a=0,c;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[a];c||(c=h),n[s]=d,r[s]=h;let y=a,b=0;for(;y!==s;)b+=n[y++],y=y%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),h-c<e)return;const v=m&&h-m;return v?Math.round(b*1e3/v):void 0}}function Rk(t,e){let n=0,r=1e3/e,s,a;const c=(h,m=Date.now())=>{n=m,s=null,a&&(clearTimeout(a),a=null),t(...h)};return[(...h)=>{const m=Date.now(),y=m-n;y>=r?c(h,m):(s=h,a||(a=setTimeout(()=>{a=null,c(s)},r-y)))},()=>s&&c(s)]}const Uc=(t,e,n=3)=>{let r=0;const s=Ok(50,250);return Rk(a=>{const c=a.loaded,u=a.lengthComputable?a.total:void 0,d=c-r,h=s(d),m=c<=u;r=c;const y={loaded:c,total:u,progress:u?c/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&m?(u-c)/h:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(y)},n)},f1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},d1=t=>(...e)=>H.asap(()=>t(...e)),jk=Rt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Rt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Rt.origin),Rt.navigator&&/(msie|trident)/i.test(Rt.navigator.userAgent)):()=>!0,Dk=Rt.hasStandardBrowserEnv?{write(t,e,n,r,s,a){const c=[t+"="+encodeURIComponent(e)];H.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),H.isString(r)&&c.push("path="+r),H.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _k(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function zk(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ov(t,e,n){let r=!_k(e);return t&&(r||n==!1)?zk(t,e):e}const h1=t=>t instanceof Xt?{...t}:t;function Yi(t,e){e=e||{};const n={};function r(h,m,y,b){return H.isPlainObject(h)&&H.isPlainObject(m)?H.merge.call({caseless:b},h,m):H.isPlainObject(m)?H.merge({},m):H.isArray(m)?m.slice():m}function s(h,m,y,b){if(H.isUndefined(m)){if(!H.isUndefined(h))return r(void 0,h,y,b)}else return r(h,m,y,b)}function a(h,m){if(!H.isUndefined(m))return r(void 0,m)}function c(h,m){if(H.isUndefined(m)){if(!H.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function u(h,m,y){if(y in e)return r(h,m);if(y in t)return r(void 0,h)}const d={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(h,m,y)=>s(h1(h),h1(m),y,!0)};return H.forEach(Object.keys({...t,...e}),function(m){const y=d[m]||s,b=y(t[m],e[m],m);H.isUndefined(b)&&y!==u||(n[m]=b)}),n}const Rv=t=>{const e=Yi({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:c,auth:u}=e;if(e.headers=c=Xt.from(c),e.url=Nv(Ov(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),H.isFormData(n)){if(Rt.hasStandardBrowserEnv||Rt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(H.isFunction(n.getHeaders)){const d=n.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([m,y])=>{h.includes(m.toLowerCase())&&c.set(m,y)})}}if(Rt.hasStandardBrowserEnv&&(r&&H.isFunction(r)&&(r=r(e)),r||r!==!1&&jk(e.url))){const d=s&&a&&Dk.read(a);d&&c.set(s,d)}return e},Lk=typeof XMLHttpRequest<"u",Bk=Lk&&function(t){return new Promise(function(n,r){const s=Rv(t);let a=s.data;const c=Xt.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=s,m,y,b,v,S;function E(){v&&v(),S&&S(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let C=new XMLHttpRequest;C.open(s.method.toUpperCase(),s.url,!0),C.timeout=s.timeout;function k(){if(!C)return;const j=Xt.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),F={data:!u||u==="text"||u==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:j,config:t,request:C};Mv(function(I){n(I),E()},function(I){r(I),E()},F),C=null}"onloadend"in C?C.onloadend=k:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(k)},C.onabort=function(){C&&(r(new Se("Request aborted",Se.ECONNABORTED,t,C)),C=null)},C.onerror=function(P){const F=P&&P.message?P.message:"Network Error",Y=new Se(F,Se.ERR_NETWORK,t,C);Y.event=P||null,r(Y),C=null},C.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const F=s.transitional||Tv;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),r(new Se(P,F.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,t,C)),C=null},a===void 0&&c.setContentType(null),"setRequestHeader"in C&&H.forEach(c.toJSON(),function(P,F){C.setRequestHeader(F,P)}),H.isUndefined(s.withCredentials)||(C.withCredentials=!!s.withCredentials),u&&u!=="json"&&(C.responseType=s.responseType),h&&([b,S]=Uc(h,!0),C.addEventListener("progress",b)),d&&C.upload&&([y,v]=Uc(d),C.upload.addEventListener("progress",y),C.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(m=j=>{C&&(r(!j||j.type?new ol(null,t,C):j),C.abort(),C=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const T=Mk(s.url);if(T&&Rt.protocols.indexOf(T)===-1){r(new Se("Unsupported protocol "+T+":",Se.ERR_BAD_REQUEST,t));return}C.send(a||null)})},Hk=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const a=function(h){if(!s){s=!0,u();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Se?m:new ol(m instanceof Error?m.message:m))}};let c=e&&setTimeout(()=>{c=null,a(new Se(`timeout ${e} of ms exceeded`,Se.ETIMEDOUT))},e);const u=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),t=null)};t.forEach(h=>h.addEventListener("abort",a));const{signal:d}=r;return d.unsubscribe=()=>H.asap(u),d}},Uk=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},Vk=async function*(t,e){for await(const n of Ik(t))yield*Uk(n,e)},Ik=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},p1=(t,e,n,r)=>{const s=Vk(t,e);let a=0,c,u=d=>{c||(c=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await s.next();if(h){u(),d.close();return}let y=m.byteLength;if(n){let b=a+=y;n(b)}d.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},m1=64*1024,{isFunction:mc}=H,qk=(({Request:t,Response:e})=>({Request:t,Response:e}))(H.global),{ReadableStream:g1,TextEncoder:y1}=H.global,b1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Pk=t=>{t=H.merge.call({skipUndefined:!0},qk,t);const{fetch:e,Request:n,Response:r}=t,s=e?mc(e):typeof fetch=="function",a=mc(n),c=mc(r);if(!s)return!1;const u=s&&mc(g1),d=s&&(typeof y1=="function"?(S=>E=>S.encode(E))(new y1):async S=>new Uint8Array(await new n(S).arrayBuffer())),h=a&&u&&b1(()=>{let S=!1;const E=new n(Rt.origin,{body:new g1,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!E}),m=c&&u&&b1(()=>H.isReadableStream(new r("").body)),y={stream:m&&(S=>S.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!y[S]&&(y[S]=(E,C)=>{let k=E&&E[S];if(k)return k.call(E);throw new Se(`Response type '${S}' is not supported`,Se.ERR_NOT_SUPPORT,C)})});const b=async S=>{if(S==null)return 0;if(H.isBlob(S))return S.size;if(H.isSpecCompliantForm(S))return(await new n(Rt.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(H.isArrayBufferView(S)||H.isArrayBuffer(S))return S.byteLength;if(H.isURLSearchParams(S)&&(S=S+""),H.isString(S))return(await d(S)).byteLength},v=async(S,E)=>{const C=H.toFiniteNumber(S.getContentLength());return C??b(E)};return async S=>{let{url:E,method:C,data:k,signal:T,cancelToken:j,timeout:P,onDownloadProgress:F,onUploadProgress:Y,responseType:I,headers:ne,withCredentials:ae="same-origin",fetchOptions:Q}=Rv(S),re=e||fetch;I=I?(I+"").toLowerCase():"text";let ge=Hk([T,j&&j.toAbortSignal()],P),me=null;const xe=ge&&ge.unsubscribe&&(()=>{ge.unsubscribe()});let Ne;try{if(Y&&h&&C!=="get"&&C!=="head"&&(Ne=await v(ne,k))!==0){let M=new n(E,{method:"POST",body:k,duplex:"half"}),V;if(H.isFormData(k)&&(V=M.headers.get("content-type"))&&ne.setContentType(V),M.body){const[ee,te]=f1(Ne,Uc(d1(Y)));k=p1(M.body,m1,ee,te)}}H.isString(ae)||(ae=ae?"include":"omit");const L=a&&"credentials"in n.prototype,J={...Q,signal:ge,method:C.toUpperCase(),headers:ne.normalize().toJSON(),body:k,duplex:"half",credentials:L?ae:void 0};me=a&&new n(E,J);let q=await(a?re(me,Q):re(E,J));const W=m&&(I==="stream"||I==="response");if(m&&(F||W&&xe)){const M={};["status","statusText","headers"].forEach(se=>{M[se]=q[se]});const V=H.toFiniteNumber(q.headers.get("content-length")),[ee,te]=F&&f1(V,Uc(d1(F),!0))||[];q=new r(p1(q.body,m1,ee,()=>{te&&te(),xe&&xe()}),M)}I=I||"text";let ce=await y[H.findKey(y,I)||"text"](q,S);return!W&&xe&&xe(),await new Promise((M,V)=>{Mv(M,V,{data:ce,headers:Xt.from(q.headers),status:q.status,statusText:q.statusText,config:S,request:me})})}catch(L){throw xe&&xe(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,S,me),{cause:L.cause||L}):Se.from(L,L&&L.code,S,me)}}},Fk=new Map,jv=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:s}=e,a=[r,s,n];let c=a.length,u=c,d,h,m=Fk;for(;u--;)d=a[u],h=m.get(d),h===void 0&&m.set(d,h=u?new Map:Pk(e)),m=h;return h};jv();const hp={http:ak,xhr:Bk,fetch:{get:jv}};H.forEach(hp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const x1=t=>`- ${t}`,$k=t=>H.isFunction(t)||t===null||t===!1,Dv={getAdapter:(t,e)=>{t=H.isArray(t)?t:[t];const{length:n}=t;let r,s;const a={};for(let c=0;c<n;c++){r=t[c];let u;if(s=r,!$k(r)&&(s=hp[(u=String(r)).toLowerCase()],s===void 0))throw new Se(`Unknown adapter '${u}'`);if(s&&(H.isFunction(s)||(s=s.get(e))))break;a[u||"#"+c]=s}if(!s){const c=Object.entries(a).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=n?c.length>1?`since :
`+c.map(x1).join(`
`):" "+x1(c[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s},adapters:hp};function Ah(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ol(null,t)}function v1(t){return Ah(t),t.headers=Xt.from(t.headers),t.data=kh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Dv.getAdapter(t.adapter||Pa.adapter,t)(t).then(function(r){return Ah(t),r.data=kh.call(t,t.transformResponse,r),r.headers=Xt.from(r.headers),r},function(r){return Av(r)||(Ah(t),r&&r.response&&(r.response.data=kh.call(t,t.transformResponse,r.response),r.response.headers=Xt.from(r.response.headers))),Promise.reject(r)})}const _v="1.12.2",Bu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Bu[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const S1={};Bu.transitional=function(e,n,r){function s(a,c){return"[Axios v"+_v+"] Transitional option '"+a+"'"+c+(r?". "+r:"")}return(a,c,u)=>{if(e===!1)throw new Se(s(c," has been removed"+(n?" in "+n:"")),Se.ERR_DEPRECATED);return n&&!S1[c]&&(S1[c]=!0,console.warn(s(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,c,u):!0}};Bu.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Kk(t,e,n){if(typeof t!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const a=r[s],c=e[a];if(c){const u=t[a],d=u===void 0||c(u,a,t);if(d!==!0)throw new Se("option "+a+" must be "+d,Se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Se("Unknown option "+a,Se.ERR_BAD_OPTION)}}const Rc={assertOptions:Kk,validators:Bu},Pn=Rc.validators;let qi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new c1,response:new c1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Yi(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&Rc.assertOptions(r,{silentJSONParsing:Pn.transitional(Pn.boolean),forcedJSONParsing:Pn.transitional(Pn.boolean),clarifyTimeoutError:Pn.transitional(Pn.boolean)},!1),s!=null&&(H.isFunction(s)?n.paramsSerializer={serialize:s}:Rc.assertOptions(s,{encode:Pn.function,serialize:Pn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Rc.assertOptions(n,{baseUrl:Pn.spelling("baseURL"),withXsrfToken:Pn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&H.merge(a.common,a[n.method]);a&&H.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),n.headers=Xt.concat(c,a);const u=[];let d=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(d=d&&E.synchronous,u.unshift(E.fulfilled,E.rejected))});const h=[];this.interceptors.response.forEach(function(E){h.push(E.fulfilled,E.rejected)});let m,y=0,b;if(!d){const S=[v1.bind(this),void 0];for(S.unshift(...u),S.push(...h),b=S.length,m=Promise.resolve(n);y<b;)m=m.then(S[y++],S[y++]);return m}b=u.length;let v=n;for(;y<b;){const S=u[y++],E=u[y++];try{v=S(v)}catch(C){E.call(this,C);break}}try{m=v1.call(this,v)}catch(S){return Promise.reject(S)}for(y=0,b=h.length;y<b;)m=m.then(h[y++],h[y++]);return m}getUri(e){e=Yi(this.defaults,e);const n=Ov(e.baseURL,e.url,e.allowAbsoluteUrls);return Nv(n,e.params,e.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(e){qi.prototype[e]=function(n,r){return this.request(Yi(r||{},{method:e,url:n,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(e){function n(r){return function(a,c,u){return this.request(Yi(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}qi.prototype[e]=n(),qi.prototype[e+"Form"]=n(!0)});let Gk=class zv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const c=new Promise(u=>{r.subscribe(u),a=u}).then(s);return c.cancel=function(){r.unsubscribe(a)},c},e(function(a,c,u){r.reason||(r.reason=new ol(a,c,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new zv(function(s){e=s}),cancel:e}}};function Yk(t){return function(n){return t.apply(null,n)}}function Jk(t){return H.isObject(t)&&t.isAxiosError===!0}const pp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pp).forEach(([t,e])=>{pp[e]=t});function Lv(t){const e=new qi(t),n=hv(qi.prototype.request,e);return H.extend(n,qi.prototype,e,{allOwnKeys:!0}),H.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Lv(Yi(t,s))},n}const nt=Lv(Pa);nt.Axios=qi;nt.CanceledError=ol;nt.CancelToken=Gk;nt.isCancel=Av;nt.VERSION=_v;nt.toFormData=Lu;nt.AxiosError=Se;nt.Cancel=nt.CanceledError;nt.all=function(e){return Promise.all(e)};nt.spread=Yk;nt.isAxiosError=Jk;nt.mergeConfig=Yi;nt.AxiosHeaders=Xt;nt.formToJSON=t=>kv(H.isHTMLForm(t)?new FormData(t):t);nt.getAdapter=Dv.getAdapter;nt.HttpStatusCode=pp;nt.default=nt;const{Axios:uD,AxiosError:fD,CanceledError:dD,isCancel:hD,CancelToken:pD,VERSION:mD,all:gD,Cancel:yD,isAxiosError:bD,spread:xD,toFormData:vD,AxiosHeaders:SD,HttpStatusCode:wD,formToJSON:ED,getAdapter:CD,mergeConfig:ND}=nt,Ae=nt.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json"}});Ae.interceptors.request.use(t=>{const e=localStorage.getItem("accessToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Ae.interceptors.response.use(t=>t,async t=>{const e=t.config;if(t.response?.status===401&&!e._retry){e._retry=!0;const n=localStorage.getItem("refreshToken");if(n)try{const r=await nt.post("http://localhost:8000/api/admin/token/refresh/",{refresh:n}),{access:s}=r.data;return localStorage.setItem("accessToken",s),Ae(e)}catch{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login"}}return Promise.reject(t)});const De={auth:{login:t=>Ae.post("/admin/login/",t),refreshToken:t=>Ae.post("/admin/token/refresh/",t)},partnerships:{getAll:()=>Ae.get("/admin/partnerships/"),create:t=>Ae.post("/admin/partnerships/",t),update:(t,e)=>Ae.put(`/admin/partnerships/${t}/`,e),delete:t=>Ae.delete(`/admin/partnerships/${t}/`)},customerships:{getAll:()=>Ae.get("/admin/customerships/"),create:t=>Ae.post("/admin/customerships/",t),update:(t,e)=>Ae.put(`/admin/customerships/${t}/`,e),delete:t=>Ae.delete(`/admin/customerships/${t}/`)},products:{getAll:()=>Ae.get("/admin/products/"),create:t=>Ae.post("/admin/products/",t),update:(t,e)=>Ae.put(`/admin/products/${t}/`,e),delete:t=>Ae.delete(`/admin/products/${t}/`)},requestForms:{getAll:()=>Ae.get("/admin/requestforms/"),getById:t=>Ae.get(`/admin/requestforms/${t}/`),updateStatus:(t,e)=>Ae.patch(`/admin/requestforms/${t}/update_status/`,{status:e}),delete:t=>Ae.delete(`/admin/requestforms/${t}/`)},projectReferences:{getAll:()=>Ae.get("/admin/projectreferences/"),create:t=>Ae.post("/admin/projectreferences/",t),update:(t,e)=>Ae.put(`/admin/projectreferences/${t}/`,e),delete:t=>Ae.delete(`/admin/projectreferences/${t}/`),toggleFavorite:t=>Ae.post(`/admin/projectreferences/${t}/toggle_favorite/`),getFavorites:()=>Ae.get("/admin/projectreferences/favorites/")},news:{getAll:()=>Ae.get("/admin/news/"),create:t=>Ae.post("/admin/news/",t),update:(t,e)=>Ae.put(`/admin/news/${t}/`,e),delete:t=>Ae.delete(`/admin/news/${t}/`)},articles:{getAll:()=>Ae.get("/admin/articles/"),getById:t=>Ae.get(`/admin/articles/${t}/`),create:t=>Ae.post("/admin/articles/",t),update:(t,e)=>Ae.put(`/admin/articles/${t}/`,e),delete:t=>Ae.delete(`/admin/articles/${t}/`),uploadArticle:t=>Ae.post("/admin/articles/upload/",t,{headers:{"Content-Type":"multipart/form-data"}})}},Xk={user:null,loading:!0,error:null},Gn={SET_LOADING:"SET_LOADING",SET_USER:"SET_USER",SET_ERROR:"SET_ERROR",LOGOUT:"LOGOUT"},Qk=(t,e)=>{switch(e.type){case Gn.SET_LOADING:return{...t,loading:e.payload};case Gn.SET_USER:return{...t,user:e.payload,loading:!1,error:null};case Gn.SET_ERROR:return{...t,error:e.payload,loading:!1};case Gn.LOGOUT:return{...t,user:null,loading:!1,error:null};default:return t}},Bv=A.createContext(null),Zk=({children:t})=>{const[e,n]=A.useReducer(Qk,Xk);A.useEffect(()=>{const a=localStorage.getItem("accessToken");n(a?{type:Gn.SET_USER,payload:{token:a}}:{type:Gn.SET_LOADING,payload:!1})},[]);const r=async(a,c)=>{try{n({type:Gn.SET_LOADING,payload:!0});const u=await De.auth.login({username:a,password:c}),{access:d,refresh:h}=u.data;localStorage.setItem("accessToken",d),localStorage.setItem("refreshToken",h),n({type:Gn.SET_USER,payload:{username:a,token:d}})}catch(u){n({type:Gn.SET_ERROR,payload:u.response?.data?.detail||"Login failed"})}},s=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),n({type:Gn.LOGOUT})};return x.jsx(Bv.Provider,{value:{...e,login:r,logout:s},children:t})},Vc=()=>{const t=A.useContext(Bv);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};var Hv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},w1=Bt.createContext&&Bt.createContext(Hv),Wk=["attr","size","title"];function eA(t,e){if(t==null)return{};var n=tA(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tA(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ic.apply(this,arguments)}function E1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E1(Object(n),!0).forEach(function(r){nA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nA(t,e,n){return e=rA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rA(t){var e=iA(t,"string");return typeof e=="symbol"?e:e+""}function iA(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uv(t){return t&&t.map((e,n)=>Bt.createElement(e.tag,qc({key:n},e.attr),Uv(e.child)))}function Fa(t){return e=>Bt.createElement(sA,Ic({attr:qc({},t.attr)},e),Uv(t.child))}function sA(t){var e=n=>{var{attr:r,size:s,title:a}=t,c=eA(t,Wk),u=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Bt.createElement("svg",Ic({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:d,style:qc(qc({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&Bt.createElement("title",null,a),t.children)};return w1!==void 0?Bt.createElement(w1.Consumer,null,n=>e(n)):e(Hv)}function lA(t){return Fa({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function aA(t){return Fa({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function oA(t){return Fa({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function cA(t){return Fa({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function uA(t){return Fa({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const fA=()=>{const{login:t,loading:e,error:n}=Vc(),[r,s]=A.useState({username:"",password:""}),[a,c]=A.useState(!1),u=h=>{s({...r,[h.target.name]:h.target.value})},d=async h=>{h.preventDefault(),await t(r.username,r.password)};return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-cyan-600 to-blue-700",children:x.jsx("div",{className:"max-w-md w-full mx-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"flex justify-center mb-4",children:x.jsx("div",{className:"bg-cyan-600 p-3 rounded-full",children:x.jsx(lA,{className:"text-white text-2xl"})})}),x.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Admin Dashboard"}),x.jsx("p",{className:"text-gray-600",children:"Civil Master Solution CMS"})]}),n&&x.jsx("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:n}),x.jsxs("form",{onSubmit:d,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),x.jsxs("div",{className:"relative",children:[x.jsx(uA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),x.jsx("input",{type:"text",name:"username",required:!0,value:r.username,onChange:u,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"Enter your username"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),x.jsxs("div",{className:"relative",children:[x.jsx(cA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),x.jsx("input",{type:a?"text":"password",name:"password",required:!0,value:r.password,onChange:u,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"Enter your password"}),x.jsx("button",{type:"button",onClick:()=>c(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?x.jsx(aA,{}):x.jsx(oA,{})})]})]}),x.jsx("button",{type:"submit",disabled:e,className:"w-full bg-cyan-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-cyan-700 focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:e?x.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[x.jsx("div",{className:"spinner"}),x.jsx("span",{children:"Signing In..."})]}):"Sign In"})]}),x.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[x.jsx("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:"Demo Credentials:"}),x.jsx("p",{className:"text-sm text-gray-500",children:"Username: admin"}),x.jsx("p",{className:"text-sm text-gray-500",children:"Password: your_password"})]})]})})})};function dA({title:t,titleId:e,...n},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?A.createElement("title",{id:e},t):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const hA=A.forwardRef(dA);function pA({title:t,titleId:e,...n},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?A.createElement("title",{id:e},t):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const mA=A.forwardRef(pA);function gA({title:t,titleId:e,...n},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?A.createElement("title",{id:e},t):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const yA=A.forwardRef(gA);function bA({title:t,titleId:e,...n},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?A.createElement("title",{id:e},t):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const C1=A.forwardRef(bA);function xA({title:t,titleId:e,...n},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?A.createElement("title",{id:e},t):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Vv=A.forwardRef(xA);function vA({title:t,titleId:e,...n},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?A.createElement("title",{id:e},t):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const SA=A.forwardRef(vA);function wA({title:t,titleId:e,...n},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?A.createElement("title",{id:e},t):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"}))}const EA=A.forwardRef(wA);function CA({title:t,titleId:e,...n},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?A.createElement("title",{id:e},t):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const cl=A.forwardRef(CA);function NA({title:t,titleId:e,...n},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?A.createElement("title",{id:e},t):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const jc=A.forwardRef(NA);function TA({title:t,titleId:e,...n},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?A.createElement("title",{id:e},t):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Ji=A.forwardRef(TA);function kA({title:t,titleId:e,...n},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?A.createElement("title",{id:e},t):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ts=A.forwardRef(kA);function AA({title:t,titleId:e,...n},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?A.createElement("title",{id:e},t):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const MA=A.forwardRef(AA);function OA({title:t,titleId:e,...n},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?A.createElement("title",{id:e},t):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const RA=A.forwardRef(OA),jA=()=>{const t=Cr(),e=[{name:"Partnerships",href:"/partnerships",icon:RA},{name:"Customers",href:"/customers",icon:hA},{name:"Products",href:"/products",icon:yA},{name:"Request Forms",href:"/request-forms",icon:C1},{name:"Project References",href:"/project-references",icon:jc},{name:"News",href:"/news",icon:EA},{name:"Articles",href:"/articles",icon:C1}];return x.jsxs("div",{className:"flex flex-col w-64 bg-white shadow-lg",children:[x.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-200",children:x.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"CMS Admin"})}),x.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:e.map(n=>{const r=t.pathname===n.href;return x.jsxs(Wp,{to:n.href,className:`
                group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors
                ${r?"bg-cyan-100 text-cyan-700 border-r-2 border-cyan-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}
              `,children:[x.jsx(n.icon,{className:`
                  mr-3 h-5 w-5 transition-colors
                  ${r?"text-cyan-700":"text-gray-400 group-hover:text-gray-500"}
                `}),n.name]},n.name)})})]})},DA=()=>{const{user:t,logout:e}=Vc(),n=()=>{e()};return x.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:x.jsxs("div",{className:"flex justify-between items-center px-6 py-4",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"CMS Dashboard"}),x.jsx("p",{className:"text-sm text-gray-600",children:"Manage your Civil Master Solution content"})]}),x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-cyan-100 rounded-full",children:x.jsx(MA,{className:"w-5 h-5 text-cyan-600"})}),x.jsxs("div",{className:"hidden md:block",children:[x.jsx("p",{className:"text-sm font-medium text-gray-900",children:t?.username||"Admin User"}),x.jsx("p",{className:"text-xs text-gray-500",children:"Administrator"})]})]}),x.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:x.jsx(mA,{className:"w-5 h-5"})}),x.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Logout"})]})]})})},_A=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[s,a]=A.useState(null),[c,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState({partner_name:"",partner_image:[""]});A.useEffect(()=>{b()},[]);const b=async()=>{try{r(!0);const T=await De.partnerships.getAll();e(T.data)}catch{a("Failed to fetch partnerships")}finally{r(!1)}},v=async T=>{T.preventDefault();try{if(!d&&t.length>=8){a("Maximum 8 partnerships allowed");return}const j={...m,partner_image:m.partner_image.filter(P=>P&&P.trim()!=="")};d?await De.partnerships.update(d.id,j):await De.partnerships.create(j),u(!1),y({partner_name:"",partner_image:[]}),h(null),b()}catch{a("Failed to save partnership")}},S=T=>{h(T),y({partner_name:T.partner_name,partner_image:Array.isArray(T.partner_image)?T.partner_image:T.partner_image?[T.partner_image]:[]}),u(!0)},E=async T=>{if(window.confirm("Are you sure you want to delete this partnership?"))try{await De.partnerships.delete(T),b()}catch{a("Failed to delete partnership")}},C=T=>{const P=Array.from(T.target.files).map(F=>new Promise(Y=>{const I=new FileReader;I.onload=ne=>Y(ne.target.result),I.readAsDataURL(F)}));Promise.all(P).then(F=>{y(Y=>({...Y,partner_image:[...Y.partner_image,...F]}))})},k=T=>{y(j=>({...j,partner_image:j.partner_image.filter((P,F)=>F!==T)}))};return n?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"spinner"})}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Partnerships"}),x.jsxs("button",{onClick:()=>u(!0),className:"bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700 flex items-center space-x-2",children:[x.jsx(Ji,{className:"w-5 h-5"}),x.jsx("span",{children:"Add Partnership"})]})]}),s&&x.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(T=>x.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[Array.isArray(T.partner_image)&&T.partner_image[0]?x.jsx("img",{src:T.partner_image[0],alt:T.partner_name,className:"w-full h-32 object-cover rounded-lg mb-4",onError:j=>{j.target.onerror=null,j.target.src=`https://via.placeholder.com/400x128/4B5563/FFFFFF?text=${encodeURIComponent(T.partner_name||"Partner")}`}}):x.jsx("img",{src:`https://via.placeholder.com/400x128/4B5563/FFFFFF?text=${encodeURIComponent(T.partner_name||"Partner")}`,alt:T.partner_name,className:"w-full h-32 object-cover rounded-lg mb-4"}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:T.partner_name}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>S(T),className:"text-blue-600 hover:text-blue-900",children:x.jsx(cl,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>E(T.id),className:"text-red-600 hover:text-red-900",children:x.jsx(ts,{className:"w-5 h-5"})})]})]},T.id))}),c&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:d?"Edit Partnership":"Add Partnership"}),x.jsxs("form",{onSubmit:v,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),x.jsx("input",{type:"text",value:m.partner_name,onChange:T=>y({...m,partner_name:T.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images"}),x.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:C,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),m.partner_image.length>0&&x.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:m.partner_image.map((T,j)=>x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:T,alt:`Upload ${j+1}`,className:"w-20 h-20 object-cover rounded-lg border"}),x.jsx("button",{type:"button",onClick:()=>k(j),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},j))})]}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{type:"submit",className:"bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700",children:d?"Update":"Create"}),x.jsx("button",{type:"button",onClick:()=>{u(!1),h(null),y({partner_name:"",partner_image:[]})},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]})})]})},zA=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[s,a]=A.useState(null),[c,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState({customer_name:"",customer_image:[""]});A.useEffect(()=>{b()},[]);const b=async()=>{try{r(!0);const T=await De.customerships.getAll();e(T.data)}catch{a("Failed to fetch customers")}finally{r(!1)}},v=async T=>{T.preventDefault();try{const j={...m,customer_image:m.customer_image.filter(P=>P&&P.trim()!=="")};d?await De.customerships.update(d.id,j):await De.customerships.create(j),u(!1),y({customer_name:"",customer_image:[]}),h(null),b()}catch{a("Failed to save customer")}},S=T=>{h(T),y({customer_name:T.customer_name,customer_image:Array.isArray(T.customer_image)?T.customer_image:T.customer_image?[T.customer_image]:[]}),u(!0)},E=async T=>{if(window.confirm("Are you sure you want to delete this customer?"))try{await De.customerships.delete(T),b()}catch{a("Failed to delete customer")}},C=T=>{const P=Array.from(T.target.files).map(F=>new Promise(Y=>{const I=new FileReader;I.onload=ne=>Y(ne.target.result),I.readAsDataURL(F)}));Promise.all(P).then(F=>{y(Y=>({...Y,customer_image:[...Y.customer_image,...F]}))})},k=T=>{y(j=>({...j,customer_image:j.customer_image.filter((P,F)=>F!==T)}))};return n?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"spinner"})}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Customers"}),x.jsxs("button",{onClick:()=>u(!0),className:"bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700 flex items-center space-x-2",children:[x.jsx(Ji,{className:"w-5 h-5"}),x.jsx("span",{children:"Add Customer"})]})]}),s&&x.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(T=>x.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[Array.isArray(T.customer_image)&&T.customer_image[0]?x.jsx("img",{src:T.customer_image[0],alt:T.customer_name,className:"w-full h-32 object-cover rounded-lg mb-4",onError:j=>{j.target.onerror=null,j.target.src=`https://via.placeholder.com/400x128/4B5563/FFFFFF?text=${encodeURIComponent(T.customer_name||"Customer")}`}}):x.jsx("img",{src:`https://via.placeholder.com/400x128/4B5563/FFFFFF?text=${encodeURIComponent(T.customer_name||"Customer")}`,alt:T.customer_name,className:"w-full h-32 object-cover rounded-lg mb-4"}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:T.customer_name}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>S(T),className:"text-blue-600 hover:text-blue-900",children:x.jsx(cl,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>E(T.id),className:"text-red-600 hover:text-red-900",children:x.jsx(ts,{className:"w-5 h-5"})})]})]},T.id))}),c&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:d?"Edit Customer":"Add Customer"}),x.jsxs("form",{onSubmit:v,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),x.jsx("input",{type:"text",value:m.customer_name,onChange:T=>y({...m,customer_name:T.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images"}),x.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:C,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),m.customer_image.length>0&&x.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:m.customer_image.map((T,j)=>x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:T,alt:`Upload ${j+1}`,className:"w-20 h-20 object-cover rounded-lg border"}),x.jsx("button",{type:"button",onClick:()=>k(j),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},j))})]}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{type:"submit",className:"bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700",children:d?"Update":"Create"}),x.jsx("button",{type:"button",onClick:()=>{u(!1),h(null),y({customer_name:"",customer_image:[]})},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]})})]})},LA=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[s,a]=A.useState(null),[c,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState(null),[b,v]=A.useState({title:"",description:"",features:[""],benefit:[""],performance:[""],images:[],comments:""}),S=Q=>Q.trim().split(/\s+/).filter(re=>re.length>0).length,E={title:50,description:50,feature:20,benefit:20,performance:20};A.useEffect(()=>{C()},[]);const C=async()=>{try{r(!0);const re=(await De.products.getAll()).data.sort((ge,me)=>(ge.position||999)-(me.position||999));e(re)}catch{a("Failed to fetch products")}finally{r(!1)}},k=async Q=>{if(Q.preventDefault(),S(b.title)>E.title){a(`Title cannot exceed ${E.title} words`);return}if(S(b.description)>E.description){a(`Description cannot exceed ${E.description} words`);return}if(b.features.some(re=>S(re)>E.feature)){a(`Each performance item cannot exceed ${E.feature} words`);return}if(b.benefit.some(re=>S(re)>E.benefit)){a(`Each main application item cannot exceed ${E.benefit} words`);return}if(b.performance.some(re=>S(re)>E.performance)){a(`Each benefit item cannot exceed ${E.performance} words`);return}try{const re=b.features.filter(L=>L.trim()),ge=b.benefit.filter(L=>L.trim()),me=b.performance.filter(L=>L.trim()),xe=b.images.filter(L=>L&&L.trim()),Ne={product_name:b.title,product_description:b.description,product_image:xe,main_application:re,benefit:ge,performance:me,comments:b.comments};d?await De.products.update(d.id,Ne):await De.products.create(Ne),u(!1),v({title:"",description:"",features:[""],benefit:[""],performance:[""],images:[],comments:""}),h(null),C()}catch(re){a("Failed to save product"),console.error("Error saving product:",re)}},T=Q=>{h(Q),v({title:Q.product_name||"",description:Q.product_description||"",features:Array.isArray(Q.main_application)&&Q.main_application.length?Q.main_application:[""],benefit:Array.isArray(Q.benefit)&&Q.benefit.length?Q.benefit:[""],performance:Array.isArray(Q.performance)&&Q.performance.length?Q.performance:[""],images:Array.isArray(Q.product_image)?Q.product_image:[],comments:Q.comments||""}),u(!0)},j=async Q=>{if(window.confirm("Are you sure you want to delete this product?"))try{await De.products.delete(Q),C()}catch{a("Failed to delete product")}},P=Q=>{const ge=Array.from(Q.target.files).map(me=>new Promise(xe=>{const Ne=new FileReader;Ne.onload=L=>xe(L.target.result),Ne.readAsDataURL(me)}));Promise.all(ge).then(me=>{v(xe=>({...xe,images:[...xe.images,...me]}))})},F=Q=>{v(re=>({...re,images:re.images.filter((ge,me)=>me!==Q)}))},Y=(Q,re)=>{y(re),Q.dataTransfer.effectAllowed="move"},I=Q=>{Q.preventDefault(),Q.dataTransfer.dropEffect="move"},ne=()=>{y(null)},ae=async(Q,re)=>{if(Q.preventDefault(),!m||m.id===re.id)return;const ge=t.findIndex(J=>J.id===m.id),me=t.findIndex(J=>J.id===re.id);if(ge===-1||me===-1)return;const xe=[...t],[Ne]=xe.splice(ge,1);xe.splice(me,0,Ne);const L=xe.map((J,q)=>({...J,position:q+1}));e(L);try{await Promise.all(L.map(J=>De.products.update(J.id,{product_name:J.product_name,product_description:J.product_description,product_image:J.product_image,main_application:J.main_application,benefit:J.benefit,performance:J.performance,comments:J.comments,position:J.position})))}catch{a("Failed to update product positions"),C()}};return n?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"spinner"})}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Products"}),x.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Drag and drop products to reorder them"})]}),x.jsxs("button",{onClick:()=>u(!0),className:"bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700 flex items-center space-x-2",children:[x.jsx(Ji,{className:"w-5 h-5"}),x.jsx("span",{children:"Add Product"})]})]}),s&&x.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(Q=>x.jsxs("div",{className:`bg-white rounded-lg shadow p-6 cursor-move transition-all duration-200 hover:shadow-lg hover:scale-105 ${m?.id===Q.id?"opacity-50 scale-95 shadow-2xl":""}`,draggable:!0,onDragStart:re=>Y(re,Q),onDragOver:I,onDragEnd:ne,onDrop:re=>ae(re,Q),children:[Q.product_image&&Q.product_image.length>0&&x.jsx("img",{src:Q.product_image[0],alt:Q.product_name,className:"w-full h-32 object-cover rounded-lg mb-4"}),x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Q.product_name}),x.jsxs("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["#",Q.position]})]}),x.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:Q.product_description}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Drag to reorder"}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>T(Q),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit product",children:x.jsx(cl,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>j(Q.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete product",children:x.jsx(ts,{className:"w-4 h-4"})})]})]})]},Q.id))}),c&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:d?"Edit Product":"Add Product"}),x.jsxs("form",{onSubmit:k,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",x.jsxs("span",{className:"text-xs text-gray-500",children:["(",S(b.title),"/",E.title," words)"]})]}),x.jsx("input",{type:"text",value:b.title,onChange:Q=>v({...b,title:Q.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),x.jsx("p",{className:"w-full p-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:d?d.position:t.length+1})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",x.jsxs("span",{className:"text-xs text-gray-500",children:["(",S(b.description),"/",E.description," words)"]})]}),x.jsx("textarea",{value:b.description,onChange:Q=>v({...b,description:Q.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",rows:"3",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Performance"}),b.features.map((Q,re)=>x.jsxs("div",{className:"flex items-center mb-2",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("input",{type:"text",value:Q,onChange:ge=>{const me=[...b.features];me[re]=ge.target.value,v({...b,features:me})},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),x.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",S(Q),"/",E.feature," words)"]})]}),b.features.length>1&&x.jsx("button",{type:"button",className:"ml-2 text-red-500",onClick:()=>{v({...b,features:b.features.filter((ge,me)=>me!==re)})},children:"-"}),re===b.features.length-1&&b.features.length<3&&x.jsx("button",{type:"button",className:"ml-2 text-green-500",onClick:()=>{v({...b,features:[...b.features,""]})},children:"+"})]},re))]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Main Applications"}),b.benefit.map((Q,re)=>x.jsxs("div",{className:"flex items-center mb-2",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("input",{type:"text",value:Q,onChange:ge=>{const me=[...b.benefit];me[re]=ge.target.value,v({...b,benefit:me})},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),x.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",S(Q),"/",E.benefit," words)"]})]}),b.benefit.length>1&&x.jsx("button",{type:"button",className:"ml-2 text-red-500",onClick:()=>{v({...b,benefit:b.benefit.filter((ge,me)=>me!==re)})},children:"-"}),re===b.benefit.length-1&&b.benefit.length<3&&x.jsx("button",{type:"button",className:"ml-2 text-green-500",onClick:()=>{v({...b,benefit:[...b.benefit,""]})},children:"+"})]},re))]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Benefit"}),b.performance.map((Q,re)=>x.jsxs("div",{className:"flex items-center mb-2",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("input",{type:"text",value:Q,onChange:ge=>{const me=[...b.performance];me[re]=ge.target.value,v({...b,performance:me})},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),x.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",S(Q),"/",E.performance," words)"]})]}),b.performance.length>1&&x.jsx("button",{type:"button",className:"ml-2 text-red-500",onClick:()=>{v({...b,performance:b.performance.filter((ge,me)=>me!==re)})},children:"-"}),re===b.performance.length-1&&b.performance.length<3&&x.jsx("button",{type:"button",className:"ml-2 text-green-500",onClick:()=>{v({...b,performance:[...b.performance,""]})},children:"+"})]},re))]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images"}),x.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:P,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),b.images.length>0&&x.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:b.images.map((Q,re)=>x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:Q,alt:`Upload ${re+1}`,className:"w-20 h-20 object-cover rounded-lg border"}),x.jsx("button",{type:"button",onClick:()=>F(re),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},re))})]}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{type:"submit",className:"bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700",children:d?"Update":"Create"}),x.jsx("button",{type:"button",onClick:()=>{u(!1),h(null),v({title:"",description:"",features:[""],benefit:[""],performance:[""],images:[],comments:""})},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]})})]})},BA=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[s,a]=A.useState(null),[c,u]=A.useState(!1),[d,h]=A.useState(null);A.useEffect(()=>{m()},[]);const m=async()=>{try{r(!0);const S=await De.requestForms.getAll();e(S.data)}catch{a("Failed to fetch request forms")}finally{r(!1)}},y=async S=>{try{const E=await De.requestForms.getById(S);h(E.data),u(!0)}catch{a("Failed to fetch form details")}},b=async S=>{if(window.confirm("Are you sure you want to delete this request form?"))try{await De.requestForms.delete(S),m()}catch{a("Failed to delete request form")}},v=async(S,E)=>{try{await De.requestForms.updateStatus(S,E),h(C=>({...C,status:E})),m()}catch{a("Failed to update status")}};return n?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"spinner"})}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Request Forms"}),x.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",t.length," submissions"]})]}),s&&x.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s}),x.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Full Name"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email Address"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Number"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company Name"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Country"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted Time"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(S=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.product_name||"N/A"}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.full_name||"N/A"}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.email_address||"N/A"}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.contact_number||"N/A"}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.company_name||"N/A"}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.country||"N/A"}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:x.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S.status==="complete"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:S.status||"pending"})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(S.request_time||S.created_at).toLocaleString()}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[x.jsx("button",{onClick:()=>y(S.id),className:"text-blue-600 hover:text-blue-900",children:x.jsx(Vv,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>b(S.id),className:"text-red-600 hover:text-red-900",children:x.jsx(ts,{className:"w-5 h-5"})})]})]},S.id))})]})}),c&&d&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-2/3 max-w-2xl shadow-lg rounded-md bg-white",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Request Form Details"}),x.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),x.jsx("p",{className:"text-sm text-gray-900",children:d.full_name})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),x.jsx("p",{className:"text-sm text-gray-900",children:d.email_address})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),x.jsx("p",{className:"text-sm text-gray-900",children:d.contact_number})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),x.jsx("p",{className:"text-sm text-gray-900",children:d.company_name||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),x.jsx("p",{className:"text-sm text-gray-900",children:d.country||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product"}),x.jsx("p",{className:"text-sm text-gray-900",children:d.product_name||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),x.jsxs("select",{value:d.status||"pending",onChange:S=>v(d.id,S.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[x.jsx("option",{value:"pending",children:"Pending"}),x.jsx("option",{value:"complete",children:"Complete"})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Comments"}),x.jsx("p",{className:"text-sm text-gray-900 p-3 bg-gray-50 rounded whitespace-pre-wrap min-h-[3rem]",children:d.comments||"No additional comments provided."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submitted"}),x.jsx("p",{className:"text-sm text-gray-900",children:new Date(d.request_time||d.created_at).toLocaleString()})]})]}),x.jsx("div",{className:"flex justify-end mt-6",children:x.jsx("button",{onClick:()=>u(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400",children:"Close"})})]})})]})};function HA({title:t,titleId:e,...n},r){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?A.createElement("title",{id:e},t):null,A.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const UA=A.forwardRef(HA),VA=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[s,a]=A.useState(null),[c,u]=A.useState(!1),[d,h]=A.useState(!1),[m,y]=A.useState(null),[b,v]=A.useState(null),[S,E]=A.useState(null),[C,k]=A.useState({project_name:"",location:"",site_area:"",date_time:"",contractor:"",layout_type:1,project_image:["","","",""],is_favorite:!1}),T={1:{name:"Single Image Layout",imageCount:1,description:"One large featured image",positions:["Main Featured Image"],positionDescriptions:["Primary hero image showcasing the main project view"]},2:{name:"Dual Image Layout",imageCount:2,description:"Two equal-sized images side by side",positions:["Left Image","Right Image"],positionDescriptions:["Left side image showing project overview or entrance","Right side image showing additional project details or interior"]},3:{name:"Triple Image Layout",imageCount:3,description:"Three Images",positions:["First Image","Second Image","Third Image"],positionDescriptions:["First image as the main focal point of the project","Second image showing secondary project features","Third image displaying additional project aspects"]},4:{name:"Quad Image Layout",imageCount:4,description:"Four Images",positions:["First Image","Second Image","Third Image","Fourth Image"],positionDescriptions:["First image showing project entrance or overview","Second image displaying key project features","Third image showing project details or construction","Fourt image highlighting project completion or results"]}};A.useEffect(()=>{j()},[]);const j=async()=>{try{r(!0);const W=(await De.projectReferences.getAll()).data.sort((ce,M)=>(ce.position||999)-(M.position||999));e(W)}catch{a("Failed to fetch project references")}finally{r(!1)}},P=async q=>{q.preventDefault();try{const W=T[C.layout_type],ce=C.project_image.slice(0,W.imageCount).filter(V=>V.trim()),M={project_name:C.project_name,location:C.location,site_area:C.site_area,date_time:C.date_time,contractor:C.contractor,layout_type:parseInt(C.layout_type),project_image:ce};console.log("Sending project data:",M),b?await De.projectReferences.update(b.id,M):await De.projectReferences.create(M),u(!1),F(),j(),a(null)}catch(W){if(console.error("Error saving project:",W),console.error("Error response:",W.response?.data),W.response?.data){const ce=W.response.data;let M="Failed to save project reference";if(typeof ce=="string")M=ce;else if(ce.detail)M=ce.detail;else if(typeof ce=="object"){const V=Object.entries(ce).map(([ee,te])=>{const se=Array.isArray(te)?te:[te];return`${ee}: ${se.join(", ")}`}).join("; ");V&&(M=`Validation errors: ${V}`)}a(M)}else a("Failed to save project reference. Please check your data and try again.")}},F=()=>{k({project_name:"",location:"",site_area:"",date_time:"",contractor:"",layout_type:1,project_image:["","","",""],is_favorite:!1}),v(null)},Y=q=>{v(q);const ce=[...Array.isArray(q.project_image)?q.project_image:[]];for(;ce.length<4;)ce.push("");ce.splice(4),k({project_name:q.project_name||"",location:q.location||"",site_area:q.site_area||"",date_time:q.date_time||"",contractor:q.contractor||"",layout_type:parseInt(q.layout_type)||1,project_image:ce,is_favorite:q.is_favorite||!1}),u(!0),a(null)},I=async q=>{if(window.confirm("Are you sure you want to delete this project reference?"))try{await De.projectReferences.delete(q),j()}catch{a("Failed to delete project reference")}},ne=q=>{y(q),h(!0)},ae=async q=>{try{const W=await De.projectReferences.toggleFavorite(q.id);e(ce=>ce.map(M=>M.id===q.id?{...M,is_favorite:W.data.is_favorite}:M)),W.data.error?a(W.data.error):(a(null),console.log(W.data.message))}catch(W){console.error("Error toggling favorite:",W),W.response?.data?.error?a(W.response.data.error):a("Failed to update favorite status")}},Q=(q,W)=>{const ce=q.target.files[0];if(ce){const M=new FileReader;M.onload=V=>{const ee=[...C.project_image];ee[W]=V.target.result,k({...C,project_image:ee})},M.readAsDataURL(ce)}},re=q=>{const W=[...C.project_image];W[q]="",k({...C,project_image:W})},ge=(q,W)=>{E(W),q.dataTransfer.effectAllowed="move"},me=q=>{q.preventDefault(),q.dataTransfer.dropEffect="move"},xe=()=>{E(null)},Ne=async(q,W)=>{if(q.preventDefault(),!S||S.id===W.id)return;const ce=t.findIndex(se=>se.id===S.id),M=t.findIndex(se=>se.id===W.id);if(ce===-1||M===-1)return;const V=[...t],[ee]=V.splice(ce,1);V.splice(M,0,ee);const te=V.map((se,he)=>({...se,position:he+1}));e(te);try{await Promise.all(te.map(se=>De.projectReferences.update(se.id,{project_name:se.project_name,location:se.location,site_area:se.site_area,date_time:se.date_time,contractor:se.contractor,layout_type:se.layout_type,project_image:se.project_image,position:se.position})))}catch{a("Failed to update project positions"),j()}},L=(q,W)=>{if(!W.some(V=>V&&V.trim()))return x.jsx("div",{className:"w-full h-32 bg-gray-100 rounded-lg flex items-center justify-center",children:x.jsx(jc,{className:"w-8 h-8 text-gray-400"})});const M=(V,ee="")=>!V||!V.trim()?x.jsx("div",{className:`bg-gray-100 rounded-lg flex items-center justify-center ${ee}`,children:x.jsx(jc,{className:"w-4 h-4 text-gray-400"})}):x.jsx("div",{className:`bg-cover bg-center rounded-lg ${ee}`,style:{backgroundImage:`url(${V})`},children:x.jsx("div",{className:"w-full h-full bg-black bg-opacity-10 rounded-lg"})});switch(q){case 1:return x.jsx("div",{className:"w-full h-32",children:M(W[0],"w-full h-full")});case 2:return x.jsxs("div",{className:"grid grid-cols-2 gap-2 h-32",children:[M(W[0],"w-full h-full"),M(W[1],"w-full h-full")]});case 3:return x.jsxs("div",{className:"grid grid-cols-3 gap-2 h-32",children:[M(W[0],"w-full h-full"),M(W[1],"w-full h-full"),M(W[2],"w-full h-full")]});case 4:return x.jsxs("div",{className:"grid grid-cols-4 gap-2 h-32",children:[M(W[0],"w-full h-full"),M(W[1],"w-full h-full"),M(W[2],"w-full h-full"),M(W[3],"w-full h-full")]});default:return null}},J=(q,W)=>{const ce=W.filter(he=>he&&he.trim());if(ce.length===0)return x.jsx("div",{className:"w-full h-full bg-gray-100 rounded-lg flex items-center justify-center",children:x.jsx(jc,{className:"w-16 h-16 text-gray-400"})});const M=(he,Re="")=>x.jsx("div",{className:`bg-cover bg-center rounded-lg ${Re}`,style:{backgroundImage:he?`url(${he})`:"none"},children:x.jsx("div",{className:"w-full h-full bg-black bg-opacity-20 rounded-lg"})},he),V=(he,Re)=>{switch(he){case 1:return"grid-cols-1";case 2:return"grid-cols-2";case 3:return"grid-cols-3";case 4:return"grid-cols-4";default:return"grid-cols-1"}},ee=(he,Re)=>"",te=Math.min(ce.length,4),se=ce.slice(0,te);return x.jsx("div",{className:`w-full h-full grid gap-4 ${V(q)}`,children:se.map((he,Re)=>M(he,ee()))})};return n?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"spinner"})}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Project References"}),x.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Drag and drop projects to reorder them"})]}),x.jsxs("button",{onClick:()=>{u(!0),a(null)},className:"bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700 flex items-center space-x-2",children:[x.jsx(Ji,{className:"w-5 h-5"}),x.jsx("span",{children:"Add Project"})]})]}),s&&x.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(q=>x.jsxs("div",{className:`bg-white rounded-lg shadow p-6 cursor-move transition-all duration-200 hover:shadow-lg hover:scale-105 ${S?.id===q.id?"opacity-50 scale-95 shadow-2xl":""}`,draggable:!0,onDragStart:W=>ge(W,q),onDragOver:me,onDragEnd:xe,onDrop:W=>Ne(W,q),children:[L(q.layout_type||1,q.project_image||[]),x.jsxs("div",{className:"mt-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:q.project_name}),x.jsxs("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["#",q.position]})]}),x.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[x.jsxs("p",{children:[x.jsx("span",{className:"font-medium",children:"Location:"})," ",q.location]}),x.jsxs("p",{children:[x.jsx("span",{className:"font-medium",children:"Date:"})," ",q.date_time]}),x.jsxs("p",{children:[x.jsx("span",{className:"font-medium",children:"Layout:"})," ",T[q.layout_type||1]?.name]}),x.jsxs("p",{children:[x.jsx("span",{className:"font-medium",children:"Position:"})," ",q.position||"Not set"]})]})]}),x.jsxs("div",{className:"flex items-center justify-between mt-4",children:[x.jsx("div",{className:"text-xs text-gray-500",children:"Drag to reorder"}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>ae(q),className:`${q.is_favorite?"text-red-600 hover:text-red-700":"text-gray-400 hover:text-red-600"} transition-colors`,title:q.is_favorite?"Remove from favorites":"Add to favorites",children:q.is_favorite?x.jsx(UA,{className:"w-5 h-5"}):x.jsx(SA,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>ne(q),className:"text-green-600 hover:text-green-900",title:"Preview",children:x.jsx(Vv,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>Y(q),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:x.jsx(cl,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>I(q.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:x.jsx(ts,{className:"w-5 h-5"})})]})]})]},q.id))}),c&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-4/5 max-w-4xl shadow-lg rounded-md bg-white",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:b?"Edit Project Reference":"Add Project Reference"}),x.jsxs("form",{onSubmit:P,className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Name *"}),x.jsx("input",{type:"text",value:C.project_name,onChange:q=>k({...C,project_name:q.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("input",{type:"text",value:C.location,onChange:q=>k({...C,location:q.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"e.g., Chonburi, Thailand",required:!0}),x.jsxs("div",{className:"text-xs text-gray-500",children:[x.jsx("p",{className:"font-medium mb-1",children:"Format examples:"}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsx("button",{type:"button",onClick:()=>k({...C,location:"Chiang Mai, Thailand"}),className:"text-left text-cyan-600 hover:text-cyan-800",children:"• Chiang Mai, Thailand"}),x.jsx("button",{type:"button",onClick:()=>k({...C,location:"Bangkok, Thailand"}),className:"text-left text-cyan-600 hover:text-cyan-800",children:"• Bangkok, Thailand"}),x.jsx("button",{type:"button",onClick:()=>k({...C,location:"Phuket, Thailand"}),className:"text-left text-cyan-600 hover:text-cyan-800",children:"• Phuket, Thailand"}),x.jsx("button",{type:"button",onClick:()=>k({...C,location:"Chonburi, Thailand"}),className:"text-left text-cyan-600 hover:text-cyan-800",children:"• Chonburi, Thailand"})]})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Area *"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("input",{type:"text",value:C.site_area,onChange:q=>k({...C,site_area:q.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"e.g., 15000 SQ.M",required:!0}),x.jsxs("div",{className:"text-xs text-gray-500",children:[x.jsx("p",{className:"font-medium mb-1",children:"Format examples:"}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsx("button",{type:"button",onClick:()=>k({...C,site_area:"15000 SQ.M"}),className:"text-left text-cyan-600 hover:text-cyan-800",children:"• 15000 SQ.M"}),x.jsx("button",{type:"button",onClick:()=>k({...C,site_area:"25000 SQ.M"}),className:"text-left text-cyan-600 hover:text-cyan-800",children:"• 25000 SQ.M"})]})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date/Time *"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("input",{type:"text",value:C.date_time,onChange:q=>k({...C,date_time:q.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"e.g., July 2024, March 2023, Q1 2024",required:!0}),x.jsxs("div",{className:"text-xs text-gray-500",children:[x.jsx("p",{className:"font-medium mb-1",children:"Format examples:"}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsx("button",{type:"button",onClick:()=>k({...C,date_time:"January 2024"}),className:"text-left text-cyan-600 hover:text-cyan-800",children:"• January 2024"}),x.jsx("button",{type:"button",onClick:()=>k({...C,date_time:"Q1 2024"}),className:"text-left text-cyan-600 hover:text-cyan-800",children:"• Q1 2024"})]})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contractor"}),x.jsx("input",{type:"text",value:C.contractor,onChange:q=>k({...C,contractor:q.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Position"}),x.jsx("p",{className:"w-full p-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:b?b.position:t.length+1})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Layout Type *"}),x.jsx("select",{value:C.layout_type,onChange:q=>k({...C,layout_type:parseInt(q.target.value)}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:Object.entries(T).map(([q,W])=>x.jsxs("option",{value:q,children:[W.name," - ",W.description]},q))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Layout Preview"}),x.jsx("div",{className:"border border-gray-300 rounded-lg p-4",children:L(C.layout_type,C.project_image)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Images"}),x.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"💡 Upload high-quality images for the selected layout. The first image is the main featured image."}),x.jsx("div",{className:"space-y-3",children:T[C.layout_type].positions.map((q,W)=>x.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[x.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:[q," ",W===0?"(Primary Featured Image)":`(Image ${W+1})`]}),x.jsx("p",{className:"text-xs text-gray-500 mb-2",children:T[C.layout_type].positionDescriptions[W]}),x.jsx("input",{type:"file",accept:"image/*",onChange:ce=>Q(ce,W),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm"}),C.project_image[W]&&x.jsxs("div",{className:"mt-2 relative",children:[x.jsx("img",{src:C.project_image[W],alt:`Preview ${W+1}`,className:"w-16 h-12 object-cover rounded border"}),x.jsx("button",{type:"button",onClick:()=>re(W),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]})]},W))})]})]})]}),x.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[x.jsx("button",{type:"button",onClick:()=>{u(!1),F()},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),x.jsxs("button",{type:"submit",className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700",children:[b?"Update":"Create"," Project"]})]})]})]})}),d&&m&&x.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 overflow-y-auto h-full w-full z-50",children:x.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-6xl shadow-lg rounded-md bg-white",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Preview: ",m.project_name]}),x.jsx("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),x.jsxs("div",{className:"relative bg-white rounded-lg",style:{height:"500px"},children:[x.jsx("div",{className:"absolute top-8 left-1/2 transform -translate-x-1/2 z-10",children:x.jsx("h1",{className:"text-black text-2xl font-bold text-center",children:m.project_name})}),x.jsx("div",{className:"absolute inset-0 top-16 bottom-0 p-4",children:J(m.layout_type||1,m.project_image||[])})]})]})})]})},IA=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[s,a]=A.useState(null),[c,u]=A.useState(!1),[d,h]=A.useState(null),[m,y]=A.useState({news_title:"",content:"",keyword:[],news_image:[]});A.useEffect(()=>{b()},[]);const b=async()=>{try{r(!0);const T=await De.news.getAll();e(T.data)}catch{a("Failed to fetch news")}finally{r(!1)}},v=async T=>{T.preventDefault();const j=m.content.trim().split(/\s+/).filter(P=>P.length>0).length;if(j>250){alert("Content cannot exceed 250 words. Current count: "+j);return}try{const P={...m,content:m.content?[{type:"paragraph",children:[{text:m.content}]}]:[]};d?await De.news.update(d.id,P):await De.news.create(P),u(!1),y({news_title:"",content:"",keyword:[],news_image:[]}),h(null),b()}catch{a("Failed to save news")}},S=T=>{h(T),y({news_title:T.news_title,content:Array.isArray(T.content)?T.content.map(j=>j.children?.map(P=>P.text).join("")||"").join(" "):typeof T.content=="string"?T.content:"",keyword:T.keyword||[],news_image:T.news_image||[]}),u(!0)},E=async T=>{if(window.confirm("Are you sure you want to delete this news article?"))try{await De.news.delete(T),b()}catch{a("Failed to delete news")}},C=T=>{const P=Array.from(T.target.files).map(F=>new Promise(Y=>{const I=new FileReader;I.onload=ne=>Y(ne.target.result),I.readAsDataURL(F)}));Promise.all(P).then(F=>{y(Y=>({...Y,news_image:[...Y.news_image,...F]}))})},k=T=>{y(j=>({...j,news_image:j.news_image.filter((P,F)=>F!==T)}))};return n?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"spinner"})}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"News & Articles"}),x.jsxs("button",{onClick:()=>u(!0),className:"bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700 flex items-center space-x-2",children:[x.jsx(Ji,{className:"w-5 h-5"}),x.jsx("span",{children:"Add News"})]})]}),s&&x.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s}),x.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Images"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Keywords"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(T=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.news_title}),x.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:Array.isArray(T.content)?T.content.map(j=>j.children?.map(P=>P.text).join("")||"").join(" ").slice(0,100)+(T.content.map(j=>j.children?.map(P=>P.text).join("")||"").join(" ").length>100?"...":""):(T.content||"").slice(0,100)+((T.content||"").length>100?"...":"")})]})}),x.jsx("td",{className:"px-6 py-4",children:T.news_image&&T.news_image.length>0?x.jsxs("div",{className:"flex space-x-1",children:[T.news_image.slice(0,3).map((j,P)=>x.jsx("img",{src:j,alt:`News ${P+1}`,className:"w-10 h-10 object-cover rounded border"},P)),T.news_image.length>3&&x.jsxs("span",{className:"text-xs text-gray-500 self-center",children:["+",T.news_image.length-3]})]}):x.jsx("span",{className:"text-gray-400 text-sm",children:"No images"})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:T.keyword.join(", ")||"N/A"})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T&&T.created_at?(()=>{try{const j=new Date(T.created_at);return isNaN(j.getTime())?"Unknown":j.toLocaleDateString()}catch{return"Unknown"}})():"Unknown"}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[x.jsx("button",{onClick:()=>S(T),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:x.jsx(cl,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>E(T.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:x.jsx(ts,{className:"w-5 h-5"})})]})]},T.id))})]})}),c&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:d?"Edit News":"Add News"}),x.jsxs("form",{onSubmit:v,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",x.jsxs("span",{className:"text-xs text-gray-500",children:["(",m.news_title.length,"/25)"]})]}),x.jsx("input",{type:"text",value:m.news_title,onChange:T=>y({...m,news_title:T.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",maxLength:"25",required:!0})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Content ",x.jsxs("span",{className:"text-xs text-gray-500",children:["(",m.content.trim().split(/\s+/).filter(T=>T.length>0).length,"/250 words)"]})]}),x.jsx("textarea",{value:m.content,onChange:T=>{const j=T.target.value;j.trim().split(/\s+/).filter(F=>F.length>0).length<=250&&y({...m,content:j})},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",rows:"8",placeholder:"Enter news content...",required:!0})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Keywords ",x.jsxs("span",{className:"text-xs text-gray-500",children:["(",m.keyword.join(", ").length,"/20)"]})]}),x.jsx("input",{type:"text",value:m.keyword.join(", "),onChange:T=>y({...m,keyword:T.target.value.split(",").map(j=>j.trim())}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",maxLength:"20",placeholder:"e.g., Technology, Engineering"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images"}),x.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:C,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),m.news_image.length>0&&x.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:m.news_image.map((T,j)=>x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:T,alt:`Upload ${j+1}`,className:"w-20 h-20 object-cover rounded-lg border"}),x.jsx("button",{type:"button",onClick:()=>k(j),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},j))})]}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{type:"submit",className:"bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700",children:d?"Update":"Create"}),x.jsx("button",{type:"button",onClick:()=>{u(!1),h(null),y({news_title:"",content:"",keyword:[],news_image:[]})},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]})})]})},qA=()=>{const t=Ha(),[e,n]=A.useState([]),[r,s]=A.useState(!0),[a,c]=A.useState(null),u=m=>{if(m.content_html){const y=document.createElement("div");y.innerHTML=m.content_html;const b=y.textContent||y.innerText||"";return b.slice(0,100)+(b.length>100?"...":"")}if(m.content&&m.content.content&&Array.isArray(m.content.content)){const y=m.content.content.map(b=>b.children?.map(v=>v.text).join("")||"").join(" ");return y.slice(0,100)+(y.length>100?"...":"")}return"No content available"};A.useEffect(()=>{d()},[]);const d=async()=>{try{s(!0);const m=await De.articles.getAll();n(m.data)}catch{c("Failed to fetch articles")}finally{s(!1)}},h=async m=>{if(window.confirm("Are you sure you want to delete this article?"))try{await De.articles.delete(m),d()}catch{c("Failed to delete article")}};return r?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"spinner"})}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Articles"}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsxs("button",{onClick:()=>t("/articles/upload"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center space-x-2",children:[x.jsx(Ji,{className:"w-5 h-5"}),x.jsx("span",{children:"Upload HTML"})]}),x.jsxs("button",{onClick:()=>t("/articles/edit/new"),className:"bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700 flex items-center space-x-2",children:[x.jsx(Ji,{className:"w-5 h-5"}),x.jsx("span",{children:"Add Article"})]})]})]}),a&&x.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:a}),x.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Images"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(m=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.article_title}),x.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:u(m)})]})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:m.category||"Uncategorized"})}),x.jsx("td",{className:"px-6 py-4",children:m.article_image&&m.article_image.length>0?x.jsxs("div",{className:"flex space-x-1",children:[m.article_image.slice(0,3).map((y,b)=>x.jsx("img",{src:y,alt:`Article ${b+1}`,className:"w-10 h-10 object-cover rounded border"},b)),m.article_image.length>3&&x.jsxs("span",{className:"text-xs text-gray-500 self-center",children:["+",m.article_image.length-3]})]}):x.jsx("span",{className:"text-gray-400 text-sm",children:"No images"})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(m.created_at).toLocaleDateString()}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[x.jsx("button",{onClick:()=>t(`/articles/edit/${m.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:x.jsx(cl,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>h(m.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:x.jsx(ts,{className:"w-5 h-5"})})]})]},m.id))})]})})]})};var Mh={exports:{}},Oh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function PA(){if(N1)return Oh;N1=1;var t=La();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function u(y,b){var v=b(),S=r({inst:{value:v,getSnapshot:b}}),E=S[0].inst,C=S[1];return a(function(){E.value=v,E.getSnapshot=b,d(E)&&C({inst:E})},[y,v,b]),s(function(){return d(E)&&C({inst:E}),y(function(){d(E)&&C({inst:E})})},[y]),c(v),v}function d(y){var b=y.getSnapshot;y=y.value;try{var v=b();return!n(y,v)}catch{return!0}}function h(y,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Oh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Oh}var T1;function Iv(){return T1||(T1=1,Mh.exports=PA()),Mh.exports}var qv=Iv();function Tt(t){this.content=t}Tt.prototype={constructor:Tt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),a=r.content.slice();return s==-1?a.push(n||t,e):(a[s+1]=e,n&&(a[s]=n)),new Tt(a)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Tt(n)},addToStart:function(t,e){return new Tt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Tt(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),a=r.find(t);return s.splice(a==-1?s.length:a,0,e,n),new Tt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Tt.from(t),t.size?new Tt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Tt.from(t),t.size?new Tt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Tt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Tt.from=function(t){if(t instanceof Tt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Tt(e)};function Pv(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),a=e.child(r);if(s==a){n+=s.nodeSize;continue}if(!s.sameMarkup(a))return n;if(s.isText&&s.text!=a.text){for(let c=0;s.text[c]==a.text[c];c++)n++;return n}if(s.content.size||a.content.size){let c=Pv(s.content,a.content,n+1);if(c!=null)return c}n+=s.nodeSize}}function Fv(t,e,n,r){for(let s=t.childCount,a=e.childCount;;){if(s==0||a==0)return s==a?null:{a:n,b:r};let c=t.child(--s),u=e.child(--a),d=c.nodeSize;if(c==u){n-=d,r-=d;continue}if(!c.sameMarkup(u))return{a:n,b:r};if(c.isText&&c.text!=u.text){let h=0,m=Math.min(c.text.length,u.text.length);for(;h<m&&c.text[c.text.length-h-1]==u.text[u.text.length-h-1];)h++,n--,r--;return{a:n,b:r}}if(c.content.size||u.content.size){let h=Fv(c.content,u.content,n-1,r-1);if(h)return h}n-=d,r-=d}}class X{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,a){for(let c=0,u=0;u<n;c++){let d=this.content[c],h=u+d.nodeSize;if(h>e&&r(d,s+u,a||null,c)!==!1&&d.content.size){let m=u+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,n-m),r,s+m)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let a="",c=!0;return this.nodesBetween(e,n,(u,d)=>{let h=u.isText?u.text.slice(Math.max(e,d)-d,n-d):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&r&&(c?c=!1:a+=r),a+=h},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),a=1);a<e.content.length;a++)s.push(e.content[a]);return new X(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let a=0,c=0;c<n;a++){let u=this.content[a],d=c+u.nodeSize;d>e&&((c<e||d>n)&&(u.isText?u=u.cut(Math.max(0,e-c),Math.min(u.text.length,n-c)):u=u.cut(Math.max(0,e-c-1),Math.min(u.content.size,n-c-1))),r.push(u),s+=u.nodeSize),c=d}return new X(r,s)}cutByIndex(e,n){return e==n?X.empty:e==0&&n==this.content.length?this:new X(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),a=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new X(s,a)}addToStart(e){return new X([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new X(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return Pv(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return Fv(this,e,n,r)}findIndex(e){if(e==0)return gc(0,e);if(e==this.size)return gc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),a=r+s.nodeSize;if(a>=e)return a==e?gc(n+1,a):gc(n,r);r=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return X.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new X(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return X.empty;let n,r=0;for(let s=0;s<e.length;s++){let a=e[s];r+=a.nodeSize,s&&a.isText&&e[s-1].sameMarkup(a)?(n||(n=e.slice(0,s)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new X(n||e,r)}static from(e){if(!e)return X.empty;if(e instanceof X)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new X([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}X.empty=new X([],0);const Rh={index:0,offset:0};function gc(t,e){return Rh.index=t,Rh.offset=e,Rh}function Pc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Pc(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Pc(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Fe=class mp{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let a=e[s];if(this.eq(a))return e;if(this.type.excludes(a.type))n||(n=e.slice(0,s));else{if(a.type.excludes(this.type))return e;!r&&a.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(a)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Pc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return mp.none;if(e instanceof mp)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};Fe.none=[];class Fc extends Error{}class ie{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=Kv(this.content,e+this.openStart,n);return r&&new ie(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ie($v(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ie.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ie(X.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let a=e.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)r++;for(let a=e.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)s++;return new ie(e,r,s)}}ie.empty=new ie(X.empty,0,0);function $v(t,e,n){let{index:r,offset:s}=t.findIndex(e),a=t.maybeChild(r),{index:c,offset:u}=t.findIndex(n);if(s==e||a.isText){if(u!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(r,a.copy($v(a.content,e-s-1,n-s-1)))}function Kv(t,e,n,r){let{index:s,offset:a}=t.findIndex(e),c=t.maybeChild(s);if(a==e||c.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let u=Kv(c.content,e-a-1,n,c);return u&&t.replaceChild(s,c.copy(u))}function FA(t,e,n){if(n.openStart>t.depth)throw new Fc("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Fc("Inconsistent open depths");return Gv(t,e,n,0)}function Gv(t,e,n,r){let s=t.index(r),a=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let c=Gv(t,e,n,r+1);return a.copy(a.content.replaceChild(s,c))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let c=t.parent,u=c.content;return Fi(c,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:c,end:u}=$A(n,t);return Fi(a,Jv(t,c,u,e,r))}else return Fi(a,$c(t,e,r))}function Yv(t,e){if(!e.type.compatibleContent(t.type))throw new Fc("Cannot join "+e.type.name+" onto "+t.type.name)}function gp(t,e,n){let r=t.node(n);return Yv(r,e.node(n)),r}function Pi(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function pa(t,e,n,r){let s=(e||t).node(n),a=0,c=e?e.index(n):s.childCount;t&&(a=t.index(n),t.depth>n?a++:t.textOffset&&(Pi(t.nodeAfter,r),a++));for(let u=a;u<c;u++)Pi(s.child(u),r);e&&e.depth==n&&e.textOffset&&Pi(e.nodeBefore,r)}function Fi(t,e){return t.type.checkContent(e),t.copy(e)}function Jv(t,e,n,r,s){let a=t.depth>s&&gp(t,e,s+1),c=r.depth>s&&gp(n,r,s+1),u=[];return pa(null,t,s,u),a&&c&&e.index(s)==n.index(s)?(Yv(a,c),Pi(Fi(a,Jv(t,e,n,r,s+1)),u)):(a&&Pi(Fi(a,$c(t,e,s+1)),u),pa(e,n,s,u),c&&Pi(Fi(c,$c(n,r,s+1)),u)),pa(r,null,s,u),new X(u)}function $c(t,e,n){let r=[];if(pa(null,t,n,r),t.depth>n){let s=gp(t,e,n+1);Pi(Fi(s,$c(t,e,n+1)),r)}return pa(e,null,n,r),new X(r)}function $A(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let a=n-1;a>=0;a--)s=e.node(a).copy(X.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Na{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let a=0;a<e;a++)s+=r.child(a).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Fe.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let u=r;r=s,s=u}let a=r.marks;for(var c=0;c<a.length;c++)a[c].type.spec.inclusive===!1&&(!s||!a[c].isInSet(s.marks))&&(a=a[c--].removeFromSet(a));return a}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var a=0;a<r.length;a++)r[a].type.spec.inclusive===!1&&(!s||!r[a].isInSet(s.marks))&&(r=r[a--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Kc(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,a=n;for(let c=e;;){let{index:u,offset:d}=c.content.findIndex(a),h=a-d;if(r.push(c,u,s+d),!h||(c=c.child(u),c.isText))break;a=h-1,s+=d+1}return new Na(n,r,a)}static resolveCached(e,n){let r=k1.get(e);if(r)for(let a=0;a<r.elts.length;a++){let c=r.elts[a];if(c.pos==n)return c}else k1.set(e,r=new KA);let s=r.elts[r.i]=Na.resolve(e,n);return r.i=(r.i+1)%GA,s}}class KA{constructor(){this.elts=[],this.i=0}}const GA=12,k1=new WeakMap;class Kc{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const YA=Object.create(null);class _n{constructor(e,n,r,s=Fe.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||X.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Pc(this.attrs,n||e.defaultAttrs||YA)&&Fe.sameSet(this.marks,r||Fe.none)}copy(e=null){return e==this.content?this:new _n(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new _n(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ie.empty;let s=this.resolve(e),a=this.resolve(n),c=r?0:s.sharedDepth(n),u=s.start(c),h=s.node(c).content.cut(s.pos-u,a.pos-u);return new ie(h,s.depth-c,a.depth-c)}replace(e,n,r){return FA(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Na.resolveCached(this,e)}resolveNoCache(e){return Na.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,a=>(r.isInSet(a.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Xv(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=X.empty,s=0,a=r.childCount){let c=this.contentMatchAt(e).matchFragment(r,s,a),u=c&&c.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let d=s;d<a;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let a=this.contentMatchAt(e).matchType(r),c=a&&a.matchFragment(this.content,n);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Fe.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Fe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=X.fromJSON(e,n.content),a=e.nodeType(n.type).create(n.attrs,s,r);return a.type.checkAttrs(a.attrs),a}}_n.prototype.text=void 0;class Gc extends _n{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Xv(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Gc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Gc(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Xv(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Xi{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new JA(e,n);if(r.next==null)return Xi.empty;let s=Qv(r);r.next&&r.err("Unexpected trailing text");let a=nM(tM(s));return rM(a,r),a}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let a=n;s&&a<r;a++)s=s.matchType(e.child(a).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function a(c,u){let d=c.matchFragment(e,r);if(d&&(!n||d.validEnd))return X.from(u.map(h=>h.createAndFill()));for(let h=0;h<c.next.length;h++){let{type:m,next:y}=c.next[h];if(!(m.isText||m.hasRequiredAttrs())&&s.indexOf(y)==-1){s.push(y);let b=a(y,u.concat(m));if(b)return b}}return null}return a(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),a=s.match;if(a.matchType(e)){let c=[];for(let u=s;u.type;u=u.via)c.push(u.type);return c.reverse()}for(let c=0;c<a.next.length;c++){let{type:u,next:d}=a.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!s.type||d.validEnd)&&(r.push({match:u.contentMatch,type:u,via:s}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let a=s+(r.validEnd?"*":" ")+" ";for(let c=0;c<r.next.length;c++)a+=(c?", ":"")+r.next[c].type.name+"->"+e.indexOf(r.next[c].next);return a}).join(`
`)}}Xi.empty=new Xi(!0);class JA{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Qv(t){let e=[];do e.push(XA(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function XA(t){let e=[];do e.push(QA(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function QA(t){let e=eM(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=ZA(t,e);else break;return e}function A1(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function ZA(t,e){let n=A1(t),r=n;return t.eat(",")&&(t.next!="}"?r=A1(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function WA(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let a in n){let c=n[a];c.isInGroup(e)&&s.push(c)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function eM(t){if(t.eat("(")){let e=Qv(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=WA(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function tM(t){let e=[[]];return s(a(t,0),n()),e;function n(){return e.push([])-1}function r(c,u,d){let h={term:d,to:u};return e[c].push(h),h}function s(c,u){c.forEach(d=>d.to=u)}function a(c,u){if(c.type=="choice")return c.exprs.reduce((d,h)=>d.concat(a(h,u)),[]);if(c.type=="seq")for(let d=0;;d++){let h=a(c.exprs[d],u);if(d==c.exprs.length-1)return h;s(h,u=n())}else if(c.type=="star"){let d=n();return r(u,d),s(a(c.expr,d),d),[r(d)]}else if(c.type=="plus"){let d=n();return s(a(c.expr,u),d),s(a(c.expr,d),d),[r(d)]}else{if(c.type=="opt")return[r(u)].concat(a(c.expr,u));if(c.type=="range"){let d=u;for(let h=0;h<c.min;h++){let m=n();s(a(c.expr,d),m),d=m}if(c.max==-1)s(a(c.expr,d),d);else for(let h=c.min;h<c.max;h++){let m=n();r(d,m),s(a(c.expr,d),m),d=m}return[r(d)]}else{if(c.type=="name")return[r(u,void 0,c.value)];throw new Error("Unknown expr type")}}}}function Zv(t,e){return e-t}function M1(t,e){let n=[];return r(e),n.sort(Zv);function r(s){let a=t[s];if(a.length==1&&!a[0].term)return r(a[0].to);n.push(s);for(let c=0;c<a.length;c++){let{term:u,to:d}=a[c];!u&&n.indexOf(d)==-1&&r(d)}}}function nM(t){let e=Object.create(null);return n(M1(t,0));function n(r){let s=[];r.forEach(c=>{t[c].forEach(({term:u,to:d})=>{if(!u)return;let h;for(let m=0;m<s.length;m++)s[m][0]==u&&(h=s[m][1]);M1(t,d).forEach(m=>{h||s.push([u,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let a=e[r.join(",")]=new Xi(r.indexOf(t.length-1)>-1);for(let c=0;c<s.length;c++){let u=s[c][1].sort(Zv);a.next.push({type:s[c][0],next:e[u.join(",")]||n(u)})}return a}}function rM(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],a=!s.validEnd,c=[];for(let u=0;u<s.next.length;u++){let{type:d,next:h}=s.next[u];c.push(d.name),a&&!(d.isText||d.hasRequiredAttrs())&&(a=!1),r.indexOf(h)==-1&&r.push(h)}a&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Wv(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function eS(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let a=t[r];if(a.hasDefault)s=a.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function tS(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let a=t[s];a.validate&&a.validate(e[s])}}function nS(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new sM(t,r,e[r]);return n}let O1=class rS{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=nS(e,r.attrs),this.defaultAttrs=Wv(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Xi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:eS(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new _n(this,this.computeAttrs(e),X.from(n),Fe.setFrom(r))}createChecked(e=null,n,r){return n=X.from(n),this.checkContent(n),new _n(this,this.computeAttrs(e),n,Fe.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=X.from(n),n.size){let c=this.contentMatch.fillBefore(n);if(!c)return null;n=c.append(n)}let s=this.contentMatch.matchFragment(n),a=s&&s.fillBefore(X.empty,!0);return a?new _n(this,e,n.append(a),Fe.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){tS(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Fe.none:e}static compile(e,n){let r=Object.create(null);e.forEach((a,c)=>r[a]=new rS(a,n,c));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let a in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function iM(t,e,n){let r=n.split("|");return s=>{let a=s===null?"null":typeof s;if(r.indexOf(a)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${a}`)}}class sM{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?iM(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Hu{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=nS(e,s.attrs),this.excluded=null;let a=Wv(this.attrs);this.instance=a?new Fe(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Fe(this,eS(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((a,c)=>r[a]=new Hu(a,s++,n,c)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){tS(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class iS{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Tt.from(e.nodes),n.marks=Tt.from(e.marks||{}),this.nodes=O1.compile(this.spec.nodes,this),this.marks=Hu.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let a=this.nodes[s],c=a.spec.content||"",u=a.spec.marks;if(a.contentMatch=r[c]||(r[c]=Xi.parse(c,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=u=="_"?null:u?R1(this,u.split(" ")):u==""||!a.inlineContent?[]:null}for(let s in this.marks){let a=this.marks[s],c=a.spec.excludes;a.excluded=c==null?[a]:c==""?[]:R1(this,c.split(" "))}this.nodeFromJSON=s=>_n.fromJSON(this,s),this.markFromJSON=s=>Fe.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof O1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Gc(r,r.defaultAttrs,e,Fe.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function R1(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],a=t.marks[s],c=a;if(a)n.push(a);else for(let u in t.marks){let d=t.marks[u];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&n.push(c=d)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function lM(t){return t.tag!=null}function aM(t){return t.style!=null}class ai{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(lM(s))this.tags.push(s);else if(aM(s)){let a=/[^=]*/.exec(s.style)[0];r.indexOf(a)<0&&r.push(a),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let a=e.nodes[s.node];return a.contentMatch.matchType(a)})}parse(e,n={}){let r=new D1(this,n,!1);return r.addAll(e,Fe.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new D1(this,n,!0);return r.addAll(e,Fe.none,n.from,n.to),ie.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let a=this.tags[s];if(uM(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let c=a.getAttrs(e);if(c===!1)continue;a.attrs=c||void 0}return a}}}matchStyle(e,n,r,s){for(let a=s?this.styles.indexOf(s)+1:0;a<this.styles.length;a++){let c=this.styles[a],u=c.style;if(!(u.indexOf(e)!=0||c.context&&!r.matchesContext(c.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(c.getAttrs){let d=c.getAttrs(n);if(d===!1)continue;c.attrs=d||void 0}return c}}}static schemaRules(e){let n=[];function r(s){let a=s.priority==null?50:s.priority,c=0;for(;c<n.length;c++){let u=n[c];if((u.priority==null?50:u.priority)<a)break}n.splice(c,0,s)}for(let s in e.marks){let a=e.marks[s].spec.parseDOM;a&&a.forEach(c=>{r(c=_1(c)),c.mark||c.ignore||c.clearMark||(c.mark=s)})}for(let s in e.nodes){let a=e.nodes[s].spec.parseDOM;a&&a.forEach(c=>{r(c=_1(c)),c.node||c.ignore||c.mark||(c.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ai(e,ai.schemaRules(e)))}}const sS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},oM={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},lS={ol:!0,ul:!0},Ta=1,yp=2,ma=4;function j1(t,e,n){return e!=null?(e?Ta:0)|(e==="full"?yp:0):t&&t.whitespace=="pre"?Ta|yp:n&~ma}class yc{constructor(e,n,r,s,a,c){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=c,this.content=[],this.activeMarks=Fe.none,this.match=a||(c&ma?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(X.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ta)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let a=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-s[0].length))}}let n=X.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(X.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!sS.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class D1{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,a,c=j1(null,n.preserveWhitespace,0)|(r?ma:0);s?a=new yc(s.type,s.attrs,Fe.none,!0,n.topMatch||s.type.contentMatch,c):r?a=new yc(null,null,Fe.none,!0,null,c):a=new yc(e.schema.topNodeType,null,Fe.none,!0,null,c),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,a=s.options&yp?"full":this.localPreserveWS||(s.options&Ta)>0;if(a==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(a)a!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let c=s.content[s.content.length-1],u=e.previousSibling;(!c||u&&u.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),u;lS.hasOwnProperty(c)&&this.parser.normalizeLists&&cM(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(d?d.ignore:oM.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(sS.hasOwnProperty(c))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),h=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let y=d&&d.skip?n:this.readStyles(e,n);y&&this.addAll(e,y),h&&this.sync(a),this.needsBlock=m}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,d,h,d.consuming===!1?u:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let a=this.parser.matchedStyles[s],c=r.getPropertyValue(a);if(c)for(let u=void 0;;){let d=this.parser.matchStyle(a,c,this,u);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(h=>!d.clearMark(h)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)u=d;else break}}return n}addElementByRule(e,n,r,s){let a,c;if(n.node)if(c=this.parser.schema.nodes[n.node],c.isLeaf)this.insertNode(c.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(c,n.attrs||null,r,n.preserveWhitespace);d&&(a=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let u=this.top;if(c&&c.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}a&&this.sync(u)&&this.open--}addAll(e,n,r,s){let a=r||0;for(let c=r?e.childNodes[r]:e.firstChild,u=s==null?null:e.childNodes[s];c!=u;c=c.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(c,n);this.findAtPoint(e,a)}findPlace(e,n,r){let s,a;for(let c=this.open,u=0;c>=0;c--){let d=this.nodes[c],h=d.findWrapping(e);if(h&&(!s||s.length>h.length+u)&&(s=h,a=d,!h.length))break;if(d.solid){if(r)break;u+=2}}if(!s)return null;this.sync(a);for(let c=0;c<s.length;c++)n=this.enterInner(s[c],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(n=this.enterInner(a,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let c=Fe.none;for(let u of s.concat(e.marks))(a.type?a.type.allowsMarkType(u.type):z1(u.type,e.type))&&(c=u.addToSet(c));return a.content.push(e.mark(c)),!0}return!1}enter(e,n,r,s){let a=this.findPlace(e.create(n),r,!1);return a&&(a=this.enterInner(e,n,r,!0,s)),a}enterInner(e,n,r,s=!1,a){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let u=j1(e,a,c.options);c.options&ma&&c.content.length==0&&(u|=ma);let d=Fe.none;return r=r.filter(h=>(c.type?c.type.allowsMarkType(h.type):z1(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new yc(e,n,d,s,null,u)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ta)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),a=-(r?r.depth+1:0)+(s?0:1),c=(u,d)=>{for(;u>=0;u--){let h=n[u];if(h==""){if(u==n.length-1||u==0)continue;for(;d>=a;d--)if(c(u-1,d))return!0;return!1}else{let m=d>0||d==0&&s?this.nodes[d].type:r&&d>=a?r.node(d-a).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return c(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function cM(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&lS.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function uM(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function _1(t){let e={};for(let n in t)e[n]=t[n];return e}function z1(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let a=[],c=u=>{a.push(u);for(let d=0;d<u.edgeCount;d++){let{type:h,next:m}=u.edge(d);if(h==e||a.indexOf(m)<0&&c(m))return!0}};if(c(s.contentMatch))return!0}}class ns{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=jh(n).createDocumentFragment());let s=r,a=[];return e.forEach(c=>{if(a.length||c.marks.length){let u=0,d=0;for(;u<a.length&&d<c.marks.length;){let h=c.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(a[u][0])||h.type.spec.spanning===!1)break;u++,d++}for(;u<a.length;)s=a.pop()[1];for(;d<c.marks.length;){let h=c.marks[d++],m=this.serializeMark(h,c.isInline,n);m&&(a.push([h,s]),s.appendChild(m.dom),s=m.contentDOM||m.dom)}}s.appendChild(this.serializeNodeInner(c,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Dc(jh(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let a=this.serializeMark(e.marks[s],e.isInline,n);a&&((a.contentDOM||a.dom).appendChild(r),r=a.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Dc(jh(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return Dc(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ns(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=L1(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return L1(e.marks)}}function L1(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function jh(t){return t.document||window.document}const B1=new WeakMap;function fM(t){let e=B1.get(t);return e===void 0&&B1.set(t,e=dM(t)),e}function dM(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function Dc(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],a;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(a=fM(r))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=s.indexOf(" ");c>0&&(n=s.slice(0,c),s=s.slice(c+1));let u,d=n?t.createElementNS(n,s):t.createElement(s),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let y in h)if(h[y]!=null){let b=y.indexOf(" ");b>0?d.setAttributeNS(y.slice(0,b),y.slice(b+1),h[y]):y=="style"&&d.style?d.style.cssText=h[y]:d.setAttribute(y,h[y])}}for(let y=m;y<e.length;y++){let b=e[y];if(b===0){if(y<e.length-1||y>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:S}=Dc(t,b,n,r);if(d.appendChild(v),S){if(u)throw new RangeError("Multiple content holes");u=S}}}return{dom:d,contentDOM:u}}const aS=65535,oS=Math.pow(2,16);function hM(t,e){return t+e*oS}function H1(t){return t&aS}function pM(t){return(t-(t&aS))/oS}const cS=1,uS=2,_c=4,fS=8;class bp{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&fS)>0}get deletedBefore(){return(this.delInfo&(cS|_c))>0}get deletedAfter(){return(this.delInfo&(uS|_c))>0}get deletedAcross(){return(this.delInfo&_c)>0}}class fn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&fn.empty)return fn.empty}recover(e){let n=0,r=H1(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+pM(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,a=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?s:0);if(d>e)break;let h=this.ranges[u+a],m=this.ranges[u+c],y=d+h;if(e<=y){let b=h?e==d?-1:e==y?1:n:n,v=d+s+(b<0?0:m);if(r)return v;let S=e==(n<0?d:y)?null:hM(u/3,e-d),E=e==d?uS:e==y?cS:_c;return(n<0?e!=d:e!=y)&&(E|=fS),new bp(v,E,S)}s+=m-h}return r?e+s:new bp(e+s,0,null)}touches(e,n){let r=0,s=H1(n),a=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[u+a],m=d+h;if(e<=m&&u==s*3)return!0;r+=this.ranges[u+c]-h}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,a=0;s<this.ranges.length;s+=3){let c=this.ranges[s],u=c-(this.inverted?a:0),d=c+(this.inverted?0:a),h=this.ranges[s+n],m=this.ranges[s+r];e(u,u+h,d,d+m),a+=m-h}}invert(){return new fn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?fn.empty:new fn(e<0?[0,-e,0]:[0,0,e])}}fn.empty=new fn([]);class ka{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new ka(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new ka;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let a=this.from;a<this.to;a++){let c=this._maps[a],u=c.mapResult(e,n);if(u.recover!=null){let d=this.getMirror(a);if(d!=null&&d>a&&d<this.to){a=d,e=this._maps[d].recover(u.recover);continue}}s|=u.delInfo,e=u.pos}return r?e:new bp(e,s,null)}}const Dh=Object.create(null);class Dt{getMap(){return fn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Dh[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Dh)throw new RangeError("Duplicate use of step JSON ID "+e);return Dh[e]=n,n.prototype.jsonID=e,n}}class dt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new dt(e,null)}static fail(e){return new dt(null,e)}static fromReplace(e,n,r,s){try{return dt.ok(e.replace(n,r,s))}catch(a){if(a instanceof Fc)return dt.fail(a.message);throw a}}}function rm(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let a=t.child(s);a.content.size&&(a=a.copy(rm(a.content,e,a))),a.isInline&&(a=e(a,n,s)),r.push(a)}return X.fromArray(r)}class ii extends Dt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),a=new ie(rm(n.content,(c,u)=>!c.isAtom||!u.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),s),n.openStart,n.openEnd);return dt.fromReplace(e,this.from,this.to,a)}invert(){return new Dn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ii(n.pos,r.pos,this.mark)}merge(e){return e instanceof ii&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ii(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ii(n.from,n.to,e.markFromJSON(n.mark))}}Dt.jsonID("addMark",ii);class Dn extends Dt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ie(rm(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return dt.fromReplace(e,this.from,this.to,r)}invert(){return new ii(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Dn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Dn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Dn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Dn(n.from,n.to,e.markFromJSON(n.mark))}}Dt.jsonID("removeMark",Dn);class si extends Dt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return dt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return dt.fromReplace(e,this.pos,this.pos+1,new ie(X.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new si(this.pos,n.marks[s]);return new si(this.pos,this.mark)}}return new Qi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new si(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new si(n.pos,e.markFromJSON(n.mark))}}Dt.jsonID("addNodeMark",si);class Qi extends Dt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return dt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return dt.fromReplace(e,this.pos,this.pos+1,new ie(X.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new si(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Qi(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Qi(n.pos,e.markFromJSON(n.mark))}}Dt.jsonID("removeNodeMark",Qi);class yt extends Dt{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&xp(e,this.from,this.to)?dt.fail("Structure replace would overwrite content"):dt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new fn([this.from,this.to-this.from,this.slice.size])}invert(e){return new yt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new yt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof yt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ie.empty:new ie(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new yt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ie.empty:new ie(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new yt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new yt(n.from,n.to,ie.fromJSON(e,n.slice),!!n.structure)}}Dt.jsonID("replace",yt);class bt extends Dt{constructor(e,n,r,s,a,c,u=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=a,this.insert=c,this.structure=u}apply(e){if(this.structure&&(xp(e,this.from,this.gapFrom)||xp(e,this.gapTo,this.to)))return dt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return dt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?dt.fromReplace(e,this.from,this.to,r):dt.fail("Content does not fit in gap")}getMap(){return new fn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new bt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||a>r.pos?null:new bt(n.pos,r.pos,s,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new bt(n.from,n.to,n.gapFrom,n.gapTo,ie.fromJSON(e,n.slice),n.insert,!!n.structure)}}Dt.jsonID("replaceAround",bt);function xp(t,e,n){let r=t.resolve(e),s=n-e,a=r.depth;for(;s>0&&a>0&&r.indexAfter(a)==r.node(a).childCount;)a--,s--;if(s>0){let c=r.node(a).maybeChild(r.indexAfter(a));for(;s>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,s--}}return!1}function mM(t,e,n,r){let s=[],a=[],c,u;t.doc.nodesBetween(e,n,(d,h,m)=>{if(!d.isInline)return;let y=d.marks;if(!r.isInSet(y)&&m.type.allowsMarkType(r.type)){let b=Math.max(h,e),v=Math.min(h+d.nodeSize,n),S=r.addToSet(y);for(let E=0;E<y.length;E++)y[E].isInSet(S)||(c&&c.to==b&&c.mark.eq(y[E])?c.to=v:s.push(c=new Dn(b,v,y[E])));u&&u.to==b?u.to=v:a.push(u=new ii(b,v,r))}}),s.forEach(d=>t.step(d)),a.forEach(d=>t.step(d))}function gM(t,e,n,r){let s=[],a=0;t.doc.nodesBetween(e,n,(c,u)=>{if(!c.isInline)return;a++;let d=null;if(r instanceof Hu){let h=c.marks,m;for(;m=r.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else r?r.isInSet(c.marks)&&(d=[r]):d=c.marks;if(d&&d.length){let h=Math.min(u+c.nodeSize,n);for(let m=0;m<d.length;m++){let y=d[m],b;for(let v=0;v<s.length;v++){let S=s[v];S.step==a-1&&y.eq(s[v].style)&&(b=S)}b?(b.to=h,b.step=a):s.push({style:y,from:Math.max(u,e),to:h,step:a})}}}),s.forEach(c=>t.step(new Dn(c.from,c.to,c.style)))}function im(t,e,n,r=n.contentMatch,s=!0){let a=t.doc.nodeAt(e),c=[],u=e+1;for(let d=0;d<a.childCount;d++){let h=a.child(d),m=u+h.nodeSize,y=r.matchType(h.type);if(!y)c.push(new yt(u,m,ie.empty));else{r=y;for(let b=0;b<h.marks.length;b++)n.allowsMarkType(h.marks[b].type)||t.step(new Dn(u,m,h.marks[b]));if(s&&h.isText&&n.whitespace!="pre"){let b,v=/\r?\n|\r/g,S;for(;b=v.exec(h.text);)S||(S=new ie(X.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),c.push(new yt(u+b.index,u+b.index+b[0].length,S))}}u=m}if(!r.validEnd){let d=r.fillBefore(X.empty,!0);t.replace(u,u,new ie(d,0,0))}for(let d=c.length-1;d>=0;d--)t.step(c[d])}function yM(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ul(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),a=t.$from.index(r),c=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(a,c,n))return r;if(r==0||s.type.spec.isolating||!yM(s,a,c))break}return null}function bM(t,e,n){let{$from:r,$to:s,depth:a}=e,c=r.before(a+1),u=s.after(a+1),d=c,h=u,m=X.empty,y=0;for(let S=a,E=!1;S>n;S--)E||r.index(S)>0?(E=!0,m=X.from(r.node(S).copy(m)),y++):d--;let b=X.empty,v=0;for(let S=a,E=!1;S>n;S--)E||s.after(S+1)<s.end(S)?(E=!0,b=X.from(s.node(S).copy(b)),v++):h++;t.step(new bt(d,h,c,u,new ie(m.append(b),y,v),m.size-y,!0))}function sm(t,e,n=null,r=t){let s=xM(t,e),a=s&&vM(r,e);return a?s.map(U1).concat({type:e,attrs:n}).concat(a.map(U1)):null}function U1(t){return{type:t,attrs:null}}function xM(t,e){let{parent:n,startIndex:r,endIndex:s}=t,a=n.contentMatchAt(r).findWrapping(e);if(!a)return null;let c=a.length?a[0]:e;return n.canReplaceWith(r,s,c)?a:null}function vM(t,e){let{parent:n,startIndex:r,endIndex:s}=t,a=n.child(r),c=e.contentMatch.findWrapping(a.type);if(!c)return null;let d=(c.length?c[c.length-1]:e).contentMatch;for(let h=r;d&&h<s;h++)d=d.matchType(n.child(h).type);return!d||!d.validEnd?null:c}function SM(t,e,n){let r=X.empty;for(let c=n.length-1;c>=0;c--){if(r.size){let u=n[c].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=X.from(n[c].type.create(n[c].attrs,r))}let s=e.start,a=e.end;t.step(new bt(s,a,s,a,new ie(r,0,0),n.length,!0))}function wM(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,n,(c,u)=>{let d=typeof s=="function"?s(c):s;if(c.isTextblock&&!c.hasMarkup(r,d)&&EM(t.doc,t.mapping.slice(a).map(u),r)){let h=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",S=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!S?h=!1:!v&&S&&(h=!0)}h===!1&&hS(t,c,u,a),im(t,t.mapping.slice(a).map(u,1),r,void 0,h===null);let m=t.mapping.slice(a),y=m.map(u,1),b=m.map(u+c.nodeSize,1);return t.step(new bt(y,b,y+1,b-1,new ie(X.from(r.create(d,null,c.marks)),0,0),1,!0)),h===!0&&dS(t,c,u,a),!1}})}function dS(t,e,n,r){e.forEach((s,a)=>{if(s.isText){let c,u=/\r?\n|\r/g;for(;c=u.exec(s.text);){let d=t.mapping.slice(r).map(n+1+a+c.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function hS(t,e,n,r){e.forEach((s,a)=>{if(s.type==s.type.schema.linebreakReplacement){let c=t.mapping.slice(r).map(n+1+a);t.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function EM(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function CM(t,e,n,r,s){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let c=n.create(r,null,s||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,c);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new bt(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new ie(X.from(c),0,0),1,!0))}function Sr(t,e,n=1,r){let s=t.resolve(e),a=s.depth-n,c=r&&r[r.length-1]||s.parent;if(a<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!c.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,m=n-2;h>a;h--,m--){let y=s.node(h),b=s.index(h);if(y.type.spec.isolating)return!1;let v=y.content.cutByIndex(b,y.childCount),S=r&&r[m+1];S&&(v=v.replaceChild(0,S.type.create(S.attrs)));let E=r&&r[m]||y;if(!y.canReplace(b+1,y.childCount)||!E.type.validContent(v))return!1}let u=s.indexAfter(a),d=r&&r[0];return s.node(a).canReplaceWith(u,u,d?d.type:s.node(a+1).type)}function NM(t,e,n=1,r){let s=t.doc.resolve(e),a=X.empty,c=X.empty;for(let u=s.depth,d=s.depth-n,h=n-1;u>d;u--,h--){a=X.from(s.node(u).copy(a));let m=r&&r[h];c=X.from(m?m.type.create(m.attrs,c):s.node(u).copy(c))}t.step(new yt(e,e,new ie(a.append(c),n,n),!0))}function hi(t,e){let n=t.resolve(e),r=n.index();return pS(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function TM(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let a=e.child(s),c=a.type==r?t.type.schema.nodes.text:a.type;if(n=n.matchType(c),!n||!t.type.allowsMarks(a.marks))return!1}return n.validEnd}function pS(t,e){return!!(t&&e&&!t.isLeaf&&TM(t,e))}function Uu(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let a,c,u=r.index(s);if(s==r.depth?(a=r.nodeBefore,c=r.nodeAfter):n>0?(a=r.node(s+1),u++,c=r.node(s).maybeChild(u)):(a=r.node(s).maybeChild(u-1),c=r.node(s+1)),a&&!a.isTextblock&&pS(a,c)&&r.node(s).canReplace(u,u+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function kM(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,a=t.doc.resolve(e-n),c=a.node().type;if(s&&c.inlineContent){let m=c.whitespace=="pre",y=!!c.contentMatch.matchType(s);m&&!y?r=!1:!m&&y&&(r=!0)}let u=t.steps.length;if(r===!1){let m=t.doc.resolve(e+n);hS(t,m.node(),m.before(),u)}c.inlineContent&&im(t,e+n-1,c,a.node().contentMatchAt(a.index()),r==null);let d=t.mapping.slice(u),h=d.map(e-n);if(t.step(new yt(h,d.map(e+n,-1),ie.empty,!0)),r===!0){let m=t.doc.resolve(h);dS(t,m.node(),m.before(),t.steps.length)}return t}function AM(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let a=r.index(s);if(r.node(s).canReplaceWith(a,a,n))return r.before(s+1);if(a>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}return null}function mS(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let a=0;a<n.openStart;a++)s=s.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let c=r.depth;c>=0;c--){let u=c==r.depth?0:r.pos<=(r.start(c+1)+r.end(c+1))/2?-1:1,d=r.index(c)+(u>0?1:0),h=r.node(c),m=!1;if(a==1)m=h.canReplace(d,d,s);else{let y=h.contentMatchAt(d).findWrapping(s.firstChild.type);m=y&&h.canReplaceWith(d,d,y[0])}if(m)return u==0?r.pos:u<0?r.before(c+1):r.after(c+1)}return null}function Vu(t,e,n=e,r=ie.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),a=t.resolve(n);return gS(s,a,r)?new yt(e,n,r):new MM(s,a,r).fit()}function gS(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class MM{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=X.empty;for(let s=0;s<=e.depth;s++){let a=e.node(s);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=X.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let a=this.placed,c=r.depth,u=s.depth;for(;c&&u&&a.childCount==1;)a=a.firstChild.content,c--,u--;let d=new ie(a,c,u);return e>-1?new bt(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new yt(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let a=n.firstChild;if(n.childCount>1&&(s=0),a.type.spec.isolating&&s<=r){e=r;break}n=a.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,a=null;r?(a=_h(this.unplaced.content,r-1).firstChild,s=a.content):s=this.unplaced.content;let c=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:h}=this.frontier[u],m,y=null;if(n==1&&(c?h.matchType(c.type)||(y=h.fillBefore(X.from(c),!1)):a&&d.compatibleContent(a.type)))return{sliceDepth:r,frontierDepth:u,parent:a,inject:y};if(n==2&&c&&(m=h.findWrapping(c.type)))return{sliceDepth:r,frontierDepth:u,parent:a,wrap:m};if(a&&h.matchType(a.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=_h(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ie(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=_h(e,n);if(s.childCount<=1&&n>0){let a=e.size-n<=n+s.size;this.unplaced=new ie(ua(e,n-1,1),n-1,a?n-1:r)}else this.unplaced=new ie(ua(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let E=0;E<a.length;E++)this.openFrontierNode(a[E]);let c=this.unplaced,u=r?r.content:c.content,d=c.openStart-e,h=0,m=[],{match:y,type:b}=this.frontier[n];if(s){for(let E=0;E<s.childCount;E++)m.push(s.child(E));y=y.matchFragment(s)}let v=u.size+e-(c.content.size-c.openEnd);for(;h<u.childCount;){let E=u.child(h),C=y.matchType(E.type);if(!C)break;h++,(h>1||d==0||E.content.size)&&(y=C,m.push(yS(E.mark(b.allowedMarks(E.marks)),h==1?d:0,h==u.childCount?v:-1)))}let S=h==u.childCount;S||(v=-1),this.placed=fa(this.placed,n,X.from(m)),this.frontier[n].match=y,S&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,C=u;E<v;E++){let k=C.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),C=k.content}this.unplaced=S?e==0?ie.empty:new ie(ua(c.content,e-1,1),e-1,v<0?c.openEnd:e-1):new ie(ua(c.content,e,h),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!zh(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],a=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),c=zh(e,n,s,r,a);if(c){for(let u=n-1;u>=0;u--){let{match:d,type:h}=this.frontier[u],m=zh(e,u,h,d,!0);if(!m||m.childCount)continue e}return{depth:n,fit:c,move:a?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=fa(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),a=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,a)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=fa(this.placed,this.depth,X.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(X.empty,!0);n.childCount&&(this.placed=fa(this.placed,this.frontier.length,n))}}function ua(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ua(t.firstChild.content,e-1,n)))}function fa(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(fa(t.lastChild.content,e-1,n)))}function _h(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function yS(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,yS(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(X.empty,!0)))),t.copy(r)}function zh(t,e,n,r,s){let a=t.node(e),c=s?t.indexAfter(e):t.index(e);if(c==a.childCount&&!n.compatibleContent(a.type))return null;let u=r.fillBefore(a.content,!0,c);return u&&!OM(n,a.content,c)?u:null}function OM(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function RM(t){return t.spec.defining||t.spec.definingForContent}function jM(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),a=t.doc.resolve(n);if(gS(s,a,r))return t.step(new yt(e,n,r));let c=xS(s,t.doc.resolve(n));c[c.length-1]==0&&c.pop();let u=-(s.depth+1);c.unshift(u);for(let b=s.depth,v=s.pos-1;b>0;b--,v--){let S=s.node(b).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;c.indexOf(b)>-1?u=b:s.before(b)==v&&c.splice(1,0,-b)}let d=c.indexOf(u),h=[],m=r.openStart;for(let b=r.content,v=0;;v++){let S=b.firstChild;if(h.push(S),v==r.openStart)break;b=S.content}for(let b=m-1;b>=0;b--){let v=h[b],S=RM(v.type);if(S&&!v.sameMarkup(s.node(Math.abs(u)-1)))m=b;else if(S||!v.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let v=(b+m+1)%(r.openStart+1),S=h[v];if(S)for(let E=0;E<c.length;E++){let C=c[(E+d)%c.length],k=!0;C<0&&(k=!1,C=-C);let T=s.node(C-1),j=s.index(C-1);if(T.canReplaceWith(j,j,S.type,S.marks))return t.replace(s.before(C),k?a.after(C):n,new ie(bS(r.content,0,r.openStart,v),v,r.openEnd))}}let y=t.steps.length;for(let b=c.length-1;b>=0&&(t.replace(e,n,r),!(t.steps.length>y));b--){let v=c[b];v<0||(e=s.before(v),n=a.after(v))}}function bS(t,e,n,r,s){if(e<n){let a=t.firstChild;t=t.replaceChild(0,a.copy(bS(a.content,e+1,n,r,a)))}if(e>r){let a=s.contentMatchAt(0),c=a.fillBefore(t).append(t);t=c.append(a.matchFragment(c).fillBefore(X.empty,!0))}return t}function DM(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=AM(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new ie(X.from(r),0,0))}function _M(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),a=xS(r,s);for(let c=0;c<a.length;c++){let u=a[c],d=c==a.length-1;if(d&&u==0||r.node(u).type.contentMatch.validEnd)return t.delete(r.start(u),s.end(u));if(u>0&&(d||r.node(u-1).canReplace(r.index(u-1),s.indexAfter(u-1))))return t.delete(r.before(u),s.after(u))}for(let c=1;c<=r.depth&&c<=s.depth;c++)if(e-r.start(c)==r.depth-c&&n>r.end(c)&&s.end(c)-n!=s.depth-c&&r.start(c-1)==s.start(c-1)&&r.node(c-1).canReplace(r.index(c-1),s.index(c-1)))return t.delete(r.before(c),n);t.delete(e,n)}function xS(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let a=t.start(s);if(a<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(a==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==a-1)&&n.push(s)}return n}class Js extends Dt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return dt.fail("No node at attribute step's position");let r=Object.create(null);for(let a in n.attrs)r[a]=n.attrs[a];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return dt.fromReplace(e,this.pos,this.pos+1,new ie(X.from(s),0,n.isLeaf?0:1))}getMap(){return fn.empty}invert(e){return new Js(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Js(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Js(n.pos,n.attr,n.value)}}Dt.jsonID("attr",Js);class Aa extends Dt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return dt.ok(r)}getMap(){return fn.empty}invert(e){return new Aa(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Aa(n.attr,n.value)}}Dt.jsonID("docAttr",Aa);let Zs=class extends Error{};Zs=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Zs.prototype=Object.create(Error.prototype);Zs.prototype.constructor=Zs;Zs.prototype.name="TransformError";class vS{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ka}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Zs(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ie.empty){let s=Vu(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new ie(X.from(r),0,0))}delete(e,n){return this.replace(e,n,ie.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return jM(this,e,n,r),this}replaceRangeWith(e,n,r){return DM(this,e,n,r),this}deleteRange(e,n){return _M(this,e,n),this}lift(e,n){return bM(this,e,n),this}join(e,n=1){return kM(this,e,n),this}wrap(e,n){return SM(this,e,n),this}setBlockType(e,n=e,r,s=null){return wM(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return CM(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new Js(e,n,r)),this}setDocAttribute(e,n){return this.step(new Aa(e,n)),this}addNodeMark(e,n){return this.step(new si(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Fe)n.isInSet(r.marks)&&this.step(new Qi(e,n));else{let s=r.marks,a,c=[];for(;a=n.isInSet(s);)c.push(new Qi(e,a)),s=a.removeFromSet(s);for(let u=c.length-1;u>=0;u--)this.step(c[u])}return this}split(e,n=1,r){return NM(this,e,n,r),this}addMark(e,n,r){return mM(this,e,n,r),this}removeMark(e,n,r){return gM(this,e,n,r),this}clearIncompatible(e,n,r){return im(this,e,n,r),this}}const Lh=Object.create(null);class Ce{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new zM(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ie.empty){let r=n.content.lastChild,s=null;for(let u=0;u<n.openEnd;u++)s=r,r=r.lastChild;let a=e.steps.length,c=this.ranges;for(let u=0;u<c.length;u++){let{$from:d,$to:h}=c[u],m=e.mapping.slice(a);e.replaceRange(m.map(d.pos),m.map(h.pos),u?ie.empty:n),u==0&&q1(e,a,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:c,$to:u}=s[a],d=e.mapping.slice(r),h=d.map(c.pos),m=d.map(u.pos);a?e.deleteRange(h,m):(e.replaceRangeWith(h,m,n),q1(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new ye(e):Fs(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let a=e.depth-1;a>=0;a--){let c=n<0?Fs(e.node(0),e.node(a),e.before(a+1),e.index(a),n,r):Fs(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,n,r);if(c)return c}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new dn(e.node(0))}static atStart(e){return Fs(e,e,0,0,1)||new dn(e)}static atEnd(e){return Fs(e,e,e.content.size,e.childCount,-1)||new dn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Lh[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Lh)throw new RangeError("Duplicate use of selection JSON ID "+e);return Lh[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ye.between(this.$anchor,this.$head).getBookmark()}}Ce.prototype.visible=!0;class zM{constructor(e,n){this.$from=e,this.$to=n}}let V1=!1;function I1(t){!V1&&!t.parent.inlineContent&&(V1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ye extends Ce{constructor(e,n=e){I1(e),I1(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ce.near(r);let s=e.resolve(n.map(this.anchor));return new ye(s.parent.inlineContent?s:r,r)}replace(e,n=ie.empty){if(super.replace(e,n),n==ie.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ye&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Iu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ye(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let a=Ce.findFrom(n,r,!0)||Ce.findFrom(n,-r,!0);if(a)n=a.$head;else return Ce.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Ce.findFrom(e,-r,!0)||Ce.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new ye(e,n)}}Ce.jsonID("text",ye);class Iu{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Iu(e.map(this.anchor),e.map(this.head))}resolve(e){return ye.between(e.resolve(this.anchor),e.resolve(this.head))}}class de extends Ce{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),a=e.resolve(s);return r?Ce.near(a):new de(a)}content(){return new ie(X.from(this.node),0,0)}eq(e){return e instanceof de&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new lm(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new de(e.resolve(n.anchor))}static create(e,n){return new de(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}de.prototype.visible=!1;Ce.jsonID("node",de);class lm{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Iu(r,r):new lm(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&de.isSelectable(r)?new de(n):Ce.near(n)}}class dn extends Ce{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ie.empty){if(n==ie.empty){e.delete(0,e.doc.content.size);let r=Ce.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new dn(e)}map(e){return new dn(e)}eq(e){return e instanceof dn}getBookmark(){return LM}}Ce.jsonID("all",dn);const LM={map(){return this},resolve(t){return new dn(t)}};function Fs(t,e,n,r,s,a=!1){if(e.inlineContent)return ye.create(t,n);for(let c=r-(s>0?0:1);s>0?c<e.childCount:c>=0;c+=s){let u=e.child(c);if(u.isAtom){if(!a&&de.isSelectable(u))return de.create(t,n-(s<0?u.nodeSize:0))}else{let d=Fs(t,u,n+s,s<0?u.childCount:0,s,a);if(d)return d}n+=u.nodeSize*s}return null}function q1(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof yt||s instanceof bt))return;let a=t.mapping.maps[r],c;a.forEach((u,d,h,m)=>{c==null&&(c=m)}),t.setSelection(Ce.near(t.doc.resolve(c),n))}const P1=1,bc=2,F1=4;class BM extends vS{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|P1)&~bc,this.storedMarks=null,this}get selectionSet(){return(this.updated&P1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=bc,this}ensureMarks(e){return Fe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&bc)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~bc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Fe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let a=this.storedMarks;if(!a){let c=this.doc.resolve(n);a=r==n?c.marks():c.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,a)),this.selection.empty||this.setSelection(Ce.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=F1,this}get scrolledIntoView(){return(this.updated&F1)>0}}function $1(t,e){return!e||!t?t:t.bind(e)}class da{constructor(e,n,r){this.name=e,this.init=$1(n.init,r),this.apply=$1(n.apply,r)}}const HM=[new da("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new da("selection",{init(t,e){return t.selection||Ce.atStart(e.doc)},apply(t){return t.selection}}),new da("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new da("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Bh{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=HM.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new da(r.key,r.spec.state,r))})}}class Ys{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let a=!1;for(let c=0;c<this.config.plugins.length;c++){let u=this.config.plugins[c];if(u.spec.appendTransaction){let d=s?s[c].n:0,h=s?s[c].state:this,m=d<n.length&&u.spec.appendTransaction.call(u,d?n.slice(d):n,h,r);if(m&&r.filterTransaction(m,c)){if(m.setMeta("appendedTransaction",e),!s){s=[];for(let y=0;y<this.config.plugins.length;y++)s.push(y<c?{state:r,n:n.length}:{state:this,n:0})}n.push(m),r=r.applyInner(m),a=!0}s&&(s[c]={state:r,n:n.length})}}if(!a)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ys(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let a=r[s];n[a.name]=a.apply(e,this[a.name],this,n)}return n}get tr(){return new BM(this)}static create(e){let n=new Bh(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ys(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new Bh(this.schema,e.plugins),r=n.fields,s=new Ys(n);for(let a=0;a<r.length;a++){let c=r[a].name;s[c]=this.hasOwnProperty(c)?this[c]:r[a].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],a=s.spec.state;a&&a.toJSON&&(n[r]=a.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Bh(e.schema,e.plugins),a=new Ys(s);return s.fields.forEach(c=>{if(c.name=="doc")a.doc=_n.fromJSON(e.schema,n.doc);else if(c.name=="selection")a.selection=Ce.fromJSON(a.doc,n.selection);else if(c.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let d=r[u],h=d.spec.state;if(d.key==c.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){a[c.name]=h.fromJSON.call(d,e,n[u],a);return}}a[c.name]=c.init(e,a)}}),a}}function SS(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=SS(s,e,{})),n[r]=s}return n}class it{constructor(e){this.spec=e,this.props={},e.props&&SS(e.props,this,this.props),this.key=e.key?e.key.key:wS("plugin")}getState(e){return e[this.key]}}const Hh=Object.create(null);function wS(t){return t in Hh?t+"$"+ ++Hh[t]:(Hh[t]=0,t+"$")}class vt{constructor(e="key"){this.key=wS(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const am=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function ES(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const CS=(t,e,n)=>{let r=ES(t,n);if(!r)return!1;let s=om(r);if(!s){let c=r.blockRange(),u=c&&ul(c);return u==null?!1:(e&&e(t.tr.lift(c,u).scrollIntoView()),!0)}let a=s.nodeBefore;if(DS(t,s,e,-1))return!0;if(r.parent.content.size==0&&(Ws(a,"end")||de.isSelectable(a)))for(let c=r.depth;;c--){let u=Vu(t.doc,r.before(c),r.after(c),ie.empty);if(u&&u.slice.size<u.to-u.from){if(e){let d=t.tr.step(u);d.setSelection(Ws(a,"end")?Ce.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):de.create(d.doc,s.pos-a.nodeSize)),e(d.scrollIntoView())}return!0}if(c==1||r.node(c-1).childCount>1)break}return a.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-a.nodeSize,s.pos).scrollIntoView()),!0):!1},UM=(t,e,n)=>{let r=ES(t,n);if(!r)return!1;let s=om(r);return s?NS(t,s,e):!1},VM=(t,e,n)=>{let r=kS(t,n);if(!r)return!1;let s=cm(r);return s?NS(t,s,e):!1};function NS(t,e,n){let r=e.nodeBefore,s=r,a=e.pos-1;for(;!s.isTextblock;a--){if(s.type.spec.isolating)return!1;let m=s.lastChild;if(!m)return!1;s=m}let c=e.nodeAfter,u=c,d=e.pos+1;for(;!u.isTextblock;d++){if(u.type.spec.isolating)return!1;let m=u.firstChild;if(!m)return!1;u=m}let h=Vu(t.doc,a,d,ie.empty);if(!h||h.from!=a||h instanceof yt&&h.slice.size>=d-a)return!1;if(n){let m=t.tr.step(h);m.setSelection(ye.create(m.doc,a)),n(m.scrollIntoView())}return!0}function Ws(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const TS=(t,e,n)=>{let{$head:r,empty:s}=t.selection,a=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;a=om(r)}let c=a&&a.nodeBefore;return!c||!de.isSelectable(c)?!1:(e&&e(t.tr.setSelection(de.create(t.doc,a.pos-c.nodeSize)).scrollIntoView()),!0)};function om(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function kS(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const AS=(t,e,n)=>{let r=kS(t,n);if(!r)return!1;let s=cm(r);if(!s)return!1;let a=s.nodeAfter;if(DS(t,s,e,1))return!0;if(r.parent.content.size==0&&(Ws(a,"start")||de.isSelectable(a))){let c=Vu(t.doc,r.before(),r.after(),ie.empty);if(c&&c.slice.size<c.to-c.from){if(e){let u=t.tr.step(c);u.setSelection(Ws(a,"start")?Ce.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):de.create(u.doc,u.mapping.map(s.pos))),e(u.scrollIntoView())}return!0}}return a.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0):!1},MS=(t,e,n)=>{let{$head:r,empty:s}=t.selection,a=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;a=cm(r)}let c=a&&a.nodeAfter;return!c||!de.isSelectable(c)?!1:(e&&e(t.tr.setSelection(de.create(t.doc,a.pos)).scrollIntoView()),!0)};function cm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const IM=(t,e)=>{let n=t.selection,r=n instanceof de,s;if(r){if(n.node.isTextblock||!hi(t.doc,n.from))return!1;s=n.from}else if(s=Uu(t.doc,n.from,-1),s==null)return!1;if(e){let a=t.tr.join(s);r&&a.setSelection(de.create(a.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},qM=(t,e)=>{let n=t.selection,r;if(n instanceof de){if(n.node.isTextblock||!hi(t.doc,n.to))return!1;r=n.to}else if(r=Uu(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},PM=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),a=s&&ul(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)},OS=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function um(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const FM=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),a=n.indexAfter(-1),c=um(s.contentMatchAt(a));if(!c||!s.canReplaceWith(a,a,c))return!1;if(e){let u=n.after(),d=t.tr.replaceWith(u,u,c.createAndFill());d.setSelection(Ce.near(d.doc.resolve(u),1)),e(d.scrollIntoView())}return!0},RS=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof dn||r.parent.inlineContent||s.parent.inlineContent)return!1;let a=um(s.parent.contentMatchAt(s.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let c=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,u=t.tr.insert(c,a.createAndFill());u.setSelection(ye.create(u.doc,c+1)),e(u.scrollIntoView())}return!0},jS=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(Sr(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let r=n.blockRange(),s=r&&ul(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function $M(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof de&&e.selection.node.isBlock)return!r.parentOffset||!Sr(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let a=[],c,u,d=!1,h=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){d=r.end(v)==r.pos+(r.depth-v),h=r.start(v)==r.pos-(r.depth-v),u=um(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),a.unshift(d&&u?{type:u}:null),c=v;break}else{if(v==1)return!1;a.unshift(null)}let m=e.tr;(e.selection instanceof ye||e.selection instanceof dn)&&m.deleteSelection();let y=m.mapping.map(r.pos),b=Sr(m.doc,y,a.length,a);if(b||(a[0]=u?{type:u}:null,b=Sr(m.doc,y,a.length,a)),!b)return!1;if(m.split(y,a.length,a),!d&&h&&r.node(c).type!=u){let v=m.mapping.map(r.before(c)),S=m.doc.resolve(v);u&&r.node(c-1).canReplaceWith(S.index(),S.index()+1,u)&&m.setNodeMarkup(m.mapping.map(r.before(c)),u)}return n&&n(m.scrollIntoView()),!0}}const KM=$M(),GM=(t,e)=>{let{$from:n,to:r}=t.selection,s,a=n.sharedDepth(r);return a==0?!1:(s=n.before(a),e&&e(t.tr.setSelection(de.create(t.doc,s))),!0)};function YM(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,a=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(a-1,a)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(s.isTextblock||hi(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function DS(t,e,n,r){let s=e.nodeBefore,a=e.nodeAfter,c,u,d=s.type.spec.isolating||a.type.spec.isolating;if(!d&&YM(t,e,n))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(c=(u=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&u.matchType(c[0]||a.type).validEnd){if(n){let v=e.pos+a.nodeSize,S=X.empty;for(let k=c.length-1;k>=0;k--)S=X.from(c[k].create(null,S));S=X.from(s.copy(S));let E=t.tr.step(new bt(e.pos-1,v,e.pos,v,new ie(S,1,0),c.length,!0)),C=E.doc.resolve(v+2*c.length);C.nodeAfter&&C.nodeAfter.type==s.type&&hi(E.doc,C.pos)&&E.join(C.pos),n(E.scrollIntoView())}return!0}let m=a.type.spec.isolating||r>0&&d?null:Ce.findFrom(e,1),y=m&&m.$from.blockRange(m.$to),b=y&&ul(y);if(b!=null&&b>=e.depth)return n&&n(t.tr.lift(y,b).scrollIntoView()),!0;if(h&&Ws(a,"start",!0)&&Ws(s,"end")){let v=s,S=[];for(;S.push(v),!v.isTextblock;)v=v.lastChild;let E=a,C=1;for(;!E.isTextblock;E=E.firstChild)C++;if(v.canReplace(v.childCount,v.childCount,E.content)){if(n){let k=X.empty;for(let j=S.length-1;j>=0;j--)k=X.from(S[j].copy(k));let T=t.tr.step(new bt(e.pos-S.length,e.pos+a.nodeSize,e.pos+C,e.pos+a.nodeSize-C,new ie(k,S.length,0),0,!0));n(T.scrollIntoView())}return!0}}return!1}function _S(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,a=s.depth;for(;s.node(a).isInline;){if(!a)return!1;a--}return s.node(a).isTextblock?(n&&n(e.tr.setSelection(ye.create(e.doc,t<0?s.start(a):s.end(a)))),!0):!1}}const JM=_S(-1),XM=_S(1);function QM(t,e=null){return function(n,r){let{$from:s,$to:a}=n.selection,c=s.blockRange(a),u=c&&sm(c,t,e);return u?(r&&r(n.tr.wrap(c,u).scrollIntoView()),!0):!1}}function K1(t,e=null){return function(n,r){let s=!1;for(let a=0;a<n.selection.ranges.length&&!s;a++){let{$from:{pos:c},$to:{pos:u}}=n.selection.ranges[a];n.doc.nodesBetween(c,u,(d,h)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)s=!0;else{let m=n.doc.resolve(h),y=m.index();s=m.parent.canReplaceWith(y,y+1,t)}})}if(!s)return!1;if(r){let a=n.tr;for(let c=0;c<n.selection.ranges.length;c++){let{$from:{pos:u},$to:{pos:d}}=n.selection.ranges[c];a.setBlockType(u,d,t,e)}r(a.scrollIntoView())}return!0}}function fm(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}fm(am,CS,TS);fm(am,AS,MS);fm(OS,RS,jS,KM);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function ZM(t,e=null){return function(n,r){let{$from:s,$to:a}=n.selection,c=s.blockRange(a);if(!c)return!1;let u=r?n.tr:null;return WM(u,c,t,e)?(r&&r(u.scrollIntoView()),!0):!1}}function WM(t,e,n,r=null){let s=!1,a=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=c.resolve(e.start-2);a=new Kc(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Kc(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let u=sm(a,n,r,e);return u?(t&&eO(t,e,u,s,n),!0):!1}function eO(t,e,n,r,s){let a=X.empty;for(let m=n.length-1;m>=0;m--)a=X.from(n[m].type.create(n[m].attrs,a));t.step(new bt(e.start-(r?2:0),e.end,e.start,e.end,new ie(a,0,0),n.length,!0));let c=0;for(let m=0;m<n.length;m++)n[m].type==s&&(c=m+1);let u=n.length-c,d=e.start+n.length-(r?2:0),h=e.parent;for(let m=e.startIndex,y=e.endIndex,b=!0;m<y;m++,b=!1)!b&&Sr(t.doc,d,u)&&(t.split(d,u),d+=2*u),d+=h.child(m).nodeSize;return t}function tO(t){return function(e,n){let{$from:r,$to:s}=e.selection,a=r.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);return a?n?r.node(a.depth-1).type==t?nO(e,n,t,a):rO(e,n,a):!0:!1}}function nO(t,e,n,r){let s=t.tr,a=r.end,c=r.$to.end(r.depth);a<c&&(s.step(new bt(a-1,c,a,c,new ie(X.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Kc(s.doc.resolve(r.$from.pos),s.doc.resolve(c),r.depth));const u=ul(r);if(u==null)return!1;s.lift(r,u);let d=s.doc.resolve(s.mapping.map(a,-1)-1);return hi(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function rO(t,e,n){let r=t.tr,s=n.parent;for(let v=n.end,S=n.endIndex-1,E=n.startIndex;S>E;S--)v-=s.child(S).nodeSize,r.delete(v-1,v+1);let a=r.doc.resolve(n.start),c=a.nodeAfter;if(r.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,d=n.endIndex==s.childCount,h=a.node(-1),m=a.index(-1);if(!h.canReplace(m+(u?0:1),m+1,c.content.append(d?X.empty:X.from(s))))return!1;let y=a.pos,b=y+c.nodeSize;return r.step(new bt(y-(u?1:0),b+(d?1:0),y+1,b-1,new ie((u?X.empty:X.from(s.copy(X.empty))).append(d?X.empty:X.from(s.copy(X.empty))),u?0:1,d?0:1),u?0:1)),e(r.scrollIntoView()),!0}function iO(t){return function(e,n){let{$from:r,$to:s}=e.selection,a=r.blockRange(s,h=>h.childCount>0&&h.firstChild.type==t);if(!a)return!1;let c=a.startIndex;if(c==0)return!1;let u=a.parent,d=u.child(c-1);if(d.type!=t)return!1;if(n){let h=d.lastChild&&d.lastChild.type==u.type,m=X.from(h?t.create():null),y=new ie(X.from(t.create(null,X.from(u.type.create(null,m)))),h?3:1,0),b=a.start,v=a.end;n(e.tr.step(new bt(b-(h?3:1),v,b,v,y,1,!0)).scrollIntoView())}return!0}}const kt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},el=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let vp=null;const br=function(t,e,n){let r=vp||(vp=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},sO=function(){vp=null},Zi=function(t,e,n,r){return n&&(G1(t,e,n,r,-1)||G1(t,e,n,r,1))},lO=/^(img|br|input|textarea|hr)$/i;function G1(t,e,n,r,s){for(var a;;){if(t==n&&e==r)return!0;if(e==(s<0?0:Tn(t))){let c=t.parentNode;if(!c||c.nodeType!=1||$a(t)||lO.test(t.nodeName)||t.contentEditable=="false")return!1;e=kt(t)+(s<0?0:1),t=c}else if(t.nodeType==1){let c=t.childNodes[e+(s<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((a=c.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=s;else return!1;else t=c,e=s<0?Tn(t):0}else return!1}}function Tn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function aO(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Tn(t)}else if(t.parentNode&&!$a(t))e=kt(t),t=t.parentNode;else return null}}function oO(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!$a(t))e=kt(t)+1,t=t.parentNode;else return null}}function cO(t,e,n){for(let r=e==0,s=e==Tn(t);r||s;){if(t==n)return!0;let a=kt(t);if(t=t.parentNode,!t)return!1;r=r&&a==0,s=s&&a==Tn(t)}}function $a(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const qu=function(t){return t.focusNode&&Zi(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Li(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function uO(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function fO(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Tn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Tn(r.startContainer),r.startOffset)}}}const Yn=typeof navigator<"u"?navigator:null,Y1=typeof document<"u"?document:null,pi=Yn&&Yn.userAgent||"",Sp=/Edge\/(\d+)/.exec(pi),zS=/MSIE \d/.exec(pi),wp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pi),Qt=!!(zS||wp||Sp),oi=zS?document.documentMode:wp?+wp[1]:Sp?+Sp[1]:0,kn=!Qt&&/gecko\/(\d+)/i.test(pi);kn&&+(/Firefox\/(\d+)/.exec(pi)||[0,0])[1];const Ep=!Qt&&/Chrome\/(\d+)/.exec(pi),jt=!!Ep,LS=Ep?+Ep[1]:0,Ht=!Qt&&!!Yn&&/Apple Computer/.test(Yn.vendor),tl=Ht&&(/Mobile\/\w+/.test(pi)||!!Yn&&Yn.maxTouchPoints>2),Nn=tl||(Yn?/Mac/.test(Yn.platform):!1),dO=Yn?/Win/.test(Yn.platform):!1,xr=/Android \d/.test(pi),Ka=!!Y1&&"webkitFontSmoothing"in Y1.documentElement.style,hO=Ka?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function pO(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function pr(t,e){return typeof t=="number"?t:t[e]}function mO(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function J1(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let c=n||t.dom;c;){if(c.nodeType!=1){c=el(c);continue}let u=c,d=u==a.body,h=d?pO(a):mO(u),m=0,y=0;if(e.top<h.top+pr(r,"top")?y=-(h.top-e.top+pr(s,"top")):e.bottom>h.bottom-pr(r,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+pr(s,"top")-h.top:e.bottom-h.bottom+pr(s,"bottom")),e.left<h.left+pr(r,"left")?m=-(h.left-e.left+pr(s,"left")):e.right>h.right-pr(r,"right")&&(m=e.right-h.right+pr(s,"right")),m||y)if(d)a.defaultView.scrollBy(m,y);else{let v=u.scrollLeft,S=u.scrollTop;y&&(u.scrollTop+=y),m&&(u.scrollLeft+=m);let E=u.scrollLeft-v,C=u.scrollTop-S;e={left:e.left-E,top:e.top-C,right:e.right-E,bottom:e.bottom-C}}let b=d?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(b))break;c=b=="absolute"?c.offsetParent:el(c)}}function gO(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let a=(e.left+e.right)/2,c=n+1;c<Math.min(innerHeight,e.bottom);c+=5){let u=t.root.elementFromPoint(a,c);if(!u||u==t.dom||!t.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=n-20){r=u,s=d.top;break}}return{refDOM:r,refTop:s,stack:BS(t.dom)}}function BS(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=el(r));return e}function yO({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;HS(n,r==0?0:r-e)}function HS(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:a}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=a&&(r.scrollLeft=a)}}let qs=null;function bO(t){if(t.setActive)return t.setActive();if(qs)return t.focus(qs);let e=BS(t);t.focus(qs==null?{get preventScroll(){return qs={preventScroll:!0},!0}}:void 0),qs||(qs=!1,HS(e,0))}function US(t,e){let n,r=2e8,s,a=0,c=e.top,u=e.top,d,h;for(let m=t.firstChild,y=0;m;m=m.nextSibling,y++){let b;if(m.nodeType==1)b=m.getClientRects();else if(m.nodeType==3)b=br(m).getClientRects();else continue;for(let v=0;v<b.length;v++){let S=b[v];if(S.top<=c&&S.bottom>=u){c=Math.max(S.bottom,c),u=Math.min(S.top,u);let E=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(E<r){n=m,r=E,s=E&&n.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,m.nodeType==1&&E&&(a=y+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!d&&S.left<=e.left&&S.right>=e.left&&(d=m,h={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!n&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(a=y+1)}}return!n&&d&&(n=d,s=h,r=0),n&&n.nodeType==3?xO(n,s):!n||r&&n.nodeType==1?{node:t,offset:a}:US(n,s)}function xO(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let a=Zr(r,1);if(a.top!=a.bottom&&dm(e,a))return{node:t,offset:s+(e.left>=(a.left+a.right)/2?1:0)}}return{node:t,offset:0}}function dm(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function vO(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function SO(t,e,n){let{node:r,offset:s}=US(e,n),a=-1;if(r.nodeType==1&&!r.firstChild){let c=r.getBoundingClientRect();a=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return t.docView.posFromDOM(r,s,a)}function wO(t,e,n,r){let s=-1;for(let a=e,c=!1;a!=t.dom;){let u=t.docView.nearestDesc(a,!0),d;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((d=u.dom.getBoundingClientRect()).width||d.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!c&&d.left>r.left||d.top>r.top?s=u.posBefore:(!c&&d.right<r.left||d.bottom<r.top)&&(s=u.posAfter),c=!0),!u.contentDOM&&s<0&&!u.node.isText))return(u.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?u.posBefore:u.posAfter;a=u.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function VS(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),a=s;;){let c=t.childNodes[a];if(c.nodeType==1){let u=c.getClientRects();for(let d=0;d<u.length;d++){let h=u[d];if(dm(e,h))return VS(c,e,h)}}if((a=(a+1)%r)==s)break}return t}function EO(t,e){let n=t.dom.ownerDocument,r,s=0,a=fO(n,e.left,e.top);a&&({node:r,offset:s}=a);let c=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!c||!t.dom.contains(c.nodeType!=1?c.parentNode:c)){let h=t.dom.getBoundingClientRect();if(!dm(e,h)||(c=VS(t.dom,e,h),!c))return null}if(Ht)for(let h=c;r&&h;h=el(h))h.draggable&&(r=void 0);if(c=vO(c,e),r){if(kn&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let m=r.childNodes[s],y;m.nodeName=="IMG"&&(y=m.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&s++}let h;Ka&&s&&r.nodeType==1&&(h=r.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(u=wO(t,r,s,e))}u==null&&(u=SO(t,c,e));let d=t.docView.nearestDesc(c,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function X1(t){return t.top<t.bottom||t.left<t.right}function Zr(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(X1(r))return r}return Array.prototype.find.call(n,X1)||t.getBoundingClientRect()}const CO=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function IS(t,e,n){let{node:r,offset:s,atom:a}=t.docView.domFromPos(e,n<0?-1:1),c=Ka||kn;if(r.nodeType==3)if(c&&(CO.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let d=Zr(br(r,s,s),n);if(kn&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let h=Zr(br(r,s-1,s-1),-1);if(h.top==d.top){let m=Zr(br(r,s,s+1),-1);if(m.top!=d.top)return oa(m,m.left<h.left)}}return d}else{let d=s,h=s,m=n<0?1:-1;return n<0&&!s?(h++,m=-1):n>=0&&s==r.nodeValue.length?(d--,m=1):n<0?d--:h++,oa(Zr(br(r,d,h),m),m<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&s&&(n<0||s==Tn(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return Uh(d.getBoundingClientRect(),!1)}if(a==null&&s<Tn(r)){let d=r.childNodes[s];if(d.nodeType==1)return Uh(d.getBoundingClientRect(),!0)}return Uh(r.getBoundingClientRect(),n>=0)}if(a==null&&s&&(n<0||s==Tn(r))){let d=r.childNodes[s-1],h=d.nodeType==3?br(d,Tn(d)-(c?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return oa(Zr(h,1),!1)}if(a==null&&s<Tn(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?br(d,0,c?0:1):d.nodeType==1?d:null:null;if(h)return oa(Zr(h,-1),!0)}return oa(Zr(r.nodeType==3?br(r):r,-n),n>=0)}function oa(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Uh(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function qS(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function NO(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return qS(t,e,()=>{let{node:a}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(a,!0);if(!u)break;if(u.node.isBlock){a=u.contentDOM||u.dom;break}a=u.dom.parentNode}let c=IS(t,s.pos,1);for(let u=a.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=br(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(n=="up"?c.top-m.top>(m.bottom-c.top)*2:m.bottom-c.bottom>(c.bottom-m.top)*2))return!1}}return!0})}const TO=/[\u0590-\u08ac]/;function kO(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,a=!s,c=s==r.parent.content.size,u=t.domSelection();return u?!TO.test(r.parent.textContent)||!u.modify?n=="left"||n=="backward"?a:c:qS(t,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:y}=t.domSelectionRange(),b=u.caretBidiLevel;u.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:S,focusOffset:E}=t.domSelectionRange(),C=S&&!v.contains(S.nodeType==1?S:S.parentNode)||d==S&&h==E;try{u.collapse(m,y),d&&(d!=m||h!=y)&&u.extend&&u.extend(d,h)}catch{}return b!=null&&(u.caretBidiLevel=b),C}):r.pos==r.start()||r.pos==r.end()}let Q1=null,Z1=null,W1=!1;function AO(t,e,n){return Q1==e&&Z1==n?W1:(Q1=e,Z1=n,W1=n=="up"||n=="down"?NO(t,e,n):kO(t,e,n))}const An=0,ex=1,Hi=2,Jn=3;class Ga{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=An,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let a,c;if(e==this.contentDOM)a=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((c=a.pmViewDesc)&&c.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(c)+c.size:this.posAtStart}else{let a,c;if(e==this.contentDOM)a=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((c=a.pmViewDesc)&&c.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(c):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>kt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!1;break}if(a.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!0;break}if(a.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let a=this.getDesc(s),c;if(a&&(!n||a.node))if(r&&(c=a.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))r=!1;else return a}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let a=this.getDesc(s);if(a)return a.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],a=r+s.size;if(r==e&&a!=r){for(;!s.border&&s.children.length;)for(let c=0;c<s.children.length;c++){let u=s.children[c];if(u.size){s=u;break}}return s}if(e<a)return s.descAt(e-r-s.border);r=a}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let a=0;r<this.children.length;r++){let c=this.children[r],u=a+c.size;if(u>e||c instanceof FS){s=e-a;break}a=u}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let a;r&&!(a=this.children[r-1]).size&&a instanceof PS&&a.side>=0;r--);if(n<=0){let a,c=!0;for(;a=r?this.children[r-1]:null,!(!a||a.dom.parentNode==this.contentDOM);r--,c=!1);return a&&n&&c&&!a.border&&!a.domAtom?a.domFromPos(a.size,n):{node:this.contentDOM,offset:a?kt(a.dom)+1:0}}else{let a,c=!0;for(;a=r<this.children.length?this.children[r]:null,!(!a||a.dom.parentNode==this.contentDOM);r++,c=!1);return a&&c&&!a.border&&!a.domAtom?a.domFromPos(0,n):{node:this.contentDOM,offset:a?kt(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,a=-1;for(let c=r,u=0;;u++){let d=this.children[u],h=c+d.size;if(s==-1&&e<=h){let m=c+d.border;if(e>=m&&n<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,m);e=c;for(let y=u;y>0;y--){let b=this.children[y-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){s=kt(b.dom)+1;break}e-=b.size}s==-1&&(s=0)}if(s>-1&&(h>n||u==this.children.length-1)){n=h;for(let m=u+1;m<this.children.length;m++){let y=this.children[m];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){a=kt(y.dom);break}n+=y.size}a==-1&&(a=this.contentDOM.childNodes.length);break}c=h}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let a=Math.min(e,n),c=Math.max(e,n);for(let v=0,S=0;v<this.children.length;v++){let E=this.children[v],C=S+E.size;if(a>S&&c<C)return E.setSelection(e-S-E.border,n-S-E.border,r,s);S=C}let u=this.domFromPos(e,e?-1:1),d=n==e?u:this.domFromPos(n,n?-1:1),h=r.root.getSelection(),m=r.domSelectionRange(),y=!1;if((kn||Ht)&&e==n){let{node:v,offset:S}=u;if(v.nodeType==3){if(y=!!(S&&v.nodeValue[S-1]==`
`),y&&S==v.nodeValue.length)for(let E=v,C;E;E=E.parentNode){if(C=E.nextSibling){C.nodeName=="BR"&&(u=d={node:C.parentNode,offset:kt(C)+1});break}let k=E.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let E=v.childNodes[S-1];y=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(kn&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let v=m.focusNode.childNodes[m.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||y&&Ht)&&Zi(u.node,u.offset,m.anchorNode,m.anchorOffset)&&Zi(d.node,d.offset,m.focusNode,m.focusOffset))return;let b=!1;if((h.extend||e==n)&&!(y&&kn)){h.collapse(u.node,u.offset);try{e!=n&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>n){let S=u;u=d,d=S}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let a=this.children[s],c=r+a.size;if(r==c?e<=c&&n>=r:e<c&&n>r){let u=r+a.border,d=c-a.border;if(e>=u&&n<=d){this.dirty=e==r||n==c?Hi:ex,e==u&&n==d&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Jn:a.markDirty(e-u,n-u);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Hi:Jn}r=c}this.dirty=Hi}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Hi:ex;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class PS extends Ga{constructor(e,n,r,s){let a,c=n.type.toDOM;if(typeof c=="function"&&(c=c(r,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)})),!n.type.spec.raw){if(c.nodeType!=1){let u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=n,this.widget=n,a=this}matchesWidget(e){return this.dirty==An&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class MO extends Ga{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Wi extends Ga{constructor(e,n,r,s,a){super(e,[],r,s),this.mark=n,this.spec=a}static create(e,n,r,s){let a=s.nodeViews[n.type.name],c=a&&a(n,s,r);return(!c||!c.dom)&&(c=ns.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Wi(e,n,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&Jn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Jn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=An){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=An}}slice(e,n,r){let s=Wi.create(this.parent,this.mark,!0,r),a=this.children,c=this.size;n<c&&(a=Np(a,n,c,r)),e>0&&(a=Np(a,0,e,r));for(let u=0;u<a.length;u++)a[u].parent=s;return s.children=a,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ci extends Ga{constructor(e,n,r,s,a,c,u,d,h){super(e,[],a,c),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=u}static create(e,n,r,s,a,c){let u=a.nodeViews[n.type.name],d,h=u&&u(n,a,()=>{if(!d)return c;if(d.parent)return d.parent.posBeforeChild(d)},r,s),m=h&&h.dom,y=h&&h.contentDOM;if(n.isText){if(!m)m=document.createTextNode(n.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:y}=ns.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!y&&!n.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),n.type.spec.draggable&&(m.draggable=!0));let b=m;return m=GS(m,r,n),h?d=new OO(e,n,r,s,m,y||null,b,h,a,c+1):n.isText?new Pu(e,n,r,s,m,b,a):new ci(e,n,r,s,m,y||null,b,a,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>X.empty)}return e}matchesNode(e,n,r){return this.dirty==An&&e.eq(this.node)&&Yc(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,a=e.composing?this.localCompositionInfo(e,n):null,c=a&&a.pos>-1?a:null,u=a&&a.pos<0,d=new jO(this,c&&c.node,e);zO(this.node,this.innerDeco,(h,m,y)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!y&&d.syncToMarks(m==this.node.childCount?Fe.none:this.node.child(m).marks,r,e),d.placeWidget(h,e,s)},(h,m,y,b)=>{d.syncToMarks(h.marks,r,e);let v;d.findNodeMatch(h,m,y,b)||u&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(v=d.findIndexWithChild(a.node))>-1&&d.updateNodeAt(h,m,y,v,e)||d.updateNextNode(h,m,y,e,b,s)||d.addNode(h,m,y,e,s),s+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Hi)&&(c&&this.protectLocalComposition(e,c),$S(this.contentDOM,this.children,e),tl&&LO(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof ye)||r<n||s>n+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let c=a.nodeValue,u=BO(this.node.content,c,r-n,s-n);return u<0?null:{node:a,pos:u,text:c}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let c=new MO(this,a,n,s);e.input.compositionNodes.push(c),this.children=Np(this.children,r,r+s.length,e,c)}update(e,n,r,s){return this.dirty==Jn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=An}updateOuterDeco(e){if(Yc(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=KS(this.dom,this.nodeDOM,Cp(this.outerDeco,this.node,n),Cp(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function tx(t,e,n,r,s){GS(r,e,t);let a=new ci(void 0,t,e,n,r,r,r,s,0);return a.contentDOM&&a.updateChildren(s,0),a}class Pu extends ci{constructor(e,n,r,s,a,c,u){super(e,n,r,s,a,null,c,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==Jn||this.dirty!=An&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=An||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=An,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),a=document.createTextNode(s.text);return new Pu(this.parent,s,this.outerDeco,this.innerDeco,a,a,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Jn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class FS extends Ga{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==An&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class OO extends ci{constructor(e,n,r,s,a,c,u,d,h,m){super(e,n,r,s,a,c,u,h,m),this.spec=d}update(e,n,r,s){if(this.dirty==Jn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,n,r);return a&&this.updateInner(e,n,r,s),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function $S(t,e,n){let r=t.firstChild,s=!1;for(let a=0;a<e.length;a++){let c=e[a],u=c.dom;if(u.parentNode==t){for(;u!=r;)r=nx(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(u,r);if(c instanceof Wi){let d=r?r.previousSibling:t.lastChild;$S(c.contentDOM,c.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=nx(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const ga=function(t){t&&(this.nodeName=t)};ga.prototype=Object.create(null);const Ui=[new ga];function Cp(t,e,n){if(t.length==0)return Ui;let r=n?Ui[0]:new ga,s=[r];for(let a=0;a<t.length;a++){let c=t[a].type.attrs;if(c){c.nodeName&&s.push(r=new ga(c.nodeName));for(let u in c){let d=c[u];d!=null&&(n&&s.length==1&&s.push(r=new ga(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+d:u=="style"?r.style=(r.style?r.style+";":"")+d:u!="nodeName"&&(r[u]=d))}}}return s}function KS(t,e,n,r){if(n==Ui&&r==Ui)return e;let s=e;for(let a=0;a<r.length;a++){let c=r[a],u=n[a];if(a){let d;u&&u.nodeName==c.nodeName&&s!=t&&(d=s.parentNode)&&d.nodeName.toLowerCase()==c.nodeName||(d=document.createElement(c.nodeName),d.pmIsDeco=!0,d.appendChild(s),u=Ui[0]),s=d}RO(s,u||Ui[0],c)}return s}function RO(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let a=0;a<r.length;a++)s.indexOf(r[a])==-1&&t.classList.remove(r[a]);for(let a=0;a<s.length;a++)r.indexOf(s[a])==-1&&t.classList.add(s[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function GS(t,e,n){return KS(t,t,Ui,Cp(e,n,t.nodeType!=1))}function Yc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function nx(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class jO{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=DO(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,a=this.stack.length>>1,c=Math.min(a,e.length);for(;s<c&&(s==a-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<a;)this.destroyRest(),this.top.dirty=An,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[a])&&!this.isLocked(h.dom)){u=d;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let d=Wi.create(this.top,e[a],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,a++}}findNodeMatch(e,n,r,s){let a=-1,c;if(s>=this.preMatch.index&&(c=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&c.matchesNode(e,n,r))a=this.top.children.indexOf(c,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let h=this.top.children[u];if(h.matchesNode(e,n,r)&&!this.preMatch.matched.has(h)){a=u;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,n,r,s,a){let c=this.top.children[s];return c.dirty==Jn&&c.dom==c.contentDOM&&(c.dirty=Hi),c.update(e,n,r,a)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,a,c){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof ci){let h=this.preMatch.matched.get(d);if(h!=null&&h!=a)return!1;let m=d.dom,y,b=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Jn&&Yc(n,d.outerDeco));if(!b&&d.update(e,n,r,s))return this.destroyBetween(this.index,u),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!b&&(y=this.recreateWrapper(d,e,n,r,s,c)))return this.destroyBetween(this.index,u),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=Hi,y.updateChildren(s,c+1),y.dirty=An),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,a,c){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Yc(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let u=ci.create(this.top,n,r,s,a,c);if(u.contentDOM){u.children=e.children,e.children=[];for(let d of u.children)d.parent=u}return e.destroy(),u}addNode(e,n,r,s,a){let c=ci.create(this.top,e,n,r,s,a);c.contentDOM&&c.updateChildren(s,a+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let a=new PS(this.top,e,n,r);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Wi;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Pu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ht||jt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new FS(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function DO(t,e){let n=e,r=n.children.length,s=t.childCount,a=new Map,c=[];e:for(;s>0;){let u;for(;;)if(r){let h=n.children[r-1];if(h instanceof Wi)n=h,r=h.children.length;else{u=h,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=u.node;if(d){if(d!=t.child(s-1))break;--s,a.set(u,s),c.push(u)}}return{index:s,matched:a,matches:c.reverse()}}function _O(t,e){return t.type.side-e.type.side}function zO(t,e,n,r){let s=e.locals(t),a=0;if(s.length==0){for(let h=0;h<t.childCount;h++){let m=t.child(h);r(m,s,e.forChild(a,m),h),a+=m.nodeSize}return}let c=0,u=[],d=null;for(let h=0;;){let m,y;for(;c<s.length&&s[c].to==a;){let C=s[c++];C.widget&&(m?(y||(y=[m])).push(C):m=C)}if(m)if(y){y.sort(_O);for(let C=0;C<y.length;C++)n(y[C],h,!!d)}else n(m,h,!!d);let b,v;if(d)v=-1,b=d,d=null;else if(h<t.childCount)v=h,b=t.child(h++);else break;for(let C=0;C<u.length;C++)u[C].to<=a&&u.splice(C--,1);for(;c<s.length&&s[c].from<=a&&s[c].to>a;)u.push(s[c++]);let S=a+b.nodeSize;if(b.isText){let C=S;c<s.length&&s[c].from<C&&(C=s[c].from);for(let k=0;k<u.length;k++)u[k].to<C&&(C=u[k].to);C<S&&(d=b.cut(C-a),b=b.cut(0,C-a),S=C,v=-1)}else for(;c<s.length&&s[c].to<S;)c++;let E=b.isInline&&!b.isLeaf?u.filter(C=>!C.inline):u.slice();r(b,E,e.forChild(a,b),v),a=S}}function LO(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function BO(t,e,n,r){for(let s=0,a=0;s<t.childCount&&a<=r;){let c=t.child(s++),u=a;if(a+=c.nodeSize,!c.isText)continue;let d=c.text;for(;s<t.childCount;){let h=t.child(s++);if(a+=h.nodeSize,!h.isText)break;d+=h.text}if(a>=n){if(a>=r&&d.slice(r-e.length-u,r-u)==e)return r-e.length;let h=u<r?d.lastIndexOf(e,r-u-1):-1;if(h>=0&&h+e.length+u>=n)return u+h;if(n==r&&d.length>=r+e.length-u&&d.slice(r-u,r-u+e.length)==e)return r}}return-1}function Np(t,e,n,r,s){let a=[];for(let c=0,u=0;c<t.length;c++){let d=t[c],h=u,m=u+=d.size;h>=n||m<=e?a.push(d):(h<e&&a.push(d.slice(0,e-h,r)),s&&(a.push(s),s=void 0),m>n&&a.push(d.slice(n-h,d.size,r)))}return a}function hm(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),a=s&&s.size==0,c=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(c<0)return null;let u=r.resolve(c),d,h;if(qu(n)){for(d=c;s&&!s.node;)s=s.parent;let y=s.node;if(s&&y.isAtom&&de.isSelectable(y)&&s.parent&&!(y.isInline&&cO(n.focusNode,n.focusOffset,s.dom))){let b=s.posBefore;h=new de(c==b?u:r.resolve(b))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let y=c,b=c;for(let v=0;v<n.rangeCount;v++){let S=n.getRangeAt(v);y=Math.min(y,t.docView.posFromDOM(S.startContainer,S.startOffset,1)),b=Math.max(b,t.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(y<0)return null;[d,c]=b==t.state.selection.anchor?[b,y]:[y,b],u=r.resolve(c)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let m=r.resolve(d);if(!h){let y=e=="pointer"||t.state.selection.head<u.pos&&!a?1:-1;h=pm(t,m,u,y)}return h}function YS(t){return t.editable?t.hasFocus():XS(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function wr(t,e=!1){let n=t.state.selection;if(JS(t,n),!!YS(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&jt){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Zi(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)UO(t);else{let{anchor:r,head:s}=n,a,c;rx&&!(n instanceof ye)&&(n.$from.parent.inlineContent||(a=ix(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(c=ix(t,n.to))),t.docView.setSelection(r,s,t,e),rx&&(a&&sx(a),c&&sx(c)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&HO(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const rx=Ht||jt&&LS<63;function ix(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,a=r?n.childNodes[r-1]:null;if(Ht&&s&&s.contentEditable=="false")return Vh(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return Vh(s);if(a)return Vh(a)}}function Vh(t){return t.contentEditable="true",Ht&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function sx(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function HO(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!YS(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function UO(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,kt(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Qt&&oi<=11&&(n.disabled=!0,n.disabled=!1)}function JS(t,e){if(e instanceof de){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(lx(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else lx(t)}function lx(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function pm(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||ye.between(e,n,r)}function ax(t){return t.editable&&!t.hasFocus()?!1:XS(t)}function XS(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function VO(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Zi(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Tp(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),a=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return a&&Ce.findFrom(a,e)}function Wr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function ox(t,e,n){let r=t.state.selection;if(r instanceof ye)if(n.indexOf("s")>-1){let{$head:s}=r,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let c=t.state.doc.resolve(s.pos+a.nodeSize*(e<0?-1:1));return Wr(t,new ye(r.$anchor,c))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=Tp(t.state,e);return s&&s instanceof de?Wr(t,s):!1}else if(!(Nn&&n.indexOf("m")>-1)){let s=r.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,c;if(!a||a.isText)return!1;let u=e<0?s.pos-a.nodeSize:s.pos;return a.isAtom||(c=t.docView.descAt(u))&&!c.contentDOM?de.isSelectable(a)?Wr(t,new de(e<0?t.state.doc.resolve(s.pos-a.nodeSize):s)):Ka?Wr(t,new ye(t.state.doc.resolve(e<0?u:u+a.nodeSize))):!1:!1}}else return!1;else{if(r instanceof de&&r.node.isInline)return Wr(t,new ye(e>0?r.$to:r.$from));{let s=Tp(t.state,e);return s?Wr(t,s):!1}}}function Jc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ya(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ps(t,e){return e<0?IO(t):qO(t)}function IO(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,a,c=!1;for(kn&&n.nodeType==1&&r<Jc(n)&&ya(n.childNodes[r],-1)&&(c=!0);;)if(r>0){if(n.nodeType!=1)break;{let u=n.childNodes[r-1];if(ya(u,-1))s=n,a=--r;else if(u.nodeType==3)n=u,r=n.nodeValue.length;else break}}else{if(QS(n))break;{let u=n.previousSibling;for(;u&&ya(u,-1);)s=n.parentNode,a=kt(u),u=u.previousSibling;if(u)n=u,r=Jc(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}c?kp(t,n,r):s&&kp(t,s,a)}function qO(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Jc(n),a,c;for(;;)if(r<s){if(n.nodeType!=1)break;let u=n.childNodes[r];if(ya(u,1))a=n,c=++r;else break}else{if(QS(n))break;{let u=n.nextSibling;for(;u&&ya(u,1);)a=u.parentNode,c=kt(u)+1,u=u.nextSibling;if(u)n=u,r=0,s=Jc(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}a&&kp(t,a,c)}function QS(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function PO(t,e){for(;t&&e==t.childNodes.length&&!$a(t);)e=kt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function FO(t,e){for(;t&&!e&&!$a(t);)e=kt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function kp(t,e,n){if(e.nodeType!=3){let a,c;(c=PO(e,n))?(e=c,n=0):(a=FO(e,n))&&(e=a,n=a.nodeValue.length)}let r=t.domSelection();if(!r)return;if(qu(r)){let a=document.createRange();a.setEnd(e,n),a.setStart(e,n),r.removeAllRanges(),r.addRange(a)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&wr(t)},50)}function cx(t,e){let n=t.state.doc.resolve(e);if(!(jt||dO)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let a=t.coordsAtPos(e-1),c=(a.top+a.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(a.left-s.left)>1)return a.left<s.left?"ltr":"rtl"}if(e<n.end()){let a=t.coordsAtPos(e+1),c=(a.top+a.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(a.left-s.left)>1)return a.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function ux(t,e,n){let r=t.state.selection;if(r instanceof ye&&!r.empty||n.indexOf("s")>-1||Nn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:a}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let c=Tp(t.state,e);if(c&&c instanceof de)return Wr(t,c)}if(!s.parent.inlineContent){let c=e<0?s:a,u=r instanceof dn?Ce.near(c,e):Ce.findFrom(c,e);return u?Wr(t,u):!1}return!1}function fx(t,e){if(!(t.state.selection instanceof ye))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let c=t.state.tr;return e<0?c.delete(n.pos-a.nodeSize,n.pos):c.delete(n.pos,n.pos+a.nodeSize),t.dispatch(c),!0}return!1}function dx(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function $O(t){if(!Ht||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;dx(t,r,"true"),setTimeout(()=>dx(t,r,"false"),20)}return!1}function KO(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function GO(t,e){let n=e.keyCode,r=KO(e);if(n==8||Nn&&n==72&&r=="c")return fx(t,-1)||Ps(t,-1);if(n==46&&!e.shiftKey||Nn&&n==68&&r=="c")return fx(t,1)||Ps(t,1);if(n==13||n==27)return!0;if(n==37||Nn&&n==66&&r=="c"){let s=n==37?cx(t,t.state.selection.from)=="ltr"?-1:1:-1;return ox(t,s,r)||Ps(t,s)}else if(n==39||Nn&&n==70&&r=="c"){let s=n==39?cx(t,t.state.selection.from)=="ltr"?1:-1:1;return ox(t,s,r)||Ps(t,s)}else{if(n==38||Nn&&n==80&&r=="c")return ux(t,-1,r)||Ps(t,-1);if(n==40||Nn&&n==78&&r=="c")return $O(t)||ux(t,1,r)||Ps(t,1);if(r==(Nn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function mm(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:s,openEnd:a}=e;for(;s>1&&a>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,a--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let c=t.someProp("clipboardSerializer")||ns.fromSchema(t.state.schema),u=r2(),d=u.createElement("div");d.appendChild(c.serializeFragment(r,{document:u}));let h=d.firstChild,m,y=0;for(;h&&h.nodeType==1&&(m=n2[h.nodeName.toLowerCase()]);){for(let v=m.length-1;v>=0;v--){let S=u.createElement(m[v]);for(;d.firstChild;)S.appendChild(d.firstChild);d.appendChild(S),y++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${a}${y?` -${y}`:""} ${JSON.stringify(n)}`);let b=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function ZS(t,e,n,r,s){let a=s.parent.type.spec.code,c,u;if(!n&&!e)return null;let d=!!e&&(r||a||!n);if(d){if(t.someProp("transformPastedText",b=>{e=b(e,a||r,t)}),a)return u=new ie(X.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",b=>{u=b(u,t,!0)}),u;let y=t.someProp("clipboardTextParser",b=>b(e,s,r,t));if(y)u=y;else{let b=s.marks(),{schema:v}=t.state,S=ns.fromSchema(v);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let C=c.appendChild(document.createElement("p"));E&&C.appendChild(S.serializeNode(v.text(E,b)))})}}else t.someProp("transformPastedHTML",y=>{n=y(n,t)}),c=QO(n),Ka&&ZO(c);let h=c&&c.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let y=+m[3];y>0;y--){let b=c.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;c=b}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||ai.fromSchema(t.state.schema)).parseSlice(c,{preserveWhitespace:!!(d||m),context:s,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!YO.test(b.parentNode.nodeName)?{ignore:!0}:null}})),m)u=WO(hx(u,+m[1],+m[2]),m[4]);else if(u=ie.maxOpen(JO(u.content,s),!0),u.openStart||u.openEnd){let y=0,b=0;for(let v=u.content.firstChild;y<u.openStart&&!v.type.spec.isolating;y++,v=v.firstChild);for(let v=u.content.lastChild;b<u.openEnd&&!v.type.spec.isolating;b++,v=v.lastChild);u=hx(u,y,b)}return t.someProp("transformPasted",y=>{u=y(u,t,d)}),u}const YO=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function JO(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),a,c=[];if(t.forEach(u=>{if(!c)return;let d=s.findWrapping(u.type),h;if(!d)return c=null;if(h=c.length&&a.length&&e2(d,a,u,c[c.length-1],0))c[c.length-1]=h;else{c.length&&(c[c.length-1]=t2(c[c.length-1],a.length));let m=WS(u,d);c.push(m),s=s.matchType(m.type),a=d}}),c)return X.from(c)}return t}function WS(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,X.from(t));return t}function e2(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let a=e2(t,e,n,r.lastChild,s+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(X.from(WS(n,t,s+1))))}}function t2(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,t2(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(X.empty,!0);return t.copy(n.append(r))}function Ap(t,e,n,r,s,a){let c=e<0?t.firstChild:t.lastChild,u=c.content;return t.childCount>1&&(a=0),s<r-1&&(u=Ap(u,e,n,r,s+1,a)),s>=n&&(u=e<0?c.contentMatchAt(0).fillBefore(u,a<=s).append(u):u.append(c.contentMatchAt(c.childCount).fillBefore(X.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,c.copy(u))}function hx(t,e,n){return e<t.openStart&&(t=new ie(Ap(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ie(Ap(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const n2={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let px=null;function r2(){return px||(px=document.implementation.createHTMLDocument("title"))}let Ih=null;function XO(t){let e=window.trustedTypes;return e?(Ih||(Ih=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Ih.createHTML(t)):t}function QO(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=r2().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&n2[r[1].toLowerCase()])&&(t=s.map(a=>"<"+a+">").join("")+t+s.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=XO(t),s)for(let a=0;a<s.length;a++)n=n.querySelector(s[a])||n;return n}function ZO(t){let e=t.querySelectorAll(jt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function WO(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:a,openEnd:c}=t;for(let u=r.length-2;u>=0;u-=2){let d=n.nodes[r[u]];if(!d||d.hasRequiredAttrs())break;s=X.from(d.create(r[u+1],s)),a++,c++}return new ie(s,a,c)}const Ut={},Vt={},e3={touchstart:!0,touchmove:!0};class t3{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function n3(t){for(let e in Ut){let n=Ut[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{i3(t,r)&&!gm(t,r)&&(t.editable||!(r.type in Vt))&&n(t,r)},e3[e]?{passive:!0}:void 0)}Ht&&t.dom.addEventListener("input",()=>null),Mp(t)}function li(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function r3(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Mp(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>gm(t,r))})}function gm(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function i3(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function s3(t,e){!gm(t,e)&&Ut[e.type]&&(t.editable||!(e.type in Vt))&&Ut[e.type](t,e)}Vt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!s2(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(xr&&jt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),tl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Li(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||GO(t,n)?n.preventDefault():li(t,"key")};Vt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Vt.keypress=(t,e)=>{let n=e;if(s2(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Nn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ye)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),a=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",c=>c(t,r.$from.pos,r.$to.pos,s,a))&&t.dispatch(a()),n.preventDefault()}};function Fu(t){return{left:t.clientX,top:t.clientY}}function l3(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function ym(t,e,n,r,s){if(r==-1)return!1;let a=t.state.doc.resolve(r);for(let c=a.depth+1;c>0;c--)if(t.someProp(e,u=>c>a.depth?u(t,n,a.nodeAfter,a.before(c),s,!0):u(t,n,a.node(c),a.before(c),s,!1)))return!0;return!1}function Xs(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function a3(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&de.isSelectable(r)?(Xs(t,new de(n)),!0):!1}function o3(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof de&&(r=n.node);let a=t.state.doc.resolve(e);for(let c=a.depth+1;c>0;c--){let u=c>a.depth?a.nodeAfter:a.node(c);if(de.isSelectable(u)){r&&n.$from.depth>0&&c>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?s=a.before(n.$from.depth):s=a.before(c);break}}return s!=null?(Xs(t,de.create(t.state.doc,s)),!0):!1}function c3(t,e,n,r,s){return ym(t,"handleClickOn",e,n,r)||t.someProp("handleClick",a=>a(t,e,r))||(s?o3(t,n):a3(t,n))}function u3(t,e,n,r){return ym(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function f3(t,e,n,r){return ym(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||d3(t,n,r)}function d3(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Xs(t,ye.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let a=s.depth+1;a>0;a--){let c=a>s.depth?s.nodeAfter:s.node(a),u=s.before(a);if(c.inlineContent)Xs(t,ye.create(r,u+1,u+1+c.content.size));else if(de.isSelectable(c))Xs(t,de.create(r,u));else continue;return!0}}function bm(t){return Xc(t)}const i2=Nn?"metaKey":"ctrlKey";Ut.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=bm(t),s=Date.now(),a="singleClick";s-t.input.lastClick.time<500&&l3(n,t.input.lastClick)&&!n[i2]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:a,button:n.button};let c=t.posAtCoords(Fu(n));c&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new h3(t,c,n,!!r)):(a=="doubleClick"?u3:f3)(t,c.pos,c.inside,n)?n.preventDefault():li(t,"pointer"))};class h3{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[i2],this.allowDefault=r.shiftKey;let a,c;if(n.inside>-1)a=e.state.doc.nodeAt(n.inside),c=n.inside;else{let m=e.state.doc.resolve(n.pos);a=m.parent,c=m.depth?m.before():0}const u=s?null:r.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:h}=e.state;(r.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||h instanceof de&&h.from<=c&&h.to>c)&&(this.mightDrag={node:a,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&kn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),li(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>wr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Fu(e))),this.updateAllowDefault(e),this.allowDefault||!n?li(this.view,"pointer"):c3(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ht&&this.mightDrag&&!this.mightDrag.node.isAtom||jt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Xs(this.view,Ce.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):li(this.view,"pointer")}move(e){this.updateAllowDefault(e),li(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ut.touchstart=t=>{t.input.lastTouch=Date.now(),bm(t),li(t,"pointer")};Ut.touchmove=t=>{t.input.lastTouch=Date.now(),li(t,"pointer")};Ut.contextmenu=t=>bm(t);function s2(t,e){return t.composing?!0:Ht&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const p3=xr?5e3:-1;Vt.compositionstart=Vt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ye&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Xc(t,!0),t.markCursor=null;else if(Xc(t,!e.selection.empty),kn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,a=r.focusOffset;s&&s.nodeType==1&&a!=0;){let c=a<0?s.lastChild:s.childNodes[a-1];if(!c)break;if(c.nodeType==3){let u=t.domSelection();u&&u.collapse(c,c.nodeValue.length);break}else s=c,a=-1}}t.input.composing=!0}l2(t,p3)};Vt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,l2(t,20))};function l2(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Xc(t),e))}function a2(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=g3());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function m3(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=aO(e.focusNode,e.focusOffset),r=oO(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(n==a||r==a)return a;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let c=n.pmViewDesc;if(!(!c||!c.isText(n.nodeValue)))return r}}return n||r}function g3(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Xc(t,e=!1){if(!(xr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),a2(t),e||t.docView&&t.docView.dirty){let n=hm(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function y3(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Ma=Qt&&oi<15||tl&&hO<604;Ut.copy=Vt.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let a=Ma?null:n.clipboardData,c=r.content(),{dom:u,text:d}=mm(t,c);a?(n.preventDefault(),a.clearData(),a.setData("text/html",u.innerHTML),a.setData("text/plain",d)):y3(t,u),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function b3(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function x3(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Oa(t,r.value,null,s,e):Oa(t,r.textContent,r.innerHTML,s,e)},50)}function Oa(t,e,n,r,s){let a=ZS(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,s,a||ie.empty)))return!0;if(!a)return!1;let c=b3(a),u=c?t.state.tr.replaceSelectionWith(c,r):t.state.tr.replaceSelection(a);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function o2(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Vt.paste=(t,e)=>{let n=e;if(t.composing&&!xr)return;let r=Ma?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Oa(t,o2(r),r.getData("text/html"),s,n)?n.preventDefault():x3(t,n)};class c2{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const v3=Nn?"altKey":"ctrlKey";function u2(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[v3]}Ut.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,a=s.empty?null:t.posAtCoords(Fu(n)),c;if(!(a&&a.pos>=s.from&&a.pos<=(s instanceof de?s.to-1:s.to))){if(r&&r.mightDrag)c=de.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let y=t.docView.nearestDesc(n.target,!0);y&&y.node.type.spec.draggable&&y!=t.docView&&(c=de.create(t.state.doc,y.posBefore))}}let u=(c||t.state.selection).content(),{dom:d,text:h,slice:m}=mm(t,u);(!n.dataTransfer.files.length||!jt||LS>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ma?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ma||n.dataTransfer.setData("text/plain",h),t.dragging=new c2(m,u2(t,n),c)};Ut.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Vt.dragover=Vt.dragenter=(t,e)=>e.preventDefault();Vt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(Fu(n));if(!s)return;let a=t.state.doc.resolve(s.pos),c=r&&r.slice;c?t.someProp("transformPasted",S=>{c=S(c,t,!1)}):c=ZS(t,o2(n.dataTransfer),Ma?null:n.dataTransfer.getData("text/html"),!1,a);let u=!!(r&&u2(t,n));if(t.someProp("handleDrop",S=>S(t,n,c||ie.empty,u))){n.preventDefault();return}if(!c)return;n.preventDefault();let d=c?mS(t.state.doc,a.pos,c):a.pos;d==null&&(d=a.pos);let h=t.state.tr;if(u){let{node:S}=r;S?S.replace(h):h.deleteSelection()}let m=h.mapping.map(d),y=c.openStart==0&&c.openEnd==0&&c.content.childCount==1,b=h.doc;if(y?h.replaceRangeWith(m,m,c.content.firstChild):h.replaceRange(m,m,c),h.doc.eq(b))return;let v=h.doc.resolve(m);if(y&&de.isSelectable(c.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(c.content.firstChild))h.setSelection(new de(v));else{let S=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((E,C,k,T)=>S=T),h.setSelection(pm(t,v,h.doc.resolve(S)))}t.focus(),t.dispatch(h.setMeta("uiEvent","drop"))};Ut.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&wr(t)},20))};Ut.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ut.beforeinput=(t,e)=>{if(jt&&xr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,Li(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in Vt)Ut[t]=Vt[t];function Ra(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Qc{constructor(e,n){this.toDOM=e,this.spec=n||$i,this.side=this.spec.side||0}map(e,n,r,s){let{pos:a,deleted:c}=e.mapResult(n.from+s,this.side<0?-1:1);return c?null:new Lt(a-r,a-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Qc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ra(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ui{constructor(e,n){this.attrs=e,this.spec=n||$i}map(e,n,r,s){let a=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,c=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return a>=c?null:new Lt(a,c,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof ui&&Ra(this.attrs,e.attrs)&&Ra(this.spec,e.spec)}static is(e){return e.type instanceof ui}destroy(){}}class xm{constructor(e,n){this.attrs=e,this.spec=n||$i}map(e,n,r,s){let a=e.mapResult(n.from+s,1);if(a.deleted)return null;let c=e.mapResult(n.to+s,-1);return c.deleted||c.pos<=a.pos?null:new Lt(a.pos-r,c.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),a;return s==n.from&&!(a=e.child(r)).isText&&s+a.nodeSize==n.to}eq(e){return this==e||e instanceof xm&&Ra(this.attrs,e.attrs)&&Ra(this.spec,e.spec)}destroy(){}}class Lt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Lt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Lt(e,e,new Qc(n,r))}static inline(e,n,r,s){return new Lt(e,n,new ui(r,s))}static node(e,n,r,s){return new Lt(e,n,new xm(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof ui}get widget(){return this.type instanceof Qc}}const $s=[],$i={};class Qe{constructor(e,n){this.local=e.length?e:$s,this.children=n.length?n:$s}static create(e,n){return n.length?Zc(n,e,0,$i):Ot}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,a){for(let c=0;c<this.local.length;c++){let u=this.local[c];u.from<=n&&u.to>=e&&(!a||a(u.spec))&&r.push(u.copy(u.from+s,u.to+s))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<n&&this.children[c+1]>e){let u=this.children[c]+1;this.children[c+2].findInner(e-u,n-u,r,s+u,a)}}map(e,n,r){return this==Ot||e.maps.length==0?this:this.mapInner(e,n,0,0,r||$i)}mapInner(e,n,r,s,a){let c;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(e,r,s);d&&d.type.valid(n,d)?(c||(c=[])).push(d):a.onRemove&&a.onRemove(this.local[u].spec)}return this.children.length?S3(this.children,c||[],e,n,r,s,a):c?new Qe(c.sort(Ki),$s):Ot}add(e,n){return n.length?this==Ot?Qe.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,a=0;e.forEach((u,d)=>{let h=d+r,m;if(m=d2(n,u,h)){for(s||(s=this.children.slice());a<s.length&&s[a]<d;)a+=3;s[a]==d?s[a+2]=s[a+2].addInner(u,m,h+1):s.splice(a,0,d,d+u.nodeSize,Zc(m,u,h+1,$i)),a+=3}});let c=f2(a?h2(n):n,-r);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||c.splice(u--,1);return new Qe(c.length?this.local.concat(c).sort(Ki):this.local,s||this.children)}remove(e){return e.length==0||this==Ot?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let a=0;a<r.length;a+=3){let c,u=r[a]+n,d=r[a+1]+n;for(let m=0,y;m<e.length;m++)(y=e[m])&&y.from>u&&y.to<d&&(e[m]=null,(c||(c=[])).push(y));if(!c)continue;r==this.children&&(r=this.children.slice());let h=r[a+2].removeInner(c,u+1);h!=Ot?r[a+2]=h:(r.splice(a,3),a-=3)}if(s.length){for(let a=0,c;a<e.length;a++)if(c=e[a])for(let u=0;u<s.length;u++)s[u].eq(c,n)&&(s==this.local&&(s=this.local.slice()),s.splice(u--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Qe(s,r):Ot}forChild(e,n){if(this==Ot)return this;if(n.isLeaf)return Qe.empty;let r,s;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let a=e+1,c=a+n.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<c&&d.to>a&&d.type instanceof ui){let h=Math.max(a,d.from)-a,m=Math.min(c,d.to)-a;h<m&&(s||(s=[])).push(d.copy(h,m))}}if(s){let u=new Qe(s.sort(Ki),$s);return r?new ni([u,r]):u}return r||Ot}eq(e){if(this==e)return!0;if(!(e instanceof Qe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return vm(this.localsInner(e))}localsInner(e){if(this==Ot)return $s;if(e.inlineContent||!this.local.some(ui.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ui||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Qe.empty=new Qe([],[]);Qe.removeOverlap=vm;const Ot=Qe.empty;class ni{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,$i));return ni.from(r)}forChild(e,n){if(n.isLeaf)return Qe.empty;let r=[];for(let s=0;s<this.members.length;s++){let a=this.members[s].forChild(e,n);a!=Ot&&(a instanceof ni?r=r.concat(a.members):r.push(a))}return ni.from(r)}eq(e){if(!(e instanceof ni)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let a=this.members[s].localsInner(e);if(a.length)if(!n)n=a;else{r&&(n=n.slice(),r=!1);for(let c=0;c<a.length;c++)n.push(a[c])}}return n?vm(r?n:n.sort(Ki)):$s}static from(e){switch(e.length){case 0:return Ot;case 1:return e[0];default:return new ni(e.every(n=>n instanceof Qe)?e:e.reduce((n,r)=>n.concat(r instanceof Qe?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function S3(t,e,n,r,s,a,c){let u=t.slice();for(let h=0,m=a;h<n.maps.length;h++){let y=0;n.maps[h].forEach((b,v,S,E)=>{let C=E-S-(v-b);for(let k=0;k<u.length;k+=3){let T=u[k+1];if(T<0||b>T+m-y)continue;let j=u[k]+m-y;v>=j?u[k+1]=b<=j?-2:-1:b>=m&&C&&(u[k]+=C,u[k+1]+=C)}y+=C}),m=n.maps[h].map(m,-1)}let d=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){d=!0,u[h+1]=-1;continue}let m=n.map(t[h]+a),y=m-s;if(y<0||y>=r.content.size){d=!0;continue}let b=n.map(t[h+1]+a,-1),v=b-s,{index:S,offset:E}=r.content.findIndex(y),C=r.maybeChild(S);if(C&&E==y&&E+C.nodeSize==v){let k=u[h+2].mapInner(n,C,m+1,t[h]+a+1,c);k!=Ot?(u[h]=y,u[h+1]=v,u[h+2]=k):(u[h+1]=-2,d=!0)}else d=!0}if(d){let h=w3(u,t,e,n,s,a,c),m=Zc(h,r,0,c);e=m.local;for(let y=0;y<u.length;y+=3)u[y+1]<0&&(u.splice(y,3),y-=3);for(let y=0,b=0;y<m.children.length;y+=3){let v=m.children[y];for(;b<u.length&&u[b]<v;)b+=3;u.splice(b,0,m.children[y],m.children[y+1],m.children[y+2])}}return new Qe(e.sort(Ki),u)}function f2(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new Lt(s.from+e,s.to+e,s.type))}return n}function w3(t,e,n,r,s,a,c){function u(d,h){for(let m=0;m<d.local.length;m++){let y=d.local[m].map(r,s,h);y?n.push(y):c.onRemove&&c.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)u(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&u(t[d+2],e[d]+a+1);return n}function d2(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let a=0,c;a<t.length;a++)(c=t[a])&&c.from>n&&c.to<r&&((s||(s=[])).push(c),t[a]=null);return s}function h2(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Zc(t,e,n,r){let s=[],a=!1;e.forEach((u,d)=>{let h=d2(t,u,d+n);if(h){a=!0;let m=Zc(h,u,n+d+1,r);m!=Ot&&s.push(d,d+u.nodeSize,m)}});let c=f2(a?h2(t):t,-n).sort(Ki);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||(r.onRemove&&r.onRemove(c[u].spec),c.splice(u--,1));return c.length||s.length?new Qe(c,s):Ot}function Ki(t,e){return t.from-e.from||t.to-e.to}function vm(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let a=e[s];if(a.from==r.from){a.to!=r.to&&(e==t&&(e=t.slice()),e[s]=a.copy(a.from,r.to),mx(e,s+1,a.copy(r.to,a.to)));continue}else{a.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,a.from),mx(e,s,r.copy(a.from,r.to)));break}}}return e}function mx(t,e,n){for(;e<t.length&&Ki(n,t[e])>0;)e++;t.splice(e,0,n)}function qh(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Ot&&e.push(r)}),t.cursorWrapper&&e.push(Qe.create(t.state.doc,[t.cursorWrapper.deco])),ni.from(e)}const E3={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},C3=Qt&&oi<=11;class N3{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class T3{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new N3,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Qt&&oi<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),C3&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,E3)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ax(this.view)){if(this.suppressingSelectionUpdates)return wr(this.view);if(Qt&&oi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Zi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let a=e.focusNode;a;a=el(a))n.add(a);for(let a=e.anchorNode;a;a=el(a))if(n.has(a)){r=a;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&ax(e)&&!this.ignoreSelectionChange(r),a=-1,c=-1,u=!1,d=[];if(e.editable)for(let m=0;m<n.length;m++){let y=this.registerMutation(n[m],d);y&&(a=a<0?y.from:Math.min(y.from,a),c=c<0?y.to:Math.max(y.to,c),y.typeOver&&(u=!0))}if(kn&&d.length){let m=d.filter(y=>y.nodeName=="BR");if(m.length==2){let[y,b]=m;y.parentNode&&y.parentNode.parentNode==b.parentNode?b.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let b of m){let v=b.parentNode;v&&v.nodeName=="LI"&&(!y||M3(e,y)!=v)&&b.remove()}}}let h=null;a<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&qu(r)&&(h=hm(e))&&h.eq(Ce.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,wr(e),this.currentSelection.set(r),e.scrollToSelection()):(a>-1||s)&&(a>-1&&(e.docView.markDirty(a,c),k3(e)),this.handleDOMChange(a,c,u,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||wr(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let y=e.addedNodes[m];n.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,a=e.nextSibling;if(Qt&&oi<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:y,nextSibling:b}=e.addedNodes[m];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(s=y),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(a=b)}let c=s&&s.parentNode==e.target?kt(s)+1:0,u=r.localPosFromDOM(e.target,c,-1),d=a&&a.parentNode==e.target?kt(a):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:u,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let gx=new WeakMap,yx=!1;function k3(t){if(!gx.has(t)&&(gx.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=kn,yx)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yx=!0}}function bx(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,a=e.endOffset,c=t.domAtPos(t.state.selection.anchor);return Zi(c.node,c.offset,s,a)&&([n,r,s,a]=[s,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:a}}function A3(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return bx(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?bx(t,n):null}function M3(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function O3(t,e,n){let{node:r,fromOffset:s,toOffset:a,from:c,to:u}=t.docView.parseRange(e,n),d=t.domSelectionRange(),h,m=d.anchorNode;if(m&&t.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],qu(d)||h.push({node:d.focusNode,offset:d.focusOffset})),jt&&t.input.lastKeyCode===8)for(let C=a;C>s;C--){let k=r.childNodes[C-1],T=k.pmViewDesc;if(k.nodeName=="BR"&&!T){a=C;break}if(!T||T.size)break}let y=t.state.doc,b=t.someProp("domParser")||ai.fromSchema(t.state.schema),v=y.resolve(c),S=null,E=b.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:a,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:R3,context:v});if(h&&h[0].pos!=null){let C=h[0].pos,k=h[1]&&h[1].pos;k==null&&(k=C),S={anchor:C+c,head:k+c}}return{doc:E,sel:S,from:c,to:u}}function R3(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ht&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Ht&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const j3=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function D3(t,e,n,r,s){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let I=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,ne=hm(t,I);if(ne&&!t.state.selection.eq(ne)){if(jt&&xr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Q=>Q(t,Li(13,"Enter"))))return;let ae=t.state.tr.setSelection(ne);I=="pointer"?ae.setMeta("pointer",!0):I=="key"&&ae.scrollIntoView(),a&&ae.setMeta("composition",a),t.dispatch(ae)}return}let c=t.state.doc.resolve(e),u=c.sharedDepth(n);e=c.before(u+1),n=t.state.doc.resolve(n).after(u+1);let d=t.state.selection,h=O3(t,e,n),m=t.state.doc,y=m.slice(h.from,h.to),b,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(b=t.state.selection.to,v="end"):(b=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let S=L3(y.content,h.doc.content,h.from,b,v);if(S&&t.input.domChangeCount++,(tl&&t.input.lastIOSEnter>Date.now()-225||xr)&&s.some(I=>I.nodeType==1&&!j3.test(I.nodeName))&&(!S||S.endA>=S.endB)&&t.someProp("handleKeyDown",I=>I(t,Li(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!S)if(r&&d instanceof ye&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))S={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let I=xx(t,t.state.doc,h.sel);if(I&&!I.eq(t.state.selection)){let ne=t.state.tr.setSelection(I);a&&ne.setMeta("composition",a),t.dispatch(ne)}}return}t.state.selection.from<t.state.selection.to&&S.start==S.endB&&t.state.selection instanceof ye&&(S.start>t.state.selection.from&&S.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?S.start=t.state.selection.from:S.endA<t.state.selection.to&&S.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(S.endB+=t.state.selection.to-S.endA,S.endA=t.state.selection.to)),Qt&&oi<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>h.from&&h.doc.textBetween(S.start-h.from-1,S.start-h.from+1)=="  "&&(S.start--,S.endA--,S.endB--);let E=h.doc.resolveNoCache(S.start-h.from),C=h.doc.resolveNoCache(S.endB-h.from),k=m.resolve(S.start),T=E.sameParent(C)&&E.parent.inlineContent&&k.end()>=S.endA;if((tl&&t.input.lastIOSEnter>Date.now()-225&&(!T||s.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!T&&E.pos<h.doc.content.size&&(!E.sameParent(C)||!E.parent.inlineContent)&&E.pos<C.pos&&!/\S/.test(h.doc.textBetween(E.pos,C.pos,"","")))&&t.someProp("handleKeyDown",I=>I(t,Li(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>S.start&&z3(m,S.start,S.endA,E,C)&&t.someProp("handleKeyDown",I=>I(t,Li(8,"Backspace")))){xr&&jt&&t.domObserver.suppressSelectionUpdates();return}jt&&S.endB==S.start&&(t.input.lastChromeDelete=Date.now()),xr&&!T&&E.start()!=C.start()&&C.parentOffset==0&&E.depth==C.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==S.endA&&(S.endB-=2,C=h.doc.resolveNoCache(S.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(I){return I(t,Li(13,"Enter"))})},20));let j=S.start,P=S.endA,F=I=>{let ne=I||t.state.tr.replace(j,P,h.doc.slice(S.start-h.from,S.endB-h.from));if(h.sel){let ae=xx(t,ne.doc,h.sel);ae&&!(jt&&t.composing&&ae.empty&&(S.start!=S.endB||t.input.lastChromeDelete<Date.now()-100)&&(ae.head==j||ae.head==ne.mapping.map(P)-1)||Qt&&ae.empty&&ae.head==j)&&ne.setSelection(ae)}return a&&ne.setMeta("composition",a),ne.scrollIntoView()},Y;if(T)if(E.pos==C.pos){Qt&&oi<=11&&E.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>wr(t),20));let I=F(t.state.tr.delete(j,P)),ne=m.resolve(S.start).marksAcross(m.resolve(S.endA));ne&&I.ensureMarks(ne),t.dispatch(I)}else if(S.endA==S.endB&&(Y=_3(E.parent.content.cut(E.parentOffset,C.parentOffset),k.parent.content.cut(k.parentOffset,S.endA-k.start())))){let I=F(t.state.tr);Y.type=="add"?I.addMark(j,P,Y.mark):I.removeMark(j,P,Y.mark),t.dispatch(I)}else if(E.parent.child(E.index()).isText&&E.index()==C.index()-(C.textOffset?0:1)){let I=E.parent.textBetween(E.parentOffset,C.parentOffset),ne=()=>F(t.state.tr.insertText(I,j,P));t.someProp("handleTextInput",ae=>ae(t,j,P,I,ne))||t.dispatch(ne())}else t.dispatch(F());else t.dispatch(F())}function xx(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:pm(t,e.resolve(n.anchor),e.resolve(n.head))}function _3(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,a=r,c,u,d;for(let m=0;m<r.length;m++)s=r[m].removeFromSet(s);for(let m=0;m<n.length;m++)a=n[m].removeFromSet(a);if(s.length==1&&a.length==0)u=s[0],c="add",d=m=>m.mark(u.addToSet(m.marks));else if(s.length==0&&a.length==1)u=a[0],c="remove",d=m=>m.mark(u.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if(X.from(h).eq(t))return{mark:u,type:c}}function z3(t,e,n,r,s){if(n-e<=s.pos-r.pos||Ph(r,!0,!1)<s.pos)return!1;let a=t.resolve(e);if(!r.parent.isTextblock){let u=a.nodeAfter;return u!=null&&n==e+u.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let c=t.resolve(Ph(a,!0,!0));return!c.parent.isTextblock||c.pos>n||Ph(c,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(c.parent.content)}function Ph(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let a=t.node(r).maybeChild(t.indexAfter(r));for(;a&&!a.isLeaf;)a=a.firstChild,s++}return s}function L3(t,e,n,r,s){let a=t.findDiffStart(e,n);if(a==null)return null;let{a:c,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let d=Math.max(0,a-Math.min(c,u));r-=c+d-a}if(c<a&&t.size<e.size){let d=r<=a&&r>=c?a-r:0;a-=d,a&&a<e.size&&vx(e.textBetween(a-1,a+1))&&(a+=d?1:-1),u=a+(u-c),c=a}else if(u<a){let d=r<=a&&r>=u?a-r:0;a-=d,a&&a<t.size&&vx(t.textBetween(a-1,a+1))&&(a+=d?1:-1),c=a+(c-u),u=a}return{start:a,endA:c,endB:u}}function vx(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class p2{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new t3,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Nx),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ex(this),wx(this),this.nodeViews=Cx(this),this.docView=tx(this.state.doc,Sx(this),qh(this),this.dom,this),this.domObserver=new T3(this,(r,s,a,c)=>D3(this,r,s,a,c)),this.domObserver.start(),n3(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Mp(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Nx),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,a=!1,c=!1;e.storedMarks&&this.composing&&(a2(this),c=!0),this.state=e;let u=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=Cx(this);H3(v,this.nodeViews)&&(this.nodeViews=v,a=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&Mp(this),this.editable=Ex(this),wx(this);let d=qh(this),h=Sx(this),m=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",y=a||!this.docView.matchesNode(e.doc,h,d);(y||!e.selection.eq(s.selection))&&(c=!0);let b=m=="preserve"&&c&&this.dom.style.overflowAnchor==null&&gO(this);if(c){this.domObserver.stop();let v=y&&(Qt||jt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&B3(s.selection,e.selection);if(y){let S=jt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=m3(this)),(a||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=tx(e.doc,h,d,this.dom,this)),S&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&VO(this))?wr(this,v):(JS(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():b&&yO(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof de){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&J1(this,n.getBoundingClientRect(),e)}else J1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let a=r.from+(this.state.doc.content.size-n.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==r.node&&(s=a)}this.dragging=new c2(e.slice,e.move,s<0?void 0:de.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let c=0;c<this.directPlugins.length;c++){let u=this.directPlugins[c].props[e];if(u!=null&&(s=n?n(u):u))return s}let a=this.state.plugins;if(a)for(let c=0;c<a.length;c++){let u=a[c].props[e];if(u!=null&&(s=n?n(u):u))return s}}hasFocus(){if(Qt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&bO(this.dom),wr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return EO(this,e)}coordsAtPos(e,n=1){return IS(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return AO(this,n||this.state,e)}pasteHTML(e,n){return Oa(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Oa(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return mm(this,e)}destroy(){this.docView&&(r3(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],qh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,sO())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return s3(this,e)}domSelectionRange(){let e=this.domSelection();return e?Ht&&this.root.nodeType===11&&uO(this.dom.ownerDocument)==this.dom&&A3(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}p2.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function Sx(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Lt.node(0,t.state.doc.content.size,e)]}function wx(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Lt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Ex(t){return!t.someProp("editable",e=>e(t.state)===!1)}function B3(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Cx(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function H3(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function Nx(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var fi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Wc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},U3=typeof navigator<"u"&&/Mac/.test(navigator.platform),V3=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var At=0;At<10;At++)fi[48+At]=fi[96+At]=String(At);for(var At=1;At<=24;At++)fi[At+111]="F"+At;for(var At=65;At<=90;At++)fi[At]=String.fromCharCode(At+32),Wc[At]=String.fromCharCode(At);for(var Fh in fi)Wc.hasOwnProperty(Fh)||(Wc[Fh]=fi[Fh]);function I3(t){var e=U3&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||V3&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Wc:fi)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const q3=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),P3=typeof navigator<"u"&&/Win/.test(navigator.platform);function F3(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,a,c;for(let u=0;u<e.length-1;u++){let d=e[u];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))q3?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),c&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function $3(t){let e=Object.create(null);for(let n in t)e[F3(n)]=t[n];return e}function $h(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function K3(t){return new it({props:{handleKeyDown:m2(t)}})}function m2(t){let e=$3(t);return function(n,r){let s=I3(r),a,c=e[$h(s,r)];if(c&&c(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let u=e[$h(s,r,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(P3&&r.ctrlKey&&r.altKey)&&(a=fi[r.keyCode])&&a!=s){let u=e[$h(a,r)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}var G3=Object.defineProperty,Sm=(t,e)=>{for(var n in e)G3(t,n,{get:e[n],enumerable:!0})};function $u(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:a}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,a=n.storedMarks,n}}}var Ku=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([c,u])=>[c,(...h)=>{const m=u(...h)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:a}=r,c=[],u=!!t,d=t||s.tr,h=()=>(!u&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(d),c.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(n).map(([y,b])=>[y,(...S)=>{const E=this.buildProps(d,e),C=b(...S)(E);return c.push(C),m}])),run:h};return m}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,a=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...h)=>d(...h)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:a}=r,c={tr:t,editor:r,view:a,state:$u({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([u,d])=>[u,(...h)=>d(...h)(c)]))}};return c}},g2={};Sm(g2,{blur:()=>Y3,clearContent:()=>J3,clearNodes:()=>X3,command:()=>Q3,createParagraphNear:()=>Z3,cut:()=>W3,deleteCurrentNode:()=>e5,deleteNode:()=>t5,deleteRange:()=>n5,deleteSelection:()=>r5,enter:()=>i5,exitCode:()=>s5,extendMarkRange:()=>l5,first:()=>a5,focus:()=>c5,forEach:()=>u5,insertContent:()=>f5,insertContentAt:()=>p5,joinBackward:()=>y5,joinDown:()=>g5,joinForward:()=>b5,joinItemBackward:()=>x5,joinItemForward:()=>v5,joinTextblockBackward:()=>S5,joinTextblockForward:()=>w5,joinUp:()=>m5,keyboardShortcut:()=>C5,lift:()=>N5,liftEmptyBlock:()=>T5,liftListItem:()=>k5,newlineInCode:()=>A5,resetAttributes:()=>M5,scrollIntoView:()=>O5,selectAll:()=>R5,selectNodeBackward:()=>j5,selectNodeForward:()=>D5,selectParentNode:()=>_5,selectTextblockEnd:()=>z5,selectTextblockStart:()=>L5,setContent:()=>B5,setMark:()=>tR,setMeta:()=>nR,setNode:()=>rR,setNodeSelection:()=>iR,setTextSelection:()=>sR,sinkListItem:()=>lR,splitBlock:()=>aR,splitListItem:()=>oR,toggleList:()=>cR,toggleMark:()=>uR,toggleNode:()=>fR,toggleWrap:()=>dR,undoInputRule:()=>hR,unsetAllMarks:()=>pR,unsetMark:()=>mR,updateAttributes:()=>gR,wrapIn:()=>yR,wrapInList:()=>bR});var Y3=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),J3=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),X3=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:a,$to:c})=>{t.doc.nodesBetween(a.pos,c.pos,(u,d)=>{if(u.type.isText)return;const{doc:h,mapping:m}=e,y=h.resolve(m.map(d)),b=h.resolve(m.map(d+u.nodeSize)),v=y.blockRange(b);if(!v)return;const S=ul(v);if(u.type.isTextblock){const{defaultType:E}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(v.start,E)}(S||S===0)&&e.lift(v,S)})}),!0},Q3=t=>e=>t(e),Z3=()=>({state:t,dispatch:e})=>RS(t,e),W3=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,a=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const c=r.mapping.map(e);return r.insert(c,a.content),r.setSelection(new ye(r.doc.resolve(Math.max(c-1,0)))),!0},e5=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===r.type){if(e){const u=s.before(a),d=s.after(a);t.delete(u,d).scrollIntoView()}return!0}return!1};function ht(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var t5=t=>({tr:e,state:n,dispatch:r})=>{const s=ht(t,n.schema),a=e.selection.$anchor;for(let c=a.depth;c>0;c-=1)if(a.node(c).type===s){if(r){const d=a.before(c),h=a.after(c);e.delete(d,h).scrollIntoView()}return!0}return!1},n5=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},r5=()=>({state:t,dispatch:e})=>am(t,e),i5=()=>({commands:t})=>t.keyboardShortcut("Enter"),s5=()=>({state:t,dispatch:e})=>FM(t,e);function wm(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function eu(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:wm(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function y2(t,e,n={}){return t.find(r=>r.type===e&&eu(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function Tx(t,e,n={}){return!!y2(t,e,n)}function Em(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(m=>m.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(m=>m.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!y2([...s.node.marks],e,n)))return;let c=s.index,u=t.start()+s.offset,d=c+1,h=u+s.node.nodeSize;for(;c>0&&Tx([...t.parent.child(c-1).marks],e,n);)c-=1,u-=t.parent.child(c).nodeSize;for(;d<t.parent.childCount&&Tx([...t.parent.child(d).marks],e,n);)h+=t.parent.child(d).nodeSize,d+=1;return{from:u,to:h}}function Nr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var l5=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const a=Nr(t,r.schema),{doc:c,selection:u}=n,{$from:d,from:h,to:m}=u;if(s){const y=Em(d,a,e);if(y&&y.from<=h&&y.to>=m){const b=ye.create(c,y.from,y.to);n.setSelection(b)}}return!0},a5=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function b2(t){return t instanceof ye}function Vi(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function x2(t,e=null){if(!e)return null;const n=Ce.atStart(t),r=Ce.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,a=r.to;return e==="all"?ye.create(t,Vi(0,s,a),Vi(t.content.size,s,a)):ye.create(t,Vi(e,s,a),Vi(e,s,a))}function o5(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Cm(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var c5=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:a})=>{e={scrollIntoView:!0,...e};const c=()=>{(Cm()||o5())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(a&&t===null&&!b2(n.state.selection))return c(),!0;const u=x2(s.doc,t)||n.state.selection,d=n.state.selection.eq(u);return a&&(d||s.setSelection(u),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),c()),!0},u5=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),f5=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),v2=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&v2(r)}return t};function xc(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return v2(n)}function ja(t,e,n){if(t instanceof _n||t instanceof X)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return X.fromArray(t.map(u=>e.nodeFromJSON(u)));const c=e.nodeFromJSON(t);return n.errorOnInvalidContent&&c.check(),c}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",a),ja("",e,n)}if(s){if(n.errorOnInvalidContent){let c=!1,u="";const d=new iS({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(c=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?ai.fromSchema(d).parseSlice(xc(t),n.parseOptions):ai.fromSchema(d).parse(xc(t),n.parseOptions),n.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const a=ai.fromSchema(e);return n.slice?a.parseSlice(xc(t),n.parseOptions).content:a.parse(xc(t),n.parseOptions)}return ja("",e,n)}function d5(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof yt||s instanceof bt))return;const a=t.mapping.maps[r];let c=0;a.forEach((u,d,h,m)=>{c===0&&(c=m)}),t.setSelection(Ce.near(t.doc.resolve(c),n))}var h5=t=>!("type"in t),p5=(t,e,n)=>({tr:r,dispatch:s,editor:a})=>{var c;if(s){n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;const d=C=>{a.emit("contentError",{editor:a,error:C,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{ja(e,a.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(C){d(C)}try{u=ja(e,a.schema,{parseOptions:h,errorOnInvalidContent:(c=n.errorOnInvalidContent)!=null?c:a.options.enableContentCheck})}catch(C){return d(C),!1}let{from:m,to:y}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},b=!0,v=!0;if((h5(u)?u:[u]).forEach(C=>{C.check(),b=b?C.isText&&C.marks.length===0:!1,v=v?C.isBlock:!1}),m===y&&v){const{parent:C}=r.doc.resolve(m);C.isTextblock&&!C.type.spec.code&&!C.childCount&&(m-=1,y+=1)}let E;if(b){if(Array.isArray(e))E=e.map(C=>C.text||"").join("");else if(e instanceof X){let C="";e.forEach(k=>{k.text&&(C+=k.text)}),E=C}else typeof e=="object"&&e&&e.text?E=e.text:E=e;r.insertText(E,m,y)}else{E=u;const C=r.doc.resolve(m),k=C.node(),T=C.parentOffset===0,j=k.isText||k.isTextblock,P=k.content.size>0;T&&j&&P&&(m=Math.max(0,m-1)),r.replaceWith(m,y,E)}n.updateSelection&&d5(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:m,text:E}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:m,text:E})}return!0},m5=()=>({state:t,dispatch:e})=>IM(t,e),g5=()=>({state:t,dispatch:e})=>qM(t,e),y5=()=>({state:t,dispatch:e})=>CS(t,e),b5=()=>({state:t,dispatch:e})=>AS(t,e),x5=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Uu(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},v5=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Uu(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},S5=()=>({state:t,dispatch:e})=>UM(t,e),w5=()=>({state:t,dispatch:e})=>VM(t,e);function S2(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function E5(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,a,c;for(let u=0;u<e.length-1;u+=1){const d=e[u];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))Cm()||S2()?c=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),c&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}var C5=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const a=E5(t).split(/-(?!$)/),c=a.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,u))});return d?.steps.forEach(h=>{const m=h.map(r.mapping);m&&s&&r.maybeStep(m)}),!0};function di(t,e,n={}){const{from:r,to:s,empty:a}=t.selection,c=e?ht(e,t.schema):null,u=[];t.doc.nodesBetween(r,s,(y,b)=>{if(y.isText)return;const v=Math.max(r,b),S=Math.min(s,b+y.nodeSize);u.push({node:y,from:v,to:S})});const d=s-r,h=u.filter(y=>c?c.name===y.node.type.name:!0).filter(y=>eu(y.node.attrs,n,{strict:!1}));return a?!!h.length:h.reduce((y,b)=>y+b.to-b.from,0)>=d}var N5=(t,e={})=>({state:n,dispatch:r})=>{const s=ht(t,n.schema);return di(n,s,e)?PM(n,r):!1},T5=()=>({state:t,dispatch:e})=>jS(t,e),k5=t=>({state:e,dispatch:n})=>{const r=ht(t,e.schema);return tO(r)(e,n)},A5=()=>({state:t,dispatch:e})=>OS(t,e);function Gu(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function kx(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var M5=(t,e)=>({tr:n,state:r,dispatch:s})=>{let a=null,c=null;const u=Gu(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(a=ht(t,r.schema)),u==="mark"&&(c=Nr(t,r.schema)),s&&n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,m)=>{a&&a===h.type&&n.setNodeMarkup(m,void 0,kx(h.attrs,e)),c&&h.marks.length&&h.marks.forEach(y=>{c===y.type&&n.addMark(m,m+h.nodeSize,c.create(kx(y.attrs,e)))})})}),!0):!1},O5=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),R5=()=>({tr:t,dispatch:e})=>{if(e){const n=new dn(t.doc);t.setSelection(n)}return!0},j5=()=>({state:t,dispatch:e})=>TS(t,e),D5=()=>({state:t,dispatch:e})=>MS(t,e),_5=()=>({state:t,dispatch:e})=>GM(t,e),z5=()=>({state:t,dispatch:e})=>XM(t,e),L5=()=>({state:t,dispatch:e})=>JM(t,e);function Op(t,e,n={},r={}){return ja(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var B5=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:a,dispatch:c,commands:u})=>{const{doc:d}=a;if(r.preserveWhitespace!=="full"){const h=Op(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return c&&a.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!n),!0}return c&&a.setMeta("preventUpdate",!n),u.insertContentAt({from:0,to:d.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function w2(t,e){const n=Nr(e,t.schema),{from:r,to:s,empty:a}=t.selection,c=[];a?(t.storedMarks&&c.push(...t.storedMarks),c.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,d=>{c.push(...d.marks)});const u=c.find(d=>d.type.name===n.name);return u?{...u.attrs}:{}}function E2(t,e){const n=new vS(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function H5(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function U5(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,a)=>{n(s)&&r.push({node:s,pos:a})}),r}function V5(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Yu(t){return e=>V5(e.$from,t)}function fe(t,e,n){return t.config[e]===void 0&&t.parent?fe(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?fe(t.parent,e,n):null}):t.config[e]}function Nm(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=fe(e,"addExtensions",n);return r?[e,...Nm(r())]:e}).flat(10)}function Tm(t,e){const n=ns.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function C2(t){return typeof t=="function"}function Ue(t,e=void 0,...n){return C2(t)?e?t.bind(e)(...n):t(...n):t}function I5(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Da(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function N2(t){const e=[],{nodeExtensions:n,markExtensions:r}=Da(t),s=[...n,...r],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage,extensions:s},d=fe(c,"addGlobalAttributes",u);if(!d)return;d().forEach(m=>{m.types.forEach(y=>{Object.entries(m.attributes).forEach(([b,v])=>{e.push({type:y,name:b,attribute:{...a,...v}})})})})}),s.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage},d=fe(c,"addAttributes",u);if(!d)return;const h=d();Object.entries(h).forEach(([m,y])=>{const b={...a,...y};typeof b?.default=="function"&&(b.default=b.default()),b?.isRequired&&b?.default===void 0&&delete b.default,e.push({type:c.name,name:m,attribute:b})})}),e}function rt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,a])=>{if(!r[s]){r[s]=a;return}if(s==="class"){const u=a?String(a).split(" "):[],d=r[s]?r[s].split(" "):[],h=u.filter(m=>!d.includes(m));r[s]=[...d,...h].join(" ")}else if(s==="style"){const u=a?a.split(";").map(m=>m.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[y,b]=m.split(":").map(v=>v.trim());h.set(y,b)}),u.forEach(m=>{const[y,b]=m.split(":").map(v=>v.trim());h.set(y,b)}),r[s]=Array.from(h.entries()).map(([m,y])=>`${m}: ${y}`).join("; ")}else r[s]=a}),r},{})}function tu(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>rt(n,r),{})}function q5(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Ax(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((a,c)=>{const u=c.attribute.parseHTML?c.attribute.parseHTML(n):q5(n.getAttribute(c.name));return u==null?a:{...a,[c.name]:u}},{});return{...r,...s}}}}function Mx(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&I5(n)?!1:n!=null))}function P5(t,e){var n;const r=N2(t),{nodeExtensions:s,markExtensions:a}=Da(t),c=(n=s.find(h=>fe(h,"topNode")))==null?void 0:n.name,u=Object.fromEntries(s.map(h=>{const m=r.filter(k=>k.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=t.reduce((k,T)=>{const j=fe(T,"extendNodeSchema",y);return{...k,...j?j(h):{}}},{}),v=Mx({...b,content:Ue(fe(h,"content",y)),marks:Ue(fe(h,"marks",y)),group:Ue(fe(h,"group",y)),inline:Ue(fe(h,"inline",y)),atom:Ue(fe(h,"atom",y)),selectable:Ue(fe(h,"selectable",y)),draggable:Ue(fe(h,"draggable",y)),code:Ue(fe(h,"code",y)),whitespace:Ue(fe(h,"whitespace",y)),linebreakReplacement:Ue(fe(h,"linebreakReplacement",y)),defining:Ue(fe(h,"defining",y)),isolating:Ue(fe(h,"isolating",y)),attrs:Object.fromEntries(m.map(k=>{var T,j;return[k.name,{default:(T=k?.attribute)==null?void 0:T.default,validate:(j=k?.attribute)==null?void 0:j.validate}]}))}),S=Ue(fe(h,"parseHTML",y));S&&(v.parseDOM=S.map(k=>Ax(k,m)));const E=fe(h,"renderHTML",y);E&&(v.toDOM=k=>E({node:k,HTMLAttributes:tu(k,m)}));const C=fe(h,"renderText",y);return C&&(v.toText=C),[h.name,v]})),d=Object.fromEntries(a.map(h=>{const m=r.filter(C=>C.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=t.reduce((C,k)=>{const T=fe(k,"extendMarkSchema",y);return{...C,...T?T(h):{}}},{}),v=Mx({...b,inclusive:Ue(fe(h,"inclusive",y)),excludes:Ue(fe(h,"excludes",y)),group:Ue(fe(h,"group",y)),spanning:Ue(fe(h,"spanning",y)),code:Ue(fe(h,"code",y)),attrs:Object.fromEntries(m.map(C=>{var k,T;return[C.name,{default:(k=C?.attribute)==null?void 0:k.default,validate:(T=C?.attribute)==null?void 0:T.validate}]}))}),S=Ue(fe(h,"parseHTML",y));S&&(v.parseDOM=S.map(C=>Ax(C,m)));const E=fe(h,"renderHTML",y);return E&&(v.toDOM=C=>E({mark:C,HTMLAttributes:tu(C,m)})),[h.name,v]}));return new iS({topNode:c,nodes:u,marks:d})}function F5(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function km(t){return t.sort((n,r)=>{const s=fe(n,"priority")||100,a=fe(r,"priority")||100;return s>a?-1:s<a?1:0})}function T2(t){const e=km(Nm(t)),n=F5(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function k2(t,e,n){const{from:r,to:s}=e,{blockSeparator:a=`

`,textSerializers:c={}}=n||{};let u="";return t.nodesBetween(r,s,(d,h,m,y)=>{var b;d.isBlock&&h>r&&(u+=a);const v=c?.[d.type.name];if(v)return m&&(u+=v({node:d,pos:h,parent:m,index:y,range:e})),!1;d.isText&&(u+=(b=d?.text)==null?void 0:b.slice(Math.max(r,h)-h,s-h))}),u}function $5(t,e){const n={from:0,to:t.content.size};return k2(t,n,e)}function A2(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function K5(t,e){const n=ht(e,t.schema),{from:r,to:s}=t.selection,a=[];t.doc.nodesBetween(r,s,u=>{a.push(u)});const c=a.reverse().find(u=>u.type.name===n.name);return c?{...c.attrs}:{}}function M2(t,e){const n=Gu(typeof e=="string"?e:e.name,t.schema);return n==="node"?K5(t,e):n==="mark"?w2(t,e):{}}function G5(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function Y5(t){const e=G5(t);return e.length===1?e:e.filter((n,r)=>!e.filter((a,c)=>c!==r).some(a=>n.oldRange.from>=a.oldRange.from&&n.oldRange.to<=a.oldRange.to&&n.newRange.from>=a.newRange.from&&n.newRange.to<=a.newRange.to))}function O2(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,a)=>{const c=[];if(s.ranges.length)s.forEach((u,d)=>{c.push({from:u,to:d})});else{const{from:u,to:d}=n[a];if(u===void 0||d===void 0)return;c.push({from:u,to:d})}c.forEach(({from:u,to:d})=>{const h=e.slice(a).map(u,-1),m=e.slice(a).map(d),y=e.invert().map(h,-1),b=e.invert().map(m);r.push({oldRange:{from:y,to:b},newRange:{from:h,to:m}})})}),Y5(r)}function Am(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const a=n.resolve(t),c=Em(a,s.type);c&&r.push({mark:s,...c})}):n.nodesBetween(t,e,(s,a)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(c=>({from:a,to:a+s.nodeSize,mark:c})))}),r}var J5=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let a=r,c=null;for(;a>0&&c===null;){const u=s.node(a);u?.type.name===e?c=u:a-=1}return[c,a]};function Kh(t,e){return e.nodes[t]||e.marks[t]||null}function zc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(a=>a.type===e&&a.name===r);return s?s.attribute.keepOnSplit:!1}))}var X5=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,a,c,u)=>{var d,h;const m=((h=(d=s.type.spec).toText)==null?void 0:h.call(d,{node:s,pos:a,parent:c,index:u}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?m:m.slice(0,Math.max(0,r-a))}),n};function Rp(t,e,n={}){const{empty:r,ranges:s}=t.selection,a=e?Nr(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(y=>a?a.name===y.type.name:!0).find(y=>eu(y.attrs,n,{strict:!1}));let c=0;const u=[];if(s.forEach(({$from:y,$to:b})=>{const v=y.pos,S=b.pos;t.doc.nodesBetween(v,S,(E,C)=>{if(!E.isText&&!E.marks.length)return;const k=Math.max(v,C),T=Math.min(S,C+E.nodeSize),j=T-k;c+=j,u.push(...E.marks.map(P=>({mark:P,from:k,to:T})))})}),c===0)return!1;const d=u.filter(y=>a?a.name===y.mark.type.name:!0).filter(y=>eu(y.mark.attrs,n,{strict:!1})).reduce((y,b)=>y+b.to-b.from,0),h=u.filter(y=>a?y.mark.type!==a&&y.mark.type.excludes(a):!0).reduce((y,b)=>y+b.to-b.from,0);return(d>0?d+h:d)>=c}function Q5(t,e,n={}){if(!e)return di(t,null,n)||Rp(t,null,n);const r=Gu(e,t.schema);return r==="node"?di(t,e,n):r==="mark"?Rp(t,e,n):!1}var Z5=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const a=Yu(u=>u.type.name===e)(t.selection);if(!a)return!1;const c=t.doc.resolve(a.pos+1);return s.pos+1===c.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},W5=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function Ox(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Rx(t,e){const{nodeExtensions:n}=Da(e),r=n.find(c=>c.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},a=Ue(fe(r,"group",s));return typeof a!="string"?!1:a.split(" ").includes("list")}function Ju(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(a=>{s!==!1&&(Ju(a,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function R2(t){return t instanceof de}function eR(t,e,n){var r;const{selection:s}=e;let a=null;if(b2(s)&&(a=s.$cursor),a){const u=(r=t.storedMarks)!=null?r:a.marks();return a.parent.type.allowsMarkType(n)&&(!!n.isInSet(u)||!u.some(h=>h.type.excludes(n)))}const{ranges:c}=s;return c.some(({$from:u,$to:d})=>{let h=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,d.pos,(m,y,b)=>{if(h)return!1;if(m.isInline){const v=!b||b.type.allowsMarkType(n),S=!!n.isInSet(m.marks)||!m.marks.some(E=>E.type.excludes(n));h=v&&S}return!h}),h})}var tR=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:a}=n,{empty:c,ranges:u}=a,d=Nr(t,r.schema);if(s)if(c){const h=w2(r,d);n.addStoredMark(d.create({...h,...e}))}else u.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;r.doc.nodesBetween(m,y,(b,v)=>{const S=Math.max(v,m),E=Math.min(v+b.nodeSize,y);b.marks.find(k=>k.type===d)?b.marks.forEach(k=>{d===k.type&&n.addMark(S,E,d.create({...k.attrs,...e}))}):n.addMark(S,E,d.create(e))})});return eR(r,n,d)},nR=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),rR=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const a=ht(t,n.schema);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),a.isTextblock?s().command(({commands:u})=>K1(a,{...c,...e})(n)?!0:u.clearNodes()).command(({state:u})=>K1(a,{...c,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},iR=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Vi(t,0,r.content.size),a=de.create(r,s);e.setSelection(a)}return!0},sR=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:a}=typeof t=="number"?{from:t,to:t}:t,c=ye.atStart(r).from,u=ye.atEnd(r).to,d=Vi(s,c,u),h=Vi(a,c,u),m=ye.create(r,d,h);e.setSelection(m)}return!0},lR=t=>({state:e,dispatch:n})=>{const r=ht(t,e.schema);return iO(r)(e,n)};function jx(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(r)}}var aR=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:a,doc:c}=e,{$from:u,$to:d}=a,h=s.extensionManager.attributes,m=zc(h,u.node().type.name,u.node().attrs);if(a instanceof de&&a.node.isBlock)return!u.parentOffset||!Sr(c,u.pos)?!1:(r&&(t&&jx(n,s.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const y=d.parentOffset===d.parent.content.size,b=u.depth===0?void 0:H5(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=y&&b?[{type:b,attrs:m}]:void 0,S=Sr(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!S&&Sr(e.doc,e.mapping.map(u.pos),1,b?[{type:b}]:void 0)&&(S=!0,v=b?[{type:b,attrs:m}]:void 0),r){if(S&&(a instanceof ye&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),b&&!y&&!u.parentOffset&&u.parent.type!==b)){const E=e.mapping.map(u.before()),C=e.doc.resolve(E);u.node(-1).canReplaceWith(C.index(),C.index()+1,b)&&e.setNodeMarkup(e.mapping.map(u.before()),b)}t&&jx(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return S},oR=(t,e={})=>({tr:n,state:r,dispatch:s,editor:a})=>{var c;const u=ht(t,r.schema),{$from:d,$to:h}=r.selection,m=r.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const y=d.node(-1);if(y.type!==u)return!1;const b=a.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==u||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let k=X.empty;const T=d.index(-1)?1:d.index(-2)?2:3;for(let ne=d.depth-T;ne>=d.depth-3;ne-=1)k=X.from(d.node(ne).copy(k));const j=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,P={...zc(b,d.node().type.name,d.node().attrs),...e},F=((c=u.contentMatch.defaultType)==null?void 0:c.createAndFill(P))||void 0;k=k.append(X.from(u.createAndFill(null,F)||void 0));const Y=d.before(d.depth-(T-1));n.replace(Y,d.after(-j),new ie(k,4-T,0));let I=-1;n.doc.nodesBetween(Y,n.doc.content.size,(ne,ae)=>{if(I>-1)return!1;ne.isTextblock&&ne.content.size===0&&(I=ae+1)}),I>-1&&n.setSelection(ye.near(n.doc.resolve(I))),n.scrollIntoView()}return!0}const v=h.pos===d.end()?y.contentMatchAt(0).defaultType:null,S={...zc(b,y.type.name,y.attrs),...e},E={...zc(b,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,h.pos);const C=v?[{type:u,attrs:S},{type:v,attrs:E}]:[{type:u,attrs:S}];if(!Sr(n.doc,d.pos,2))return!1;if(s){const{selection:k,storedMarks:T}=r,{splittableMarks:j}=a.extensionManager,P=T||k.$to.parentOffset&&k.$from.marks();if(n.split(d.pos,2,C).scrollIntoView(),!P||!s)return!0;const F=P.filter(Y=>j.includes(Y.type.name));n.ensureMarks(F)}return!0},Gh=(t,e)=>{const n=Yu(c=>c.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&hi(t.doc,n.pos)&&t.join(n.pos),!0},Yh=(t,e)=>{const n=Yu(c=>c.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&hi(t.doc,r)&&t.join(r),!0},cR=(t,e,n,r={})=>({editor:s,tr:a,state:c,dispatch:u,chain:d,commands:h,can:m})=>{const{extensions:y,splittableMarks:b}=s.extensionManager,v=ht(t,c.schema),S=ht(e,c.schema),{selection:E,storedMarks:C}=c,{$from:k,$to:T}=E,j=k.blockRange(T),P=C||E.$to.parentOffset&&E.$from.marks();if(!j)return!1;const F=Yu(Y=>Rx(Y.type.name,y))(E);if(j.depth>=1&&F&&j.depth-F.depth<=1){if(F.node.type===v)return h.liftListItem(S);if(Rx(F.node.type.name,y)&&v.validContent(F.node.content)&&u)return d().command(()=>(a.setNodeMarkup(F.pos,v),!0)).command(()=>Gh(a,v)).command(()=>Yh(a,v)).run()}return!n||!P||!u?d().command(()=>m().wrapInList(v,r)?!0:h.clearNodes()).wrapInList(v,r).command(()=>Gh(a,v)).command(()=>Yh(a,v)).run():d().command(()=>{const Y=m().wrapInList(v,r),I=P.filter(ne=>b.includes(ne.type.name));return a.ensureMarks(I),Y?!0:h.clearNodes()}).wrapInList(v,r).command(()=>Gh(a,v)).command(()=>Yh(a,v)).run()},uR=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:a=!1}=n,c=Nr(t,r.schema);return Rp(r,c,e)?s.unsetMark(c,{extendEmptyMarkRange:a}):s.setMark(c,e)},fR=(t,e,n={})=>({state:r,commands:s})=>{const a=ht(t,r.schema),c=ht(e,r.schema),u=di(r,a,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),u?s.setNode(c,d):s.setNode(a,{...d,...n})},dR=(t,e={})=>({state:n,commands:r})=>{const s=ht(t,n.schema);return di(n,s,e)?r.lift(s):r.wrapIn(s,e)},hR=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let a;if(s.spec.isInputRules&&(a=s.getState(t))){if(e){const c=t.tr,u=a.transform;for(let d=u.steps.length-1;d>=0;d-=1)c.step(u.steps[d].invert(u.docs[d]));if(a.text){const d=c.doc.resolve(a.from).marks();c.replaceWith(a.from,a.to,t.schema.text(a.text,d))}else c.delete(a.from,a.to)}return!0}}return!1},pR=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(a=>{t.removeMark(a.$from.pos,a.$to.pos)}),!0},mR=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var a;const{extendEmptyMarkRange:c=!1}=e,{selection:u}=n,d=Nr(t,r.schema),{$from:h,empty:m,ranges:y}=u;if(!s)return!0;if(m&&c){let{from:b,to:v}=u;const S=(a=h.marks().find(C=>C.type===d))==null?void 0:a.attrs,E=Em(h,d,S);E&&(b=E.from,v=E.to),n.removeMark(b,v,d)}else y.forEach(b=>{n.removeMark(b.$from.pos,b.$to.pos,d)});return n.removeStoredMark(d),!0},gR=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let a=null,c=null;const u=Gu(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(a=ht(t,r.schema)),u==="mark"&&(c=Nr(t,r.schema)),s&&n.selection.ranges.forEach(d=>{const h=d.$from.pos,m=d.$to.pos;let y,b,v,S;n.selection.empty?r.doc.nodesBetween(h,m,(E,C)=>{a&&a===E.type&&(v=Math.max(C,h),S=Math.min(C+E.nodeSize,m),y=C,b=E)}):r.doc.nodesBetween(h,m,(E,C)=>{C<h&&a&&a===E.type&&(v=Math.max(C,h),S=Math.min(C+E.nodeSize,m),y=C,b=E),C>=h&&C<=m&&(a&&a===E.type&&n.setNodeMarkup(C,void 0,{...E.attrs,...e}),c&&E.marks.length&&E.marks.forEach(k=>{if(c===k.type){const T=Math.max(C,h),j=Math.min(C+E.nodeSize,m);n.addMark(T,j,c.create({...k.attrs,...e}))}}))}),b&&(y!==void 0&&n.setNodeMarkup(y,void 0,{...b.attrs,...e}),c&&b.marks.length&&b.marks.forEach(E=>{c===E.type&&n.addMark(v,S,c.create({...E.attrs,...e}))}))}),!0):!1},yR=(t,e={})=>({state:n,dispatch:r})=>{const s=ht(t,n.schema);return QM(s,e)(n,r)},bR=(t,e={})=>({state:n,dispatch:r})=>{const s=ht(t,n.schema);return ZM(s,e)(n,r)},xR=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Xu=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},vR=(t,e)=>{if(wm(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function vc(t){var e;const{editor:n,from:r,to:s,text:a,rules:c,plugin:u}=t,{view:d}=n;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(b=>b.type.spec.code))return!1;let m=!1;const y=X5(h)+a;return c.forEach(b=>{if(m)return;const v=vR(y,b.find);if(!v)return;const S=d.state.tr,E=$u({state:d.state,transaction:S}),C={from:r-(v[0].length-a.length),to:s},{commands:k,chain:T,can:j}=new Ku({editor:n,state:E});b.handler({state:E,range:C,match:v,commands:k,chain:T,can:j})===null||!S.steps.length||(b.undoable&&S.setMeta(u,{transform:S,from:r,to:s,text:a}),d.dispatch(S),m=!0)}),m}function SR(t){const{editor:e,rules:n}=t,r=new it({state:{init(){return null},apply(s,a,c){const u=s.getMeta(r);if(u)return u;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=Tm(X.from(m),c.schema);const{from:y}=d,b=y+m.length;vc({editor:e,from:y,to:b,text:m,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:a}},props:{handleTextInput(s,a,c,u){return vc({editor:e,from:a,to:c,text:u,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:a}=s.state.selection;a&&vc({editor:e,from:a.pos,to:a.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,a){if(a.key!=="Enter")return!1;const{$cursor:c}=s.state.selection;return c?vc({editor:e,from:c.pos,to:c.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function wR(t){return Object.prototype.toString.call(t).slice(8,-1)}function Sc(t){return wR(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function j2(t,e){const n={...t};return Sc(t)&&Sc(e)&&Object.keys(e).forEach(r=>{Sc(e[r])&&Sc(t[r])?n[r]=j2(t[r],e[r]):n[r]=e[r]}),n}var Mm=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Ue(fe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ue(fe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>j2(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},mi=class D2 extends Mm{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new D2(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const c=s.marks();if(!!!c.find(h=>h?.type.name===n.name))return!1;const d=c.find(h=>h?.type.name===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function ER(t){return typeof t=="number"}var CR=class{constructor(t){this.find=t.find,this.handler=t.handler}},NR=(t,e,n)=>{if(wm(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const a=[s.text];return a.index=s.index,a.input=t,a.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(s.replaceWith)),a}):[]};function TR(t){const{editor:e,state:n,from:r,to:s,rule:a,pasteEvent:c,dropEvent:u}=t,{commands:d,chain:h,can:m}=new Ku({editor:e,state:n}),y=[];return n.doc.nodesBetween(r,s,(v,S)=>{var E,C,k,T,j;if((C=(E=v.type)==null?void 0:E.spec)!=null&&C.code||!(v.isText||v.isTextblock||v.isInline))return;const P=(j=(T=(k=v.content)==null?void 0:k.size)!=null?T:v.nodeSize)!=null?j:0,F=Math.max(r,S),Y=Math.min(s,S+P);if(F>=Y)return;const I=v.isText?v.text||"":v.textBetween(F-S,Y-S,void 0,"￼");NR(I,a.find,c).forEach(ae=>{if(ae.index===void 0)return;const Q=F+ae.index+1,re=Q+ae[0].length,ge={from:n.tr.mapping.map(Q),to:n.tr.mapping.map(re)},me=a.handler({state:n,range:ge,match:ae,commands:d,chain:h,can:m,pasteEvent:c,dropEvent:u});y.push(me)})}),y.every(v=>v!==null)}var wc=null,kR=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function AR(t){const{editor:e,rules:n}=t;let r=null,s=!1,a=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const d=({state:m,from:y,to:b,rule:v,pasteEvt:S})=>{const E=m.tr,C=$u({state:m,transaction:E});if(!(!TR({editor:e,state:C,from:Math.max(y-1,0),to:b.b-1,rule:v,pasteEvent:S,dropEvent:u})||!E.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return n.map(m=>new it({view(y){const b=S=>{var E;r=(E=y.dom.parentElement)!=null&&E.contains(S.target)?y.dom.parentElement:null,r&&(wc=e)},v=()=>{wc&&(wc=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(y,b)=>{if(a=r===y.dom.parentElement,u=b,!a){const v=wc;v?.isEditable&&setTimeout(()=>{const S=v.state.selection;S&&v.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(y,b)=>{var v;const S=(v=b.clipboardData)==null?void 0:v.getData("text/html");return c=b,s=!!S?.includes("data-pm-slice"),!1}}},appendTransaction:(y,b,v)=>{const S=y[0],E=S.getMeta("uiEvent")==="paste"&&!s,C=S.getMeta("uiEvent")==="drop"&&!a,k=S.getMeta("applyPasteRules"),T=!!k;if(!E&&!C&&!T)return;if(T){let{text:F}=k;typeof F=="string"?F=F:F=Tm(X.from(F),v.schema);const{from:Y}=k,I=Y+F.length,ne=kR(F);return d({rule:m,state:v,from:Y,to:{b:I},pasteEvt:ne})}const j=b.doc.content.findDiffStart(v.doc.content),P=b.doc.content.findDiffEnd(v.doc.content);if(!(!ER(j)||!P||j===P.b))return d({rule:m,state:v,from:j,to:P,pasteEvt:c})}}))}var Qu=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=T2(t),this.schema=P5(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Kh(e.name,this.schema)},r=fe(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return km([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Kh(r.name,this.schema)},a=[],c=fe(r,"addKeyboardShortcuts",s);let u={};if(r.type==="mark"&&fe(r,"exitable",s)&&(u.ArrowRight=()=>mi.handleExit({editor:t,mark:r})),c){const b=Object.fromEntries(Object.entries(c()).map(([v,S])=>[v,()=>S({editor:t})]));u={...u,...b}}const d=K3(u);a.push(d);const h=fe(r,"addInputRules",s);if(Ox(r,t.options.enableInputRules)&&h){const b=h();if(b&&b.length){const v=SR({editor:t,rules:b}),S=Array.isArray(v)?v:[v];a.push(...S)}}const m=fe(r,"addPasteRules",s);if(Ox(r,t.options.enablePasteRules)&&m){const b=m();if(b&&b.length){const v=AR({editor:t,rules:b});a.push(...v)}}const y=fe(r,"addProseMirrorPlugins",s);if(y){const b=y();a.push(...b)}return a})}get attributes(){return N2(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Da(this.extensions);return Object.fromEntries(e.filter(n=>!!fe(n,"addNodeView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ht(n.name,this.schema)},a=fe(n,"addNodeView",s);if(!a)return[];const c=(u,d,h,m,y)=>{const b=tu(u,r);return a()({node:u,view:d,getPos:h,decorations:m,innerDecorations:y,editor:t,extension:n,HTMLAttributes:b})};return[n.name,c]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Da(this.extensions);return Object.fromEntries(e.filter(n=>!!fe(n,"addMarkView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Nr(n.name,this.schema)},a=fe(n,"addMarkView",s);if(!a)return[];const c=(u,d,h)=>{const m=tu(u,r);return a()({mark:u,view:d,inline:h,editor:t,extension:n,HTMLAttributes:m,updateAttributes:y=>{IR(u,t,y)}})};return[n.name,c]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Kh(e.name,this.schema)};e.type==="mark"&&((n=Ue(fe(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=fe(e,"onBeforeCreate",r),a=fe(e,"onCreate",r),c=fe(e,"onUpdate",r),u=fe(e,"onSelectionUpdate",r),d=fe(e,"onTransaction",r),h=fe(e,"onFocus",r),m=fe(e,"onBlur",r),y=fe(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),a&&this.editor.on("create",a),c&&this.editor.on("update",c),u&&this.editor.on("selectionUpdate",u),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),y&&this.editor.on("destroy",y)})}};Qu.resolve=T2;Qu.sort=km;Qu.flatten=Nm;var MR={};Sm(MR,{ClipboardTextSerializer:()=>z2,Commands:()=>L2,Delete:()=>B2,Drop:()=>H2,Editable:()=>U2,FocusEvents:()=>I2,Keymap:()=>q2,Paste:()=>P2,Tabindex:()=>F2,focusEventsPluginKey:()=>V2});var $e=class _2 extends Mm{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new _2(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},z2=$e.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new it({key:new vt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:a}=s,c=Math.min(...a.map(m=>m.$from.pos)),u=Math.max(...a.map(m=>m.$to.pos)),d=A2(n);return k2(r,{from:c,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),L2=$e.create({name:"commands",addCommands(){return{...g2}}}),B2=$e.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const a=()=>{var c,u,d,h;if((h=(d=(u=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:u.filterTransaction)==null?void 0:d.call(u,t))!=null?h:t.getMeta("y-sync$"))return;const m=E2(t.before,[t,...e]);O2(m).forEach(v=>{m.mapping.mapResult(v.oldRange.from).deletedAfter&&m.mapping.mapResult(v.oldRange.to).deletedBefore&&m.before.nodesBetween(v.oldRange.from,v.oldRange.to,(S,E)=>{const C=E+S.nodeSize-2,k=v.oldRange.from<=E&&C<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:S,from:E,to:C,newFrom:m.mapping.map(E),newTo:m.mapping.map(C),deletedRange:v.oldRange,newRange:v.newRange,partial:!k,editor:this.editor,transaction:t,combinedTransform:m})})});const b=m.mapping;m.steps.forEach((v,S)=>{var E,C;if(v instanceof Dn){const k=b.slice(S).map(v.from,-1),T=b.slice(S).map(v.to),j=b.invert().map(k,-1),P=b.invert().map(T),F=(E=m.doc.nodeAt(k-1))==null?void 0:E.marks.some(I=>I.eq(v.mark)),Y=(C=m.doc.nodeAt(T))==null?void 0:C.marks.some(I=>I.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:j,to:P},newRange:{from:k,to:T},partial:!!(Y||F),editor:this.editor,transaction:t,combinedTransform:m})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(a,0):a()}}),H2=$e.create({name:"drop",addProseMirrorPlugins(){return[new it({key:new vt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),U2=$e.create({name:"editable",addProseMirrorPlugins(){return[new it({key:new vt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),V2=new vt("focusEvents"),I2=$e.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new it({key:V2,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),q2=$e.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:u})=>{const{selection:d,doc:h}=u,{empty:m,$anchor:y}=d,{pos:b,parent:v}=y,S=y.parent.isTextblock&&b>0?u.doc.resolve(b-1):y,E=S.parent.type.spec.isolating,C=y.pos-y.parentOffset,k=E&&S.parent.childCount===1?C===y.pos:Ce.atStart(h).from===b;return!m||!v.type.isTextblock||v.textContent.length||!k||k&&y.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},a={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Cm()||S2()?a:s},addProseMirrorPlugins(){return[new it({key:new vt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(E=>E.getMeta("composition")))return;const r=t.some(E=>E.docChanged)&&!e.doc.eq(n.doc),s=t.some(E=>E.getMeta("preventClearDocument"));if(!r||s)return;const{empty:a,from:c,to:u}=e.selection,d=Ce.atStart(e.doc).from,h=Ce.atEnd(e.doc).to;if(a||!(c===d&&u===h)||!Ju(n.doc))return;const b=n.tr,v=$u({state:n,transaction:b}),{commands:S}=new Ku({editor:this.editor,state:v});if(S.clearNodes(),!!b.steps.length)return b}})]}}),P2=$e.create({name:"paste",addProseMirrorPlugins(){return[new it({key:new vt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),F2=$e.create({name:"tabindex",addProseMirrorPlugins(){return[new it({key:new vt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),OR=class Ks{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Ks(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ks(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ks(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,a=n.isAtom&&!n.isText,c=this.pos+r+(a?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(c);if(!s&&u.depth<=this.depth)return;const d=new Ks(u,this.editor,s,s?n:null);s&&(d.actualDepth=this.depth+1),e.push(new Ks(u,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const a=s.node.attrs,c=Object.keys(n);for(let u=0;u<c.length;u+=1){const d=c[u];if(a[d]!==n[d])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const a=Object.keys(n);return this.children.forEach(c=>{r&&s.length>0||(c.node.type.name===e&&a.every(d=>n[d]===c.node.attrs[d])&&s.push(c),!(r&&s.length>0)&&(s=s.concat(c.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},RR=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function jR(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var DR=class extends xR{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:a})=>this.options.onDrop(r,s,a)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=x2(e,this.options.autofocus);this.editorState=Ys.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=jR(RR,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=C2(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;n=n.filter(c=>!c.key.startsWith(a))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[U2,z2.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),L2,I2,q2,F2,H2,P2,B2].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Qu(r,this)}createCommandManager(){this.commandManager=new Ku({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Op(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Op(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new p2(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(h=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(h)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const c=n.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),u=c?.getMeta("focus"),d=c?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:c}),d&&this.emit("blur",{editor:this,event:d.event,transaction:c}),!(t.getMeta("preventUpdate")||!n.some(h=>h.docChanged)||a.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return M2(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return Q5(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Tm(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return $5(this.state.doc,{blockSeparator:e,textSerializers:{...A2(this.schema),...n}})}get isEmpty(){return Ju(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new OR(e,this)}get $doc(){return this.$pos(0)}};function nl(t){return new Xu({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Ue(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:a}=e,c=r[r.length-1],u=r[0];if(c){const d=u.search(/\S/),h=n.from+u.indexOf(c),m=h+c.length;if(Am(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(E=>E===t.type&&E!==v.mark.type)).filter(v=>v.to>h).length)return null;m<n.to&&a.delete(m,n.to),h>n.from&&a.delete(n.from+d,h);const b=n.from+d+c.length;a.addMark(n.from+d,b,t.type.create(s||{})),a.removeStoredMark(t.type)}},undoable:t.undoable})}function $2(t){return new Xu({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Ue(t.getAttributes,void 0,r)||{},{tr:a}=e,c=n.from;let u=n.to;const d=t.type.create(s);if(r[1]){const h=r[0].lastIndexOf(r[1]);let m=c+h;m>u?m=u:u=m+r[1].length;const y=r[0][r[0].length-1];a.insertText(y,c+r[0].length-1),a.replaceWith(m,u,d)}else if(r[0]){const h=t.type.isInline?c:c-1;a.insert(h,t.type.create(s)).delete(a.mapping.map(c),a.mapping.map(u))}a.scrollIntoView()},undoable:t.undoable})}function jp(t){return new Xu({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),a=Ue(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,a)},undoable:t.undoable})}function rl(t){return new Xu({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const a=Ue(t.getAttributes,void 0,r)||{},c=e.tr.delete(n.from,n.to),d=c.doc.resolve(n.from).blockRange(),h=d&&sm(d,t.type,a);if(!h)return null;if(c.wrap(d,h),t.keepMarks&&t.editor){const{selection:y,storedMarks:b}=e,{splittableMarks:v}=t.editor.extensionManager,S=b||y.$to.parentOffset&&y.$from.marks();if(S){const E=S.filter(C=>v.includes(C.type.name));c.ensureMarks(E)}}if(t.keepAttributes){const y=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(y,a).run()}const m=c.doc.resolve(n.from-1).nodeBefore;m&&m.type===t.type&&hi(c.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,m))&&c.join(n.from-1)},undoable:t.undoable})}function _R(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof de){const a=r.index();return r.parent.canReplaceWith(a,a+1,e)}let s=r.depth;for(;s>=0;){const a=r.index(s);if(r.node(s).contentMatchAt(a).matchType(e))return!0;s-=1}return!1}var zR={};Sm(zR,{createAtomBlockMarkdownSpec:()=>LR,createBlockMarkdownSpec:()=>BR,createInlineMarkdownSpec:()=>VR,parseAttributes:()=>Om,parseIndentedBlocks:()=>Dp,renderNestedMarkdownContent:()=>jm,serializeAttributes:()=>Rm});function Om(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,h=>(n.push(h),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const h=s.map(m=>m.trim().slice(1));e.class=h.join(" ")}const a=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);a&&(e.id=a[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(c)).forEach(([,h,m])=>{var y;const b=parseInt(((y=m.match(/__QUOTED_(\d+)__/))==null?void 0:y[1])||"0",10),v=n[b];v&&(e[h]=v.slice(1,-1))});const d=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(m=>{m.match(/^[a-zA-Z][\w-]*$/)&&(e[m]=!0)}),e}function Rm(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function LR(t){const{nodeName:e,name:n,parseAttributes:r=Om,serializeAttributes:s=Rm,defaultAttributes:a={},requiredAttributes:c=[],allowedAttributes:u}=t,d=n||e,h=m=>{if(!u)return m;const y={};return u.forEach(b=>{b in m&&(y[b]=m[b])}),y};return{parseMarkdown:(m,y)=>{const b={...a,...m.attributes};return y.createNode(e,b,[])},markdownTokenizer:{name:e,level:"block",start(m){var y;const b=new RegExp(`^:::${d}(?:\\s|$)`,"m"),v=(y=m.match(b))==null?void 0:y.index;return v!==void 0?v:-1},tokenize(m,y,b){const v=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),S=m.match(v);if(!S)return;const E=S[1]||"",C=r(E);if(!c.find(T=>!(T in C)))return{type:e,raw:S[0],attributes:C}}},renderMarkdown:m=>{const y=h(m.attrs||{}),b=s(y),v=b?` {${b}}`:"";return`:::${d}${v} :::`}}}function BR(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=Om,serializeAttributes:a=Rm,defaultAttributes:c={},content:u="block",allowedAttributes:d}=t,h=n||e,m=y=>{if(!d)return y;const b={};return d.forEach(v=>{v in y&&(b[v]=y[v])}),b};return{parseMarkdown:(y,b)=>{let v;if(r){const E=r(y);v=typeof E=="string"?[{type:"text",text:E}]:E}else u==="block"?v=b.parseChildren(y.tokens||[]):v=b.parseInline(y.tokens||[]);const S={...c,...y.attributes};return b.createNode(e,S,v)},markdownTokenizer:{name:e,level:"block",start(y){var b;const v=new RegExp(`^:::${h}`,"m"),S=(b=y.match(v))==null?void 0:b.index;return S!==void 0?S:-1},tokenize(y,b,v){var S;const E=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),C=y.match(E);if(!C)return;const[k,T=""]=C,j=s(T);let P=1;const F=k.length;let Y="";const I=/^:::([\w-]*)(\s.*)?/gm,ne=y.slice(F);for(I.lastIndex=0;;){const ae=I.exec(ne);if(ae===null)break;const Q=ae.index,re=ae[1];if(!((S=ae[2])!=null&&S.endsWith(":::"))){if(re)P+=1;else if(P-=1,P===0){const ge=ne.slice(0,Q);Y=ge.trim();const me=y.slice(0,F+Q+ae[0].length);let xe=[];if(Y)if(u==="block")for(xe=v.blockTokens(ge),xe.forEach(Ne=>{Ne.text&&(!Ne.tokens||Ne.tokens.length===0)&&(Ne.tokens=v.inlineTokens(Ne.text))});xe.length>0;){const Ne=xe[xe.length-1];if(Ne.type==="paragraph"&&(!Ne.text||Ne.text.trim()===""))xe.pop();else break}else xe=v.inlineTokens(Y);return{type:e,raw:me,attributes:j,content:Y,tokens:xe}}}}}},renderMarkdown:(y,b)=>{const v=m(y.attrs||{}),S=a(v),E=S?` {${S}}`:"",C=b.renderChildren(y.content||[],`

`);return`:::${h}${E}

${C}

:::`}}}function HR(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,s,a,c]=r;e[s]=a||c,r=n.exec(t)}return e}function UR(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function VR(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=HR,serializeAttributes:a=UR,defaultAttributes:c={},selfClosing:u=!1,allowedAttributes:d}=t,h=n||e,m=b=>{if(!d)return b;const v={};return d.forEach(S=>{S in b&&(v[S]=b[S])}),v},y=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(b,v)=>{const S={...c,...b.attributes};if(u)return v.createNode(e,S);const E=r?r(b):b.content||"";return E?v.createNode(e,S,[v.createTextNode(E)]):v.createNode(e,S,[])},markdownTokenizer:{name:e,level:"inline",start(b){const v=u?new RegExp(`\\[${y}\\s*[^\\]]*\\]`):new RegExp(`\\[${y}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${y}\\]`),S=b.match(v),E=S?.index;return E!==void 0?E:-1},tokenize(b,v,S){const E=u?new RegExp(`^\\[${y}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${y}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${y}\\]`),C=b.match(E);if(!C)return;let k="",T="";if(u){const[,P]=C;T=P}else{const[,P,F]=C;T=P,k=F||""}const j=s(T.trim());return{type:e,raw:C[0],content:k.trim(),attributes:j}}},renderMarkdown:b=>{let v="";r?v=r(b):b.content&&b.content.length>0&&(v=b.content.filter(k=>k.type==="text").map(k=>k.text).join(""));const S=m(b.attrs||{}),E=a(S),C=E?` ${E}`:"";return u?`[${h}${C}]`:`[${h}${C}]${v}[/${h}]`}}}function Dp(t,e,n){var r,s,a,c;const u=t.split(`
`),d=[];let h="",m=0;const y=e.baseIndentSize||2;for(;m<u.length;){const b=u[m],v=b.match(e.itemPattern);if(!v){if(d.length>0)break;if(b.trim()===""){m+=1;continue}else return}const S=e.extractItemData(v),{indentLevel:E,mainContent:C}=S;h=`${h}${b}
`;const k=[C];for(m+=1;m<u.length;){const F=u[m];if(F.trim()===""){const I=u.slice(m+1).findIndex(Q=>Q.trim()!=="");if(I===-1)break;if((((s=(r=u[m+1+I].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>E){k.push(F),h=`${h}${F}
`,m+=1;continue}else break}if((((c=(a=F.match(/^(\s*)/))==null?void 0:a[1])==null?void 0:c.length)||0)>E)k.push(F),h=`${h}${F}
`,m+=1;else break}let T;const j=k.slice(1);if(j.length>0){const F=j.map(Y=>Y.slice(E+y)).join(`
`);F.trim()&&(e.customNestedParser?T=e.customNestedParser(F):T=n.blockTokens(F))}const P=e.createToken(S,T);d.push(P)}if(d.length!==0)return{items:d,raw:h.trim()}}function jm(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(r):n,[a,...c]=t.content,u=e.renderChildren([a]),d=[`${s}${u}`];return c&&c.length>0&&c.forEach(h=>{const m=e.renderChildren([h]);if(m){const y=m.split(`
`).map(b=>b?e.indent(b):"").join(`
`);d.push(y)}}),d.join(`
`)}function IR(t,e,n={}){const{state:r}=e,{doc:s,tr:a}=r,c=t;s.descendants((u,d)=>{const h=a.mapping.map(d),m=a.mapping.map(d)+u.nodeSize;let y=null;if(u.marks.forEach(v=>{if(v!==c)return!1;y=v}),!y)return;let b=!1;if(Object.keys(n).forEach(v=>{n[v]!==y.attrs[v]&&(b=!0)}),b){const v=t.type.create({...t.attrs,...n});a.removeMark(h,m,t.type),a.addMark(h,m,v)}}),a.docChanged&&e.view.dispatch(a)}var Zt=class K2 extends Mm{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new K2(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function es(t){return new CR({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const a=Ue(t.getAttributes,void 0,r,s);if(a===!1||a===null)return null;const{tr:c}=e,u=r[r.length-1],d=r[0];let h=n.to;if(u){const m=d.search(/\S/),y=n.from+d.indexOf(u),b=y+u.length;if(Am(n.from,n.to,e.doc).filter(S=>S.mark.type.excluded.find(C=>C===t.type&&C!==S.mark.type)).filter(S=>S.to>y).length)return null;b<n.to&&c.delete(b,n.to),y>n.from&&c.delete(n.from+m,y),h=n.from+m+u.length,c.addMark(n.from+m,h,t.type.create(a||{})),c.removeStoredMark(t.type)}}})}var Jh,Dx;function qR(){return Dx||(Dx=1,Jh=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[s]))return!1;for(s=r;s--!==0;){var c=a[s];if(!(c==="_owner"&&e.$$typeof)&&!t(e[c],n[c]))return!1}return!0}return e!==e&&n!==n}),Jh}var PR=qR();const FR=$p(PR);var Xh={exports:{}},Qh={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function $R(){if(_x)return Qh;_x=1;var t=La(),e=Iv();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,c=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Qh.useSyncExternalStoreWithSelector=function(h,m,y,b,v){var S=a(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function k(Y){if(!T){if(T=!0,j=Y,Y=b(Y),v!==void 0&&E.hasValue){var I=E.value;if(v(I,Y))return P=I}return P=Y}if(I=P,r(j,Y))return I;var ne=b(Y);return v!==void 0&&v(I,ne)?(j=Y,I):(j=Y,P=ne)}var T=!1,j,P,F=y===void 0?null:y;return[function(){return k(m())},F===null?void 0:function(){return k(F())}]},[m,y,b,v]);var C=s(h,S[0],S[1]);return c(function(){E.hasValue=!0,E.value=C},[C]),d(C),C},Qh}var zx;function KR(){return zx||(zx=1,Xh.exports=$R()),Xh.exports}var GR=KR(),YR=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},JR=({contentComponent:t})=>{const e=qv.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return x.jsx(x.Fragment,{children:Object.values(e)})};function XR(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:ST.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var QR=class extends Bt.Component{constructor(t){var e;super(t),this.editorContentRef=Bt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=XR(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:YR(e,this.editorContentRef),...n}),t?.contentComponent&&x.jsx(JR,{contentComponent:t.contentComponent})]})}},ZR=A.forwardRef((t,e)=>{const n=Bt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Bt.createElement(QR,{key:n,innerRef:e,...t})}),WR=Bt.memo(ZR),ej=typeof window<"u"?A.useLayoutEffect:A.useEffect,tj=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function nj(t){var e;const[n]=A.useState(()=>new tj(t.editor)),r=GR.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:FR);return ej(()=>n.watch(t.editor),[t.editor,n]),A.useDebugValue(r),r}var rj=!1,_p=typeof window>"u",ij=_p||!!(typeof window<"u"&&window.next),sj=class G2{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?_p||ij?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,a;return(a=(s=this.options.current).onBeforeCreate)==null?void 0:a.call(s,...r)},onBlur:(...r)=>{var s,a;return(a=(s=this.options.current).onBlur)==null?void 0:a.call(s,...r)},onCreate:(...r)=>{var s,a;return(a=(s=this.options.current).onCreate)==null?void 0:a.call(s,...r)},onDestroy:(...r)=>{var s,a;return(a=(s=this.options.current).onDestroy)==null?void 0:a.call(s,...r)},onFocus:(...r)=>{var s,a;return(a=(s=this.options.current).onFocus)==null?void 0:a.call(s,...r)},onSelectionUpdate:(...r)=>{var s,a;return(a=(s=this.options.current).onSelectionUpdate)==null?void 0:a.call(s,...r)},onTransaction:(...r)=>{var s,a;return(a=(s=this.options.current).onTransaction)==null?void 0:a.call(s,...r)},onUpdate:(...r)=>{var s,a;return(a=(s=this.options.current).onUpdate)==null?void 0:a.call(s,...r)},onContentError:(...r)=>{var s,a;return(a=(s=this.options.current).onContentError)==null?void 0:a.call(s,...r)},onDrop:(...r)=>{var s,a;return(a=(s=this.options.current).onDrop)==null?void 0:a.call(s,...r)},onPaste:(...r)=>{var s,a;return(a=(s=this.options.current).onPaste)==null?void 0:a.call(s,...r)},onDelete:(...r)=>{var s,a;return(a=(s=this.options.current).onDelete)==null?void 0:a.call(s,...r)}};return new DR(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,a)=>{var c;return s===((c=n.extensions)==null?void 0:c[a])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?G2.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function lj(t={},e=[]){const n=A.useRef(t);n.current=t;const[r]=A.useState(()=>new sj(n)),s=qv.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return A.useDebugValue(s),A.useEffect(r.onRender(e)),nj({editor:s,selector:({transactionNumber:a})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&a===0?0:a+1}),s}var aj=A.createContext({editor:null});aj.Consumer;var oj=A.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),cj=()=>A.useContext(oj);Bt.forwardRef((t,e)=>{const{onDragStart:n}=cj(),r=t.as||"div";return x.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Bt.createContext({markViewContentRef:()=>{}});var nu=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},uj=/^\s*>\s$/,fj=Zt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return nu("blockquote",{...rt(this.options.HTMLAttributes,t),children:nu("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=[];return t.content.forEach(s=>{const c=e.renderChildren(s).split(`
`).map(u=>`> ${u}`).join(`
`);n.push(c)}),n.flatMap(s=>[s,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[rl({find:uj,type:this.type})]}}),dj=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,hj=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,pj=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,mj=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,gj=mi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return nu("strong",{...rt(this.options.HTMLAttributes,t),children:nu("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[nl({find:dj,type:this.type}),nl({find:pj,type:this.type})]},addPasteRules(){return[es({find:hj,type:this.type}),es({find:mj,type:this.type})]}}),yj=/(^|[^`])`([^`]+)`(?!`)$/,bj=/(^|[^`])`([^`]+)`(?!`)/g,xj=mi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",rt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[nl({find:yj,type:this.type})]},addPasteRules(){return[es({find:bj,type:this.type})]}}),Zh=4,vj=/^```([a-z]+)?[\s\n]$/,Sj=/^~~~([a-z]+)?[\s\n]$/,wj=Zt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Zh,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const a=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(c=>c.startsWith(n)).map(c=>c.replace(n,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",rt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Zh,{state:r}=t,{selection:s}=r,{$from:a,empty:c}=s;if(a.parent.type!==this.type)return!1;const u=" ".repeat(n);return c?t.commands.insertContent(u):t.commands.command(({tr:d})=>{const{from:h,to:m}=s,v=r.doc.textBetween(h,m,`
`,`
`).split(`
`).map(S=>u+S).join(`
`);return d.replaceWith(h,m,r.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Zh,{state:r}=t,{selection:s}=r,{$from:a,empty:c}=s;return a.parent.type!==this.type?!1:c?t.commands.command(({tr:u})=>{var d;const{pos:h}=a,m=a.start(),y=a.end(),v=r.doc.textBetween(m,y,`
`,`
`).split(`
`);let S=0,E=0;const C=h-m;for(let Y=0;Y<v.length;Y+=1){if(E+v[Y].length>=C){S=Y;break}E+=v[Y].length+1}const T=((d=v[S].match(/^ */))==null?void 0:d[0])||"",j=Math.min(T.length,n);if(j===0)return!0;let P=m;for(let Y=0;Y<S;Y+=1)P+=v[Y].length+1;return u.delete(P,P+j),h-P<=j&&u.setSelection(ye.create(u.doc,P)),!0}):t.commands.command(({tr:u})=>{const{from:d,to:h}=s,b=r.doc.textBetween(d,h,`
`,`
`).split(`
`).map(v=>{var S;const E=((S=v.match(/^ */))==null?void 0:S[0])||"",C=Math.min(E.length,n);return v.slice(C)}).join(`
`);return u.replaceWith(d,h,r.schema.text(b)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const a=r.parentOffset===r.parent.nodeSize-2,c=r.parent.textContent.endsWith(`

`);return!a||!c?!1:t.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:a}=n;if(!a||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const u=s.after();return u===void 0?!1:r.nodeAt(u)?t.commands.command(({tr:h})=>(h.setSelection(Ce.near(r.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[jp({find:vj,type:this.type,getAttributes:t=>({language:t[1]})}),jp({find:Sj,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new it({key:new vt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,a=s?.mode;if(!n||!a)return!1;const{tr:c,schema:u}=t.state,d=u.text(n.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:a},d)),c.selection.$from.parent.type!==this.type&&c.setSelection(ye.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),t.dispatch(c),!0}}})]}}),Ej=Zt.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),Cj=Zt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",rt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:(t,e)=>e.indent(`
`),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:a}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:u}=r.extensionManager,d=a||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&c){const y=d.filter(b=>u.includes(b.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Nj=Zt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,rt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(r);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>jp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),Tj=Zt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",rt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!_R(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return R2(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:a,tr:c,dispatch:u})=>{if(u){const{$to:d}=c.selection,h=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?c.setSelection(ye.create(c.doc,d.pos+1)):d.nodeAfter.isBlock?c.setSelection(de.create(c.doc,d.pos)):c.setSelection(ye.create(c.doc,d.pos));else{const m=a.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,y=m?.create();y&&(c.insert(h,y),c.setSelection(ye.create(c.doc,h+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[$2({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),kj=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Aj=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Mj=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Oj=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Rj=mi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",rt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[nl({find:kj,type:this.type}),nl({find:Mj,type:this.type})]},addPasteRules(){return[es({find:Aj,type:this.type}),es({find:Oj,type:this.type})]}});const jj="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Dj="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",zp="numeric",Lp="ascii",Bp="alpha",ba="asciinumeric",ha="alphanumeric",Hp="domain",Y2="emoji",_j="scheme",zj="slashscheme",Wh="whitespace";function Lj(t,e){return t in e||(e[t]=[]),e[t]}function Ii(t,e,n){e[zp]&&(e[ba]=!0,e[ha]=!0),e[Lp]&&(e[ba]=!0,e[Bp]=!0),e[ba]&&(e[ha]=!0),e[Bp]&&(e[ha]=!0),e[ha]&&(e[Hp]=!0),e[Y2]&&(e[Hp]=!0);for(const r in e){const s=Lj(r,n);s.indexOf(t)<0&&s.push(t)}}function Bj(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Yt(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Yt.groups={};Yt.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],a=e.jr[r][1];if(a&&s.test(t))return a}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Yt.groups;let s;return e&&e.j?s=e:(s=new Yt(e),n&&r&&Ii(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const a=t.length;if(!a)return s;for(let c=0;c<a-1;c++)s=s.tt(t[c]);return s.tt(t[a-1],e,n,r)},tt(t,e,n,r){r=r||Yt.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const a=e;let c,u=s.go(t);if(u?(c=new Yt,Object.assign(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new Yt,a){if(r)if(c.t&&typeof c.t=="string"){const d=Object.assign(Bj(c.t,r),n);Ii(a,d,r)}else n&&Ii(a,n,r);c.t=a}return s.j[t]=c,c}};const Ee=(t,e,n,r,s)=>t.ta(e,n,r,s),et=(t,e,n,r,s)=>t.tr(e,n,r,s),Lx=(t,e,n,r,s)=>t.ts(e,n,r,s),Z=(t,e,n,r,s)=>t.tt(e,n,r,s),yr="WORD",Up="UWORD",J2="ASCIINUMERICAL",X2="ALPHANUMERICAL",_a="LOCALHOST",Vp="TLD",Ip="UTLD",Lc="SCHEME",Gs="SLASH_SCHEME",Dm="NUM",qp="WS",_m="NL",xa="OPENBRACE",va="CLOSEBRACE",ru="OPENBRACKET",iu="CLOSEBRACKET",su="OPENPAREN",lu="CLOSEPAREN",au="OPENANGLEBRACKET",ou="CLOSEANGLEBRACKET",cu="FULLWIDTHLEFTPAREN",uu="FULLWIDTHRIGHTPAREN",fu="LEFTCORNERBRACKET",du="RIGHTCORNERBRACKET",hu="LEFTWHITECORNERBRACKET",pu="RIGHTWHITECORNERBRACKET",mu="FULLWIDTHLESSTHAN",gu="FULLWIDTHGREATERTHAN",yu="AMPERSAND",bu="APOSTROPHE",xu="ASTERISK",ei="AT",vu="BACKSLASH",Su="BACKTICK",wu="CARET",ri="COLON",zm="COMMA",Eu="DOLLAR",Fn="DOT",Cu="EQUALS",Lm="EXCLAMATION",Cn="HYPHEN",Sa="PERCENT",Nu="PIPE",Tu="PLUS",ku="POUND",wa="QUERY",Bm="QUOTE",Q2="FULLWIDTHMIDDLEDOT",Hm="SEMI",$n="SLASH",Ea="TILDE",Au="UNDERSCORE",Z2="EMOJI",Mu="SYM";var W2=Object.freeze({__proto__:null,ALPHANUMERICAL:X2,AMPERSAND:yu,APOSTROPHE:bu,ASCIINUMERICAL:J2,ASTERISK:xu,AT:ei,BACKSLASH:vu,BACKTICK:Su,CARET:wu,CLOSEANGLEBRACKET:ou,CLOSEBRACE:va,CLOSEBRACKET:iu,CLOSEPAREN:lu,COLON:ri,COMMA:zm,DOLLAR:Eu,DOT:Fn,EMOJI:Z2,EQUALS:Cu,EXCLAMATION:Lm,FULLWIDTHGREATERTHAN:gu,FULLWIDTHLEFTPAREN:cu,FULLWIDTHLESSTHAN:mu,FULLWIDTHMIDDLEDOT:Q2,FULLWIDTHRIGHTPAREN:uu,HYPHEN:Cn,LEFTCORNERBRACKET:fu,LEFTWHITECORNERBRACKET:hu,LOCALHOST:_a,NL:_m,NUM:Dm,OPENANGLEBRACKET:au,OPENBRACE:xa,OPENBRACKET:ru,OPENPAREN:su,PERCENT:Sa,PIPE:Nu,PLUS:Tu,POUND:ku,QUERY:wa,QUOTE:Bm,RIGHTCORNERBRACKET:du,RIGHTWHITECORNERBRACKET:pu,SCHEME:Lc,SEMI:Hm,SLASH:$n,SLASH_SCHEME:Gs,SYM:Mu,TILDE:Ea,TLD:Vp,UNDERSCORE:Au,UTLD:Ip,UWORD:Up,WORD:yr,WS:qp});const mr=/[a-z]/,ca=new RegExp("\\p{L}","u"),ep=new RegExp("\\p{Emoji}","u"),gr=/\d/,tp=/\s/,Bx="\r",np=`
`,Hj="️",Uj="‍",rp="￼";let Ec=null,Cc=null;function Vj(t=[]){const e={};Yt.groups=e;const n=new Yt;Ec==null&&(Ec=Hx(jj)),Cc==null&&(Cc=Hx(Dj)),Z(n,"'",bu),Z(n,"{",xa),Z(n,"}",va),Z(n,"[",ru),Z(n,"]",iu),Z(n,"(",su),Z(n,")",lu),Z(n,"<",au),Z(n,">",ou),Z(n,"（",cu),Z(n,"）",uu),Z(n,"「",fu),Z(n,"」",du),Z(n,"『",hu),Z(n,"』",pu),Z(n,"＜",mu),Z(n,"＞",gu),Z(n,"&",yu),Z(n,"*",xu),Z(n,"@",ei),Z(n,"`",Su),Z(n,"^",wu),Z(n,":",ri),Z(n,",",zm),Z(n,"$",Eu),Z(n,".",Fn),Z(n,"=",Cu),Z(n,"!",Lm),Z(n,"-",Cn),Z(n,"%",Sa),Z(n,"|",Nu),Z(n,"+",Tu),Z(n,"#",ku),Z(n,"?",wa),Z(n,'"',Bm),Z(n,"/",$n),Z(n,";",Hm),Z(n,"~",Ea),Z(n,"_",Au),Z(n,"\\",vu),Z(n,"・",Q2);const r=et(n,gr,Dm,{[zp]:!0});et(r,gr,r);const s=et(r,mr,J2,{[ba]:!0}),a=et(r,ca,X2,{[ha]:!0}),c=et(n,mr,yr,{[Lp]:!0});et(c,gr,s),et(c,mr,c),et(s,gr,s),et(s,mr,s);const u=et(n,ca,Up,{[Bp]:!0});et(u,mr),et(u,gr,a),et(u,ca,u),et(a,gr,a),et(a,mr),et(a,ca,a);const d=Z(n,np,_m,{[Wh]:!0}),h=Z(n,Bx,qp,{[Wh]:!0}),m=et(n,tp,qp,{[Wh]:!0});Z(n,rp,m),Z(h,np,d),Z(h,rp,m),et(h,tp,m),Z(m,Bx),Z(m,np),et(m,tp,m),Z(m,rp,m);const y=et(n,ep,Z2,{[Y2]:!0});Z(y,"#"),et(y,ep,y),Z(y,Hj,y);const b=Z(y,Uj);Z(b,"#"),et(b,ep,y);const v=[[mr,c],[gr,s]],S=[[mr,null],[ca,u],[gr,a]];for(let E=0;E<Ec.length;E++)Qr(n,Ec[E],Vp,yr,v);for(let E=0;E<Cc.length;E++)Qr(n,Cc[E],Ip,Up,S);Ii(Vp,{tld:!0,ascii:!0},e),Ii(Ip,{utld:!0,alpha:!0},e),Qr(n,"file",Lc,yr,v),Qr(n,"mailto",Lc,yr,v),Qr(n,"http",Gs,yr,v),Qr(n,"https",Gs,yr,v),Qr(n,"ftp",Gs,yr,v),Qr(n,"ftps",Gs,yr,v),Ii(Lc,{scheme:!0,ascii:!0},e),Ii(Gs,{slashscheme:!0,ascii:!0},e),t=t.sort((E,C)=>E[0]>C[0]?1:-1);for(let E=0;E<t.length;E++){const C=t[E][0],T=t[E][1]?{[_j]:!0}:{[zj]:!0};C.indexOf("-")>=0?T[Hp]=!0:mr.test(C)?gr.test(C)?T[ba]=!0:T[Lp]=!0:T[zp]=!0,Lx(n,C,C,T)}return Lx(n,"localhost",_a,{ascii:!0}),n.jd=new Yt(Mu),{start:n,tokens:Object.assign({groups:e},W2)}}function ew(t,e){const n=Ij(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=n.length,s=[];let a=0,c=0;for(;c<r;){let u=t,d=null,h=0,m=null,y=-1,b=-1;for(;c<r&&(d=u.go(n[c]));)u=d,u.accepts()?(y=0,b=0,m=u):y>=0&&(y+=n[c].length,b++),h+=n[c].length,a+=n[c].length,c++;a-=y,c-=b,h-=y,s.push({t:m.t,v:e.slice(a-h,a),s:a-h,e:a})}return s}function Ij(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),a,c=s<55296||s>56319||r+1===n||(a=t.charCodeAt(r+1))<56320||a>57343?t[r]:t.slice(r,r+2);e.push(c),r+=c.length}return e}function Qr(t,e,n,r,s){let a;const c=e.length;for(let u=0;u<c-1;u++){const d=e[u];t.j[d]?a=t.j[d]:(a=new Yt(r),a.jr=s.slice(),t.j[d]=a),t=a}return a=new Yt(n),a.jr=s.slice(),t.j[e[c-1]]=a,a}function Hx(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let a=0;for(;s.indexOf(t[r+a])>=0;)a++;if(a>0){e.push(n.join(""));for(let c=parseInt(t.substring(r,r+a),10);c>0;c--)n.pop();r+=a}else n.push(t[r]),r++}return e}const za={defaultProtocol:"http",events:null,format:Ux,formatHref:Ux,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Um(t,e=null){let n=Object.assign({},za);t&&(n=Object.assign(n,t instanceof Um?t.o:t));const r=n.ignoreTags,s=[];for(let a=0;a<r.length;a++)s.push(r[a].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}Um.prototype={o:za,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:za[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Ux(t){return t}function tw(t,e){this.t="token",this.v=t,this.tk=e}tw.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=za.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),a=this.toFormattedString(t),c={},u=t.get("className",n,e),d=t.get("target",n,e),h=t.get("rel",n,e),m=t.getObj("attributes",n,e),y=t.getObj("events",n,e);return c.href=r,u&&(c.class=u),d&&(c.target=d),h&&(c.rel=h),m&&Object.assign(c,m),{tagName:s,attributes:c,content:a,eventListeners:y}}};function Zu(t,e){class n extends tw{constructor(s,a){super(s,a),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Vx=Zu("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Ix=Zu("text"),qj=Zu("nl"),Nc=Zu("url",{isLink:!0,toHref(t=za.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==_a&&t[1].t===ri}}),En=t=>new Yt(t);function Pj({groups:t}){const e=t.domain.concat([yu,xu,ei,vu,Su,wu,Eu,Cu,Cn,Dm,Sa,Nu,Tu,ku,$n,Mu,Ea,Au]),n=[bu,ri,zm,Fn,Lm,Sa,wa,Bm,Hm,au,ou,xa,va,iu,ru,su,lu,cu,uu,fu,du,hu,pu,mu,gu],r=[yu,bu,xu,vu,Su,wu,Eu,Cu,Cn,xa,va,Sa,Nu,Tu,ku,wa,$n,Mu,Ea,Au],s=En(),a=Z(s,Ea);Ee(a,r,a),Ee(a,t.domain,a);const c=En(),u=En(),d=En();Ee(s,t.domain,c),Ee(s,t.scheme,u),Ee(s,t.slashscheme,d),Ee(c,r,a),Ee(c,t.domain,c);const h=Z(c,ei);Z(a,ei,h),Z(u,ei,h),Z(d,ei,h);const m=Z(a,Fn);Ee(m,r,a),Ee(m,t.domain,a);const y=En();Ee(h,t.domain,y),Ee(y,t.domain,y);const b=Z(y,Fn);Ee(b,t.domain,y);const v=En(Vx);Ee(b,t.tld,v),Ee(b,t.utld,v),Z(h,_a,v);const S=Z(y,Cn);Z(S,Cn,S),Ee(S,t.domain,y),Ee(v,t.domain,y),Z(v,Fn,b),Z(v,Cn,S);const E=Z(v,ri);Ee(E,t.numeric,Vx);const C=Z(c,Cn),k=Z(c,Fn);Z(C,Cn,C),Ee(C,t.domain,c),Ee(k,r,a),Ee(k,t.domain,c);const T=En(Nc);Ee(k,t.tld,T),Ee(k,t.utld,T),Ee(T,t.domain,c),Ee(T,r,a),Z(T,Fn,k),Z(T,Cn,C),Z(T,ei,h);const j=Z(T,ri),P=En(Nc);Ee(j,t.numeric,P);const F=En(Nc),Y=En();Ee(F,e,F),Ee(F,n,Y),Ee(Y,e,F),Ee(Y,n,Y),Z(T,$n,F),Z(P,$n,F);const I=Z(u,ri),ne=Z(d,ri),ae=Z(ne,$n),Q=Z(ae,$n);Ee(u,t.domain,c),Z(u,Fn,k),Z(u,Cn,C),Ee(d,t.domain,c),Z(d,Fn,k),Z(d,Cn,C),Ee(I,t.domain,F),Z(I,$n,F),Z(I,wa,F),Ee(Q,t.domain,F),Ee(Q,e,F),Z(Q,$n,F);const re=[[xa,va],[ru,iu],[su,lu],[au,ou],[cu,uu],[fu,du],[hu,pu],[mu,gu]];for(let ge=0;ge<re.length;ge++){const[me,xe]=re[ge],Ne=Z(F,me);Z(Y,me,Ne),Z(Ne,xe,F);const L=En(Nc);Ee(Ne,e,L);const J=En();Ee(Ne,n),Ee(L,e,L),Ee(L,n,J),Ee(J,e,L),Ee(J,n,J),Z(L,xe,F),Z(J,xe,F)}return Z(s,_a,T),Z(s,_m,qj),{start:s,tokens:W2}}function Fj(t,e,n){let r=n.length,s=0,a=[],c=[];for(;s<r;){let u=t,d=null,h=null,m=0,y=null,b=-1;for(;s<r&&!(d=u.go(n[s].t));)c.push(n[s++]);for(;s<r&&(h=d||u.go(n[s].t));)d=null,u=h,u.accepts()?(b=0,y=u):b>=0&&b++,s++,m++;if(b<0)s-=m,s<r&&(c.push(n[s]),s++);else{c.length>0&&(a.push(ip(Ix,e,c)),c=[]),s-=b,m-=b;const v=y.t,S=n.slice(s-m,s);a.push(ip(v,e,S))}}return c.length>0&&a.push(ip(Ix,e,c)),a}function ip(t,e,n){const r=n[0].s,s=n[n.length-1].e,a=e.slice(r,s);return new t(a,n)}const $j=typeof console<"u"&&console&&console.warn||(()=>{}),Kj="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ye={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Gj(){return Yt.groups={},Ye.scanner=null,Ye.parser=null,Ye.tokenQueue=[],Ye.pluginQueue=[],Ye.customSchemes=[],Ye.initialized=!1,Ye}function qx(t,e=!1){if(Ye.initialized&&$j(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Kj}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ye.customSchemes.push([t,e])}function Yj(){Ye.scanner=Vj(Ye.customSchemes);for(let t=0;t<Ye.tokenQueue.length;t++)Ye.tokenQueue[t][1]({scanner:Ye.scanner});Ye.parser=Pj(Ye.scanner.tokens);for(let t=0;t<Ye.pluginQueue.length;t++)Ye.pluginQueue[t][1]({scanner:Ye.scanner,parser:Ye.parser});return Ye.initialized=!0,Ye}function Vm(t){return Ye.initialized||Yj(),Fj(Ye.parser.start,t,ew(Ye.scanner.start,t))}Vm.scan=ew;function nw(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Um(n),s=Vm(t),a=[];for(let c=0;c<s.length;c++){const u=s[c];u.isLink&&(!e||u.t===e)&&r.check(u)&&a.push(u.toFormattedObject(r))}return a}var Im="[\0-   ᠎ -\u2029 　]",Jj=new RegExp(Im),Xj=new RegExp(`${Im}$`),Qj=new RegExp(Im,"g");function Zj(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Wj(t){return new it({key:new vt("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(h=>h.docChanged)&&!n.doc.eq(r.doc),a=e.some(h=>h.getMeta("preventAutolink"));if(!s||a)return;const{tr:c}=r,u=E2(n.doc,[...e]);if(O2(u).forEach(({newRange:h})=>{const m=U5(r.doc,h,v=>v.isTextblock);let y,b;if(m.length>1)y=m[0],b=r.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ");else if(m.length){const v=r.doc.textBetween(h.from,h.to," "," ");if(!Xj.test(v))return;y=m[0],b=r.doc.textBetween(y.pos,h.to,void 0," ")}if(y&&b){const v=b.split(Jj).filter(Boolean);if(v.length<=0)return!1;const S=v[v.length-1],E=y.pos+b.lastIndexOf(S);if(!S)return!1;const C=Vm(S).map(k=>k.toObject(t.defaultProtocol));if(!Zj(C))return!1;C.filter(k=>k.isLink).map(k=>({...k,from:E+k.start+1,to:E+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>t.validate(k.value)).filter(k=>t.shouldAutoLink(k.value)).forEach(k=>{Am(k.from,k.to,r.doc).some(T=>T.mark.type===t.type)||c.addMark(k.from,k.to,t.type.create({href:k.href}))})}}),!!c.steps.length)return c}})}function e4(t){return new it({key:new vt("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,a;if(r.button!==0||!e.editable)return!1;let c=null;if(r.target instanceof HTMLAnchorElement)c=r.target;else{let m=r.target;const y=[];for(;m.nodeName!=="DIV";)y.push(m),m=m.parentNode;c=y.find(b=>b.nodeName==="A")}if(!c)return!1;const u=M2(e.state,t.type.name),d=(s=c?.href)!=null?s:u.href,h=(a=c?.target)!=null?a:u.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),c&&d?(window.open(d,h),!0):!1}}})}function t4(t){return new it({key:new vt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:s}=t,{state:a}=e,{selection:c}=a,{empty:u}=c;if(u)return!1;let d="";r.content.forEach(m=>{d+=m.textContent});const h=nw(d,{defaultProtocol:t.defaultProtocol}).find(m=>m.isLink&&m.value===d);return!d||!h||s!==void 0&&!s(h.href)?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function zi(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(Qj,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var n4=mi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){qx(t);return}qx(t.scheme,t.optionalSlashes)})},onDestroy(){Gj()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!zi(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!zi(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!zi(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",rt(this.options.HTMLAttributes,t),0]:["a",rt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!zi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!zi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[es({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=nw(t).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:c=>!!zi(c,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(a=>{this.options.shouldAutoLink(a.value)&&e.push({text:a.value,data:{href:a.href},index:a.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(Wj({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!zi(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(e4({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(t4({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),r4=Object.defineProperty,i4=(t,e)=>{for(var n in e)r4(t,n,{get:e[n],enumerable:!0})},s4="listItem",Px="textStyle",Fx=/^\s*([-+*])\s$/,rw=Zt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",rt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(s4,this.editor.getAttributes(Px)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=rl({find:Fx,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=rl({find:Fx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Px),editor:this.editor})),[t]}}),iw=Zt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",rt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const c=t.tokens.slice(1),u=e.parseChildren(c);n.push(...u)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>jm(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),l4={};i4(l4,{findListItemPos:()=>Ya,getNextListDepth:()=>qm,handleBackspace:()=>Pp,handleDelete:()=>Fp,hasListBefore:()=>sw,hasListItemAfter:()=>a4,hasListItemBefore:()=>lw,listItemHasSubList:()=>aw,nextListIsDeeper:()=>ow,nextListIsHigher:()=>cw});var Ya=(t,e)=>{const{$from:n}=e.selection,r=ht(t,e.schema);let s=null,a=n.depth,c=n.pos,u=null;for(;a>0&&u===null;)s=n.node(a),s.type===r?u=a:(a-=1,c-=1);return u===null?null:{$pos:e.doc.resolve(c),depth:u}},qm=(t,e)=>{const n=Ya(t,e);if(!n)return!1;const[,r]=J5(e,t,n.$pos.pos+4);return r},sw=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),a=t.doc.resolve(s).node();return!(!a||!n.includes(a.type.name))},lw=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},aw=(t,e,n)=>{if(!n)return!1;const r=ht(t,e.schema);let s=!1;return n.descendants(a=>{a.type===r&&(s=!0)}),s},Pp=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!di(t.state,e)&&sw(t.state,e,n)){const{$anchor:u}=t.state.selection,d=t.state.doc.resolve(u.before()-1),h=[];d.node().descendants((b,v)=>{b.type.name===e&&h.push({node:b,pos:v})});const m=h.at(-1);if(!m)return!1;const y=t.state.doc.resolve(d.start()+m.pos+1);return t.chain().cut({from:u.start()-1,to:u.end()+1},y.end()).joinForward().run()}if(!di(t.state,e)||!W5(t.state))return!1;const r=Ya(e,t.state);if(!r)return!1;const a=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),c=aw(e,t.state,a);return lw(e,t.state)&&!c?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},ow=(t,e)=>{const n=qm(t,e),r=Ya(t,e);return!r||!n?!1:n>r.depth},cw=(t,e)=>{const n=qm(t,e),r=Ya(t,e);return!r||!n?!1:n<r.depth},Fp=(t,e)=>{if(!di(t.state,e)||!Z5(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:ow(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():cw(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},a4=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},uw=$e.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Fp(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Fp(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Pp(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Pp(t,n,r)&&(e=!0)}),e}}}}),$x=/^(\s*)(\d+)\.\s+(.*)$/,o4=/^\s/;function c4(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n],a=s.match($x);if(!a)break;const[,c,u,d]=a,h=c.length;let m=d,y=n+1;const b=[s];for(;y<t.length;){const v=t[y];if(v.match($x))break;if(v.trim()==="")b.push(v),m+=`
`,y+=1;else if(v.match(o4))b.push(v),m+=`
${v.slice(h+2)}`,y+=1;else break}e.push({indent:h,number:parseInt(u,10),content:m.trim(),raw:b.join(`
`)}),r=y,n=y}return[e,r]}function fw(t,e,n){var r;const s=[];let a=0;for(;a<t.length;){const c=t[a];if(c.indent===e){const u=c.content.split(`
`),d=((r=u[0])==null?void 0:r.trim())||"",h=[];d&&h.push({type:"paragraph",raw:d,tokens:n.inlineTokens(d)});const m=u.slice(1).join(`
`).trim();if(m){const v=n.blockTokens(m);h.push(...v)}let y=a+1;const b=[];for(;y<t.length&&t[y].indent>e;)b.push(t[y]),y+=1;if(b.length>0){const v=Math.min(...b.map(E=>E.indent)),S=fw(b,v,n);h.push({type:"list",ordered:!0,start:b[0].number,items:S,raw:b.map(E=>E.raw).join(`
`)})}s.push({type:"list_item",raw:c.raw,tokens:h}),a=y}else a+=1}return s}function u4(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const a=e.parseChildren([s]);r.push({type:"paragraph",content:a})}else{const a=e.parseChildren([s]);a.length>0&&r.push(...a)}}),{type:"listItem",content:r}})}var f4="listItem",Kx="textStyle",Gx=/^(\d+)\.\s$/,dw=Zt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",rt(this.options.HTMLAttributes,n),0]:["ol",rt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?u4(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const s=t.split(`
`),[a,c]=c4(s);if(a.length===0)return;const u=fw(a,0,n);return u.length===0?void 0:{type:"list",ordered:!0,start:((r=a[0])==null?void 0:r.number)||1,items:u,raw:s.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(f4,this.editor.getAttributes(Kx)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=rl({find:Gx,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=rl({find:Gx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Kx)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),d4=/^\s*(\[([( |x])?\])\s$/,h4=Zt.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",rt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return jm(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),a=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),d=document.createElement("div"),h=m=>{var y,b;u.ariaLabel=((b=(y=this.options.a11y)==null?void 0:y.checkboxLabel)==null?void 0:b.call(y,m,u.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};return h(t),a.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",m=>m.preventDefault()),u.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:y}=m.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:b})=>{const v=n();if(typeof v!="number")return!1;const S=b.doc.nodeAt(v);return b.setNodeMarkup(v,void 0,{...S?.attrs,checked:y}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,y)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,y])=>{s.setAttribute(m,y)}),s.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,a.append(u,c),s.append(a,d),Object.entries(e).forEach(([m,y])=>{s.setAttribute(m,y)}),{dom:s,contentDOM:d,update:m=>m.type!==this.type?!1:(s.dataset.checked=m.attrs.checked,u.checked=m.attrs.checked,h(m),!0)}}},addInputRules(){return[rl({find:d4,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),p4=Zt.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",rt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=a=>{const c=Dp(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,d)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:n.inlineTokens(u.mainContent),nestedTokens:d}),customNestedParser:r},n);return c?[{type:"taskList",raw:c.raw,items:c.items}]:n.blockTokens(a)},s=Dp(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,c)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:c}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});$e.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(rw.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(iw.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(uw.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(dw.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(h4.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(p4.configure(this.options.taskList)),t}});var m4=Zt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",rt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),g4=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,y4=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,b4=mi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",rt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[nl({find:g4,type:this.type})]},addPasteRules(){return[es({find:y4,type:this.type})]}}),x4=Zt.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),v4=mi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",rt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const a=s[2].trim();return{type:"underline",raw:s[0],text:a,tokens:n.inlineTokens(a)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function S4(t={}){return new it({view(e){return new w4(e,t)}})}class w4{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let a=c=>{this[s](c)};return e.dom.addEventListener(s,a),{name:s,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,a=s.getBoundingClientRect(),c=a.width/s.offsetWidth,u=a.height/s.offsetHeight;if(n){let y=e.nodeBefore,b=e.nodeAfter;if(y||b){let v=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(v){let S=v.getBoundingClientRect(),E=y?S.bottom:S.top;y&&b&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*u;r={left:S.left,right:S.right,top:E-C,bottom:E+C}}}}if(!r){let y=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*c;r={left:y.left-b,right:y.left+b,top:y.top,bottom:y.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,m=-pageYOffset;else{let y=d.getBoundingClientRect(),b=y.width/d.offsetWidth,v=y.height/d.offsetHeight;h=y.left-d.scrollLeft*b,m=y.top-d.scrollTop*v}this.element.style.left=(r.left-h)/c+"px",this.element.style.top=(r.top-m)/u+"px",this.element.style.width=(r.right-r.left)/c+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,a=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!a){let c=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=mS(this.editorView.state.doc,c,this.editorView.dragging.slice);u!=null&&(c=u)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class tt extends Ce{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return tt.valid(r)?new tt(r):Ce.near(r)}content(){return ie.empty}eq(e){return e instanceof tt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new tt(e.resolve(n.pos))}getBookmark(){return new Pm(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!E4(e)||!C4(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&tt.valid(e))return e;let s=e.pos,a=null;for(let c=e.depth;;c--){let u=e.node(c);if(n>0?e.indexAfter(c)<u.childCount:e.index(c)>0){a=u.child(n>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;s+=n;let d=e.doc.resolve(s);if(tt.valid(d))return d}for(;;){let c=n>0?a.firstChild:a.lastChild;if(!c){if(a.isAtom&&!a.isText&&!de.isSelectable(a)){e=e.doc.resolve(s+a.nodeSize*n),r=!1;continue e}break}a=c,s+=n;let u=e.doc.resolve(s);if(tt.valid(u))return u}return null}}}tt.prototype.visible=!1;tt.findFrom=tt.findGapCursorFrom;Ce.jsonID("gapcursor",tt);class Pm{constructor(e){this.pos=e}map(e){return new Pm(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return tt.valid(n)?new tt(n):Ce.near(n)}}function hw(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function E4(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||hw(s.type))return!0;if(s.inlineContent)return!1}}return!0}function C4(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||hw(s.type))return!0;if(s.inlineContent)return!1}}return!0}function N4(){return new it({props:{decorations:M4,createSelectionBetween(t,e,n){return e.pos==n.pos&&tt.valid(n)?new tt(n):null},handleClick:k4,handleKeyDown:T4,handleDOMEvents:{beforeinput:A4}}})}const T4=m2({ArrowLeft:Tc("horiz",-1),ArrowRight:Tc("horiz",1),ArrowUp:Tc("vert",-1),ArrowDown:Tc("vert",1)});function Tc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,a){let c=r.selection,u=e>0?c.$to:c.$from,d=c.empty;if(c instanceof ye){if(!a.endOfTextblock(n)||u.depth==0)return!1;d=!1,u=r.doc.resolve(e>0?u.after():u.before())}let h=tt.findGapCursorFrom(u,e,d);return h?(s&&s(r.tr.setSelection(new tt(h))),!0):!1}}function k4(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!tt.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&de.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new tt(r))),!0)}function A4(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof tt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=X.empty;for(let c=r.length-1;c>=0;c--)s=X.from(r[c].createAndFill(null,s));let a=t.state.tr.replace(n.pos,n.pos,new ie(s,0,0));return a.setSelection(ye.near(a.doc.resolve(n.pos+1))),t.dispatch(a),!1}function M4(t){if(!(t.selection instanceof tt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Qe.create(t.doc,[Lt.widget(t.selection.head,e,{key:"gapcursor"})])}var Ou=200,xt=function(){};xt.prototype.append=function(e){return e.length?(e=xt.from(e),!this.length&&e||e.length<Ou&&this.leafAppend(e)||this.length<Ou&&e.leafPrepend(this)||this.appendInner(e)):this};xt.prototype.prepend=function(e){return e.length?xt.from(e).append(this):this};xt.prototype.appendInner=function(e){return new O4(this,e)};xt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?xt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};xt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};xt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};xt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(a,c){return s.push(e(a,c))},n,r),s};xt.from=function(e){return e instanceof xt?e:e&&e.length?new pw(e):xt.empty};var pw=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,a){return s==0&&a==this.length?this:new e(this.values.slice(s,a))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,a,c,u){for(var d=a;d<c;d++)if(s(this.values[d],u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,a,c,u){for(var d=a-1;d>=c;d--)if(s(this.values[d],u+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Ou)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Ou)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(xt);xt.empty=new pw([]);var O4=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,a,c){var u=this.left.length;if(s<u&&this.left.forEachInner(r,s,Math.min(a,u),c)===!1||a>u&&this.right.forEachInner(r,Math.max(s-u,0),Math.min(this.length,a)-u,c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,a,c){var u=this.left.length;if(s>u&&this.right.forEachInvertedInner(r,s-u,Math.max(a,u)-u,c+u)===!1||a<u&&this.left.forEachInvertedInner(r,Math.min(s,u),a,c)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var a=this.left.length;return s<=a?this.left.slice(r,s):r>=a?this.right.slice(r-a,s-a):this.left.slice(r,a).append(this.right.slice(0,s-a))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(xt);const R4=500;class jn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,a;n&&(s=this.remapping(r,this.items.length),a=s.maps.length);let c=e.tr,u,d,h=[],m=[];return this.items.forEach((y,b)=>{if(!y.step){s||(s=this.remapping(r,b+1),a=s.maps.length),a--,m.push(y);return}if(s){m.push(new Kn(y.map));let v=y.step.map(s.slice(a)),S;v&&c.maybeStep(v).doc&&(S=c.mapping.maps[c.mapping.maps.length-1],h.push(new Kn(S,void 0,void 0,h.length+m.length))),a--,S&&s.appendMap(S,a)}else c.maybeStep(y.step);if(y.selection)return u=s?y.selection.map(s.slice(a)):y.selection,d=new jn(this.items.slice(0,r).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:c,selection:u}}addTransform(e,n,r,s){let a=[],c=this.eventCount,u=this.items,d=!s&&u.length?u.get(u.length-1):null;for(let m=0;m<e.steps.length;m++){let y=e.steps[m].invert(e.docs[m]),b=new Kn(e.mapping.maps[m],y,n),v;(v=d&&d.merge(b))&&(b=v,m?a.pop():u=u.slice(0,u.length-1)),a.push(b),n&&(c++,n=void 0),s||(d=b)}let h=c-r.depth;return h>D4&&(u=j4(u,h),c-=h),new jn(u.append(a),c)}remapping(e,n){let r=new ka;return this.items.forEach((s,a)=>{let c=s.mirrorOffset!=null&&a-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,c)},e,n),r}addMaps(e){return this.eventCount==0?this:new jn(this.items.append(e.map(n=>new Kn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),a=e.mapping,c=e.steps.length,u=this.eventCount;this.items.forEach(b=>{b.selection&&u--},s);let d=n;this.items.forEach(b=>{let v=a.getMirror(--d);if(v==null)return;c=Math.min(c,v);let S=a.maps[v];if(b.step){let E=e.steps[v].invert(e.docs[v]),C=b.selection&&b.selection.map(a.slice(d+1,v));C&&u++,r.push(new Kn(S,E,C))}else r.push(new Kn(S))},s);let h=[];for(let b=n;b<c;b++)h.push(new Kn(a.maps[b]));let m=this.items.slice(0,s).append(h).append(r),y=new jn(m,u);return y.emptyItemCount()>R4&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],a=0;return this.items.forEach((c,u)=>{if(u>=e)s.push(c),c.selection&&a++;else if(c.step){let d=c.step.map(n.slice(r)),h=d&&d.getMap();if(r--,h&&n.appendMap(h,r),d){let m=c.selection&&c.selection.map(n.slice(r));m&&a++;let y=new Kn(h.invert(),d,m),b,v=s.length-1;(b=s.length&&s[v].merge(y))?s[v]=b:s.push(y)}}else c.map&&r--},this.items.length,0),new jn(xt.from(s.reverse()),a)}}jn.empty=new jn(xt.empty,0);function j4(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Kn{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Kn(n.getMap().invert(),n,this.selection)}}}class ti{constructor(e,n,r,s,a){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=a}}const D4=20;function _4(t,e,n,r){let s=n.getMeta(Gi),a;if(s)return s.historyState;n.getMeta(B4)&&(t=new ti(t.done,t.undone,null,0,-1));let c=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(c&&c.getMeta(Gi))return c.getMeta(Gi).redo?new ti(t.done.addTransform(n,void 0,r,Bc(e)),t.undone,Yx(n.mapping.maps),t.prevTime,t.prevComposition):new ti(t.done,t.undone.addTransform(n,void 0,r,Bc(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),d=t.prevTime==0||!c&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-r.newGroupDelay||!z4(n,t.prevRanges)),h=c?sp(t.prevRanges,n.mapping):Yx(n.mapping.maps);return new ti(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,Bc(e)),jn.empty,h,n.time,u??t.prevComposition)}else return(a=n.getMeta("rebased"))?new ti(t.done.rebased(n,a),t.undone.rebased(n,a),sp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ti(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),sp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function z4(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let a=0;a<e.length;a+=2)r<=e[a+1]&&s>=e[a]&&(n=!0)}),n}function Yx(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,a,c)=>e.push(a,c));return e}function sp(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),a=e.map(t[r+1],-1);s<=a&&n.push(s,a)}return n}function L4(t,e,n){let r=Bc(e),s=Gi.get(e).spec.config,a=(n?t.undone:t.done).popEvent(e,r);if(!a)return null;let c=a.selection.resolve(a.transform.doc),u=(n?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),s,r),d=new ti(n?u:a.remaining,n?a.remaining:u,null,0,-1);return a.transform.setSelection(c).setMeta(Gi,{redo:n,historyState:d})}let lp=!1,Jx=null;function Bc(t){let e=t.plugins;if(Jx!=e){lp=!1,Jx=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){lp=!0;break}}return lp}const Gi=new vt("history"),B4=new vt("closeHistory");function H4(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new it({key:Gi,state:{init(){return new ti(jn.empty,jn.empty,null,0,-1)},apply(e,n,r){return _4(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?gw:r=="historyRedo"?yw:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function mw(t,e){return(n,r)=>{let s=Gi.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let a=L4(s,n,t);a&&r(e?a.scrollIntoView():a)}return!0}}const gw=mw(!1,!0),yw=mw(!0,!0);$e.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new it({key:new vt("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const a=this.storage.characters({node:r.doc});if(a>s){const c=a-s,u=0,d=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const h=r.tr.deleteRange(u,d);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),a=this.storage.characters({node:e.doc});if(a<=r||s>r&&a>r&&a<=s)return!0;if(s>r&&a>r&&a>s||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,d=a-r,h=u-d,m=u;return e.deleteRange(h,m),!(this.storage.characters({node:e.doc})>r)}})]}});var U4=$e.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[S4(this.options)]}});$e.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new it({key:new vt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,a=[];if(!n||!r)return Qe.create(t,[]);let c=0;this.options.mode==="deepest"&&t.descendants((d,h)=>{if(d.isText)return;if(!(s>=h&&s<=h+d.nodeSize-1))return!1;c+=1});let u=0;return t.descendants((d,h)=>{if(d.isText||!(s>=h&&s<=h+d.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&c-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";a.push(Lt.node(h,h+d.nodeSize,{class:this.options.className}))}),Qe.create(t,a)}}})]}});var V4=$e.create({name:"gapCursor",addProseMirrorPlugins(){return[N4()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ue(fe(t,"allowGapCursor",n)))!=null?e:null}}});$e.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new it({key:new vt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const a=this.editor.isEmpty;return t.descendants((c,u)=>{const d=r>=u&&r<=u+c.nodeSize,h=!c.isLeaf&&Ju(c);if((d||!this.options.showOnlyCurrent)&&h){const m=[this.options.emptyNodeClass];a&&m.push(this.options.emptyEditorClass);const y=Lt.node(u,u+c.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:u,hasAnchor:d}):this.options.placeholder});s.push(y)}return this.options.includeChildren}),Qe.create(t,s)}}})]}});$e.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new it({key:new vt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||R2(n.selection)||t.view.dragging?null:Qe.create(n.doc,[Lt.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function Xx({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var I4=$e.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new vt(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new it({key:e,appendTransaction:(s,a,c)=>{const{doc:u,tr:d,schema:h}=c,m=e.getState(c),y=u.content.size,b=h.nodes[n];if(m)return d.insert(y,b.create())},state:{init:(s,a)=>{const c=a.tr.doc.lastChild;return!Xx({node:c,types:r})},apply:(s,a)=>{if(!s.docChanged)return a;const c=s.doc.lastChild;return!Xx({node:c,types:r})}}})]}}),q4=$e.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>gw(t,e),redo:()=>({state:t,dispatch:e})=>yw(t,e)}},addProseMirrorPlugins(){return[H4(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),P4=$e.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(gj.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(fj.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(rw.configure(this.options.bulletList)),this.options.code!==!1&&s.push(xj.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(wj.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(Ej.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(U4.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(V4.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(Cj.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(Nj.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(q4.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(Tj.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(Rj.configure(this.options.italic)),this.options.listItem!==!1&&s.push(iw.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(uw.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(n4.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(dw.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(m4.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(b4.configure(this.options.strike)),this.options.text!==!1&&s.push(x4.configure(this.options.text)),this.options.underline!==!1&&s.push(v4.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(I4.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),F4=P4,$4=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,K4=Zt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",rt(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,s,a,c;const u=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",d=(s=(r=t.attrs)==null?void 0:r.alt)!=null?s:"",h=(c=(a=t.attrs)==null?void 0:a.title)!=null?c:"";return h?`![${d}](${u} "${h}")`:`![${d}](${u})`},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[$2({find:$4,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),G4=K4,Y4=20,bw=(t,e=0)=>{const n=[];return!t.children.length||e>Y4||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...bw(r,e+1))}),n},J4=t=>{if(!t.children.length)return;const e=bw(t);e&&e.forEach(n=>{var r,s;const a=n.getAttribute("style"),c=(s=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:s.getAttribute("style");n.setAttribute("style",`${c};${a}`)})},xw=mi.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&J4(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",rt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(a=>!!a))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),X4=$e.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const a=r[s].split(":");if(a.length>=2){const c=a[0].trim().toLowerCase(),u=a.slice(1).join(":").trim();if(c==="background-color")return u.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Q4=$e.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const a=r[s].split(":");if(a.length>=2){const c=a[0].trim().toLowerCase(),u=a.slice(1).join(":").trim();if(c==="color")return u.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Z4=$e.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),W4=$e.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),eD=$e.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});$e.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(X4.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(Q4.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(Z4.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(W4.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(eD.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(xw.configure(this.options.textStyle)),t}});var tD=$e.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),nD=tD;const rD=({value:t,onChange:e,placeholder:n="Start writing your document..."})=>{const r=A.useRef(null),s=lj({extensions:[F4.configure({heading:!1,codeBlock:!1,orderedList:!1,paragraph:{HTMLAttributes:{class:"text-justify"}}}),xw,nD.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]}),G4.configure({inline:!0,allowBase64:!0,HTMLAttributes:{class:"w-full h-[350px] rounded-lg object-cover"}})],content:t,onUpdate:({editor:d})=>{e(d.getJSON())},editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none min-h-[400px] p-4"}}});if(!s)return null;const a=()=>{r.current?.click()},c=d=>{const h=d.target.files[0];if(h){const m=new FileReader;m.onload=y=>{const b=y.target.result;s.chain().focus().setImage({src:b}).run()},m.readAsDataURL(h)}d.target.value=""},u=d=>{s.chain().focus().setMark("textStyle",{fontSize:d}).run()};return x.jsxs("div",{className:"border rounded-md",onClick:d=>d.stopPropagation(),children:[x.jsxs("div",{className:"mb-4 flex flex-wrap gap-2 p-4 border-b bg-gray-50 sticky top-0 z-10",children:[x.jsx("button",{type:"button",onClick:()=>s.chain().focus().toggleBold().run(),className:`px-3 py-1 border rounded ${s.isActive("bold")?"bg-blue-500 text-white":""}`,children:"Bold"}),x.jsx("button",{type:"button",onClick:()=>s.chain().focus().toggleItalic().run(),className:`px-3 py-1 border rounded ${s.isActive("italic")?"bg-blue-500 text-white":""}`,children:"Italic"}),x.jsx("button",{type:"button",onClick:()=>s.chain().focus().toggleUnderline().run(),className:`px-3 py-1 border rounded ${s.isActive("underline")?"bg-blue-500 text-white":""}`,children:"Underline"}),x.jsxs("select",{onChange:d=>u(d.target.value),className:"px-3 py-1 border rounded",defaultValue:"",children:[x.jsx("option",{value:"",disabled:!0,children:"Font Size"}),x.jsx("option",{value:"12px",children:"12px"}),x.jsx("option",{value:"14px",children:"14px"}),x.jsx("option",{value:"16px",children:"16px"}),x.jsx("option",{value:"18px",children:"18px"}),x.jsx("option",{value:"20px",children:"20px"}),x.jsx("option",{value:"24px",children:"24px"}),x.jsx("option",{value:"28px",children:"28px"}),x.jsx("option",{value:"32px",children:"32px"})]}),x.jsx("button",{type:"button",onClick:a,className:"px-3 py-1 border rounded bg-green-500 text-white",children:"Add Image"})]}),x.jsx("input",{type:"file",ref:r,onChange:c,accept:"image/*",style:{display:"none"}}),x.jsx(WR,{editor:s,onClick:d=>d.stopPropagation()})]})},iD=()=>{const{id:t}=kN(),e=Ha(),[n,r]=A.useState(!1),[s,a]=A.useState(!1),[c,u]=A.useState({article_title:"",content:{type:"doc",content:[{type:"paragraph"}]},keyword:[],article_image:[],category:""});A.useEffect(()=>{t&&t!=="new"&&d()},[t]);const d=async()=>{try{r(!0);const v=(await De.articles.getById(t)).data;let S=v.content;Array.isArray(S)&&(S=h(S)),u({article_title:v.article_title,content:S,keyword:v.keyword||[],article_image:v.article_image||[],category:v.category||""})}catch(b){console.error("Failed to fetch article:",b)}finally{r(!1)}},h=b=>{const v=S=>S.type==="paragraph"?{type:"paragraph",content:S.children.map(E=>({type:"text",text:E.text,marks:[...E.bold?[{type:"bold"}]:[],...E.italic?[{type:"italic"}]:[],...E.underline?[{type:"underline"}]:[]]}))}:S.type==="heading-one"?{type:"heading",attrs:{level:1},content:S.children.map(E=>({type:"text",text:E.text}))}:S.type==="heading-two"?{type:"heading",attrs:{level:2},content:S.children.map(E=>({type:"text",text:E.text}))}:S.type==="heading-three"?{type:"heading",attrs:{level:3},content:S.children.map(E=>({type:"text",text:E.text}))}:S.type==="bulleted-list"?{type:"bulletList",content:S.children.map(v)}:S.type==="numbered-list"?{type:"orderedList",content:S.children.map(v)}:S.type==="list-item"?{type:"listItem",content:[{type:"paragraph",content:S.children.flatMap(E=>E.children||[]).map(E=>({type:"text",text:E.text}))}]}:S.type==="image"?{type:"image",attrs:{src:S.url}}:{type:"paragraph",content:[{type:"text",text:S.text||""}]};return{type:"doc",content:b.map(v)}},m=async b=>{b.preventDefault();try{a(!0);const v={...c};t&&t!=="new"?await De.articles.update(t,v):await De.articles.create(v),e("/articles")}catch(v){console.error("Failed to save article:",v)}finally{a(!1)}},y=b=>{const v=b.target.value.split(",").map(S=>S.trim()).filter(S=>S);u({...c,keyword:v})};return n?x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:x.jsx("div",{className:"text-lg",children:"Loading article..."})}):x.jsx("div",{className:"min-h-screen bg-white",children:x.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t&&t!=="new"?"Edit Article":"Create New Article"}),x.jsx("button",{onClick:()=>e("/articles"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Back to Articles"})]}),x.jsxs("form",{onSubmit:m,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Article Title"}),x.jsx("input",{type:"text",value:c.article_title,onChange:b=>u({...c,article_title:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter article title",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),x.jsx("input",{type:"text",value:c.category,onChange:b=>u({...c,category:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter category"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords (comma-separated)"}),x.jsx("input",{type:"text",value:c.keyword.join(", "),onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"keyword1, keyword2, keyword3"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),x.jsx(rD,{value:c.content,onChange:b=>u({...c,content:b})})]}),x.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[x.jsx("button",{type:"button",onClick:()=>e("/articles"),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:s,children:"Cancel"}),x.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:s,children:s?"Saving...":"Save Article"})]})]})]})})},sD=()=>{const t=Ha(),[e,n]=A.useState(!1),[r,s]=A.useState(""),[a,c]=A.useState(!1),[u,d]=A.useState({article_title:"",keyword:"",category:"",html_file:null,image_files:[]}),h=v=>{const S=Array.from(v.target.files),E=S.filter(C=>C.type.startsWith("image/"));E.length!==S.length&&alert("Please select only image files"),d({...u,image_files:E})},m=v=>{const S=v.target.files[0];S&&S.type==="text/html"?d({...u,html_file:S}):(alert("Please select a valid HTML file"),v.target.value="")},y=async()=>{if(!u.html_file){alert("Please select an HTML file first");return}try{const v=await u.html_file.text();s(v),c(!0)}catch(v){console.error("Preview failed:",v),alert("Failed to generate preview")}},b=async v=>{if(v.preventDefault(),!u.html_file){alert("Please select an HTML file");return}try{n(!0);const S=new FormData;S.append("html_file",u.html_file),S.append("article_title",u.article_title),S.append("keyword",u.keyword),S.append("category",u.category),u.image_files.forEach((C,k)=>{S.append("images",C)}),console.log("Uploading article with images...");const E=await De.articles.uploadArticle(S);console.log("Article uploaded successfully:",E.data),t("/articles")}catch(S){console.error("Failed to upload article:",S),alert("Failed to upload article. Please try again.")}finally{n(!1)}};return x.jsxs("div",{className:"min-h-screen bg-white",children:[x.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Upload Google Doc Article"}),x.jsx("button",{onClick:()=>t("/articles"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Back to Articles"})]}),x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"How to upload:"}),x.jsxs("ol",{className:"text-sm text-blue-800 space-y-1",children:[x.jsx("li",{children:"1. Open your Google Doc"}),x.jsx("li",{children:"2. Go to File → Download → Web Page (.html, zipped)"}),x.jsx("li",{children:"3. Unzip the downloaded file"}),x.jsx("li",{children:'4. Upload the "document.html" file below'}),x.jsx("li",{children:'5. Upload ALL images from the "images" folder'}),x.jsx("li",{children:'6. Click "Preview" to check if images are embedded correctly'}),x.jsx("li",{children:"7. Fill in title, keywords, and category, then upload"})]}),x.jsx("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded",children:x.jsxs("p",{className:"text-xs text-yellow-800",children:[x.jsx("strong",{children:"Tip:"})," Make sure to upload ALL images from the images folder. The system will automatically embed them into the HTML."]})})]}),x.jsxs("form",{onSubmit:b,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"HTML File (from Google Docs)"}),x.jsx("input",{type:"file",accept:".html",onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),u.html_file&&x.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Selected: ",u.html_file.name]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images (from Google Docs export - optional)"}),x.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.image_files.length>0&&x.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Selected: ",u.image_files.length," image(s)"]}),x.jsx("p",{className:"mt-1 text-xs text-gray-500",children:'Upload images from the "images" folder that comes with your Google Docs HTML export'})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Article Title"}),x.jsx("input",{type:"text",value:u.article_title,onChange:v=>d({...u,article_title:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter article title",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),x.jsxs("select",{value:u.category,onChange:v=>d({...u,category:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[x.jsx("option",{value:"",children:"Select a category"}),x.jsx("option",{value:"Technical",children:"Technical"}),x.jsx("option",{value:"Industry News",children:"Industry News"}),x.jsx("option",{value:"Case Studies",children:"Case Studies"}),x.jsx("option",{value:"Guides",children:"Guides"}),x.jsx("option",{value:"Other",children:"Other"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords (comma-separated)"}),x.jsx("input",{type:"text",value:u.keyword,onChange:v=>d({...u,keyword:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"keyword1, keyword2, keyword3"})]}),x.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[x.jsx("button",{type:"button",onClick:()=>t("/articles"),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:e,children:"Cancel"}),x.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50",disabled:e||!u.html_file,children:"Preview"}),x.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:e,children:e?"Uploading...":"Upload Article"})]})]})]}),a&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[x.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[x.jsx("h3",{className:"text-lg font-semibold",children:"Article Preview"}),x.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700 text-xl",children:"×"})]}),x.jsx("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:x.jsx("div",{dangerouslySetInnerHTML:{__html:r},className:"prose max-w-none"})})]})})]})},lD=()=>x.jsxs("div",{className:"flex h-screen bg-gray-50",children:[x.jsx(jA,{}),x.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[x.jsx(DA,{}),x.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-6",children:x.jsxs(av,{children:[x.jsx(un,{path:"/",element:x.jsx(op,{to:"/partnerships",replace:!0})}),x.jsx(un,{path:"/partnerships",element:x.jsx(_A,{})}),x.jsx(un,{path:"/customers",element:x.jsx(zA,{})}),x.jsx(un,{path:"/products",element:x.jsx(LA,{})}),x.jsx(un,{path:"/request-forms",element:x.jsx(BA,{})}),x.jsx(un,{path:"/project-references",element:x.jsx(VA,{})}),x.jsx(un,{path:"/news",element:x.jsx(IA,{})}),x.jsx(un,{path:"/articles",element:x.jsx(qA,{})}),x.jsx(un,{path:"/articles/edit/:id",element:x.jsx(iD,{})}),x.jsx(un,{path:"/articles/upload",element:x.jsx(sD,{})})]})})]})]});function aD(){const t=({children:n})=>{const{user:r,loading:s}=Vc();return s?x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:x.jsx("div",{className:"spinner"})}):r?n:x.jsx(op,{to:"/login"})},e=({children:n})=>{const{user:r,loading:s}=Vc();return s?x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:x.jsx("div",{className:"spinner"})}):r?x.jsx(op,{to:"/"}):n};return x.jsx(Zk,{children:x.jsx(uT,{children:x.jsx("div",{className:"min-h-screen bg-gray-50",children:x.jsxs(av,{children:[x.jsx(un,{path:"/login",element:x.jsx(e,{children:x.jsx(fA,{})})}),x.jsx(un,{path:"/*",element:x.jsx(t,{children:x.jsx(lD,{})})})]})})})})}QC.createRoot(document.getElementById("root")).render(x.jsx(Bt.StrictMode,{children:x.jsx(aD,{})}));
